<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.38.0 (20140413.2041)
 -->
<!-- Title: ml Pages: 1 -->
<svg width="5828pt" height="1980pt"
 viewBox="0.00 0.00 5827.50 1980.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1976)">
<title>ml</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-1976 5823.5,-1976 5823.5,4 -4,4"/>
<!-- ndHash -->
<g id="node1" class="node"><title>ndHash</title>
<g id="a_node1_0"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/lib.rs#:~:text=struct%20Hash" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="1972.5,-1922.5 1972.5,-1959.5 2327.5,-1959.5 2327.5,-1922.5 1972.5,-1922.5"/>
<polygon fill="none" stroke="black" points="1972.5,-1922.5 1972.5,-1959.5 2327.5,-1959.5 2327.5,-1922.5 1972.5,-1922.5"/>
<text text-anchor="start" x="2132" y="-1938.3" font-family="Arial" font-weight="bold" font-size="14.00">Hash</text>
<polygon fill="white" stroke="none" points="1972.5,-1885.5 1972.5,-1922.5 2327.5,-1922.5 2327.5,-1885.5 1972.5,-1885.5"/>
<polygon fill="none" stroke="black" points="1972.5,-1885.5 1972.5,-1922.5 2327.5,-1922.5 2327.5,-1885.5 1972.5,-1885.5"/>
<text text-anchor="start" x="1983.5" y="-1900.3" font-family="Arial" font-size="14.00">&#45; [u8; 32]</text>
<polygon fill="white" stroke="none" points="1972.5,-1803.5 1972.5,-1885.5 2327.5,-1885.5 2327.5,-1803.5 1972.5,-1803.5"/>
<polygon fill="none" stroke="black" points="1972.5,-1803.5 1972.5,-1885.5 2327.5,-1885.5 2327.5,-1803.5 1972.5,-1803.5"/>
<text text-anchor="start" x="1983.5" y="-1863.3" font-family="Arial" font-size="14.00">&#45; hash(input: &amp;[u8]) &#45;&gt; Self</text>
<text text-anchor="start" x="1983.5" y="-1848.3" font-family="Arial" font-size="14.00">&#45; from(val: [u8; 32]) &#45;&gt; Hash</text>
<text text-anchor="start" x="1983.5" y="-1833.3" font-family="Arial" font-size="14.00">&#45; fmt(&amp;self, f: &amp;mut fmt::Formatter&lt;&#39;_&gt;) &#45;&gt; fmt::Result</text>
<text text-anchor="start" x="1983.5" y="-1818.3" font-family="Arial" font-size="14.00">&#45; as_ref(&amp;self) &#45;&gt; &amp;[u8]</text>
<polygon fill="none" stroke="black" points="1971,-1802.5 1971,-1960.5 2328,-1960.5 2328,-1802.5 1971,-1802.5"/>
</a>
</g>
</g>
<!-- ndSimpleKeyManager -->
<g id="node6" class="node"><title>ndSimpleKeyManager</title>
<g id="a_node6_1"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/key_manager.rs#:~:text=struct%20SimpleKeyManager" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="1078.5,-1120.5 1078.5,-1157.5 1646.5,-1157.5 1646.5,-1120.5 1078.5,-1120.5"/>
<polygon fill="none" stroke="black" points="1078.5,-1120.5 1078.5,-1157.5 1646.5,-1157.5 1646.5,-1120.5 1078.5,-1120.5"/>
<text text-anchor="start" x="1294.5" y="-1136.3" font-family="Arial" font-weight="bold" font-size="14.00">SimpleKeyManager</text>
<polygon fill="white" stroke="none" points="1078.5,-1068.5 1078.5,-1120.5 1646.5,-1120.5 1646.5,-1068.5 1078.5,-1068.5"/>
<polygon fill="none" stroke="black" points="1078.5,-1068.5 1078.5,-1120.5 1646.5,-1120.5 1646.5,-1068.5 1078.5,-1068.5"/>
<text text-anchor="start" x="1089.5" y="-1098.3" font-family="Arial" font-size="14.00">&#45; signer: SimpleSigner</text>
<text text-anchor="start" x="1089.5" y="-1083.3" font-family="Arial" font-size="14.00">&#45; cache: Keys</text>
<polygon fill="white" stroke="none" points="1078.5,-941.5 1078.5,-1068.5 1646.5,-1068.5 1646.5,-941.5 1078.5,-941.5"/>
<polygon fill="none" stroke="black" points="1078.5,-941.5 1078.5,-1068.5 1646.5,-1068.5 1646.5,-941.5 1078.5,-941.5"/>
<text text-anchor="start" x="1089.5" y="-1046.3" font-family="Arial" font-size="14.00">&#45; from(signer: SimpleSigner) &#45;&gt; Self</text>
<text text-anchor="start" x="1089.5" y="-1031.3" font-family="Arial" font-size="14.00">&#45; add_known_key(&amp;mut self, key: PublicKey) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="1089.5" y="-1016.3" font-family="Arial" font-size="14.00">&#45; public_key_set(&amp;self) &#45;&gt; Result&lt;PublicKeySet&gt;</text>
<text text-anchor="start" x="1089.5" y="-1001.3" font-family="Arial" font-size="14.00">&#45; sign_with_child_key(&amp;self, index: &amp;[u8], tx_hash: &amp;Hash) &#45;&gt; Result&lt;NodeSignature&gt;</text>
<text text-anchor="start" x="1089.5" y="-986.3" font-family="Arial" font-size="14.00">&#45; sign(&amp;self, msg_hash: &amp;Hash) &#45;&gt; Result&lt;NodeSignature&gt;</text>
<text text-anchor="start" x="1089.5" y="-971.3" font-family="Arial" font-size="14.00">&#45; verify(&amp;self, msg_hash: &amp;Hash, key: &amp;PublicKey, signature: &amp;Signature) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="1089.5" y="-956.3" font-family="Arial" font-size="14.00">&#45; verify_known_key(&amp;self, key: &amp;PublicKey) &#45;&gt; Result&lt;()&gt;</text>
<polygon fill="none" stroke="black" points="1077.5,-940.5 1077.5,-1158.5 1647.5,-1158.5 1647.5,-940.5 1077.5,-940.5"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSimpleKeyManager -->
<g id="edge1" class="edge"><title>ndHash&#45;&gt;ndSimpleKeyManager</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1962.73,-1867.6C1799.5,-1852.12 1579.84,-1819.7 1522.5,-1755 1447.99,-1670.94 1517.78,-1357.98 1483.5,-1251 1474.84,-1223.99 1461.92,-1196.8 1447.69,-1171.55"/>
<polygon fill="black" stroke="black" points="1442.61,-1162.7 1451.49,-1169.13 1445.1,-1167.04 1447.59,-1171.37 1447.59,-1171.37 1447.59,-1171.37 1445.1,-1167.04 1443.69,-1173.61 1442.61,-1162.7 1442.61,-1162.7"/>
</g>
<!-- ndKeys -->
<g id="node7" class="node"><title>ndKeys</title>
<g id="a_node7_2"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/key_manager.rs#:~:text=struct%20Keys" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="975.5,-1544 975.5,-1581 1466.5,-1581 1466.5,-1544 975.5,-1544"/>
<polygon fill="none" stroke="black" points="975.5,-1544 975.5,-1581 1466.5,-1581 1466.5,-1544 975.5,-1544"/>
<text text-anchor="start" x="1203" y="-1559.8" font-family="Arial" font-weight="bold" font-size="14.00">Keys</text>
<polygon fill="white" stroke="none" points="975.5,-1507 975.5,-1544 1466.5,-1544 1466.5,-1507 975.5,-1507"/>
<polygon fill="none" stroke="black" points="975.5,-1507 975.5,-1544 1466.5,-1544 1466.5,-1507 975.5,-1507"/>
<text text-anchor="start" x="986.5" y="-1521.8" font-family="Arial" font-size="14.00">&#45; HashSet&lt;PublicKey&gt;</text>
<polygon fill="white" stroke="none" points="975.5,-1425 975.5,-1507 1466.5,-1507 1466.5,-1425 975.5,-1425"/>
<polygon fill="none" stroke="black" points="975.5,-1425 975.5,-1507 1466.5,-1507 1466.5,-1425 975.5,-1425"/>
<text text-anchor="start" x="986.5" y="-1484.8" font-family="Arial" font-size="14.00">&#45; from(keys: Vec&lt;PublicKey&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="986.5" y="-1469.8" font-family="Arial" font-size="14.00">&#45; add_known_key(&amp;mut self, key: PublicKey)</text>
<text text-anchor="start" x="986.5" y="-1454.8" font-family="Arial" font-size="14.00">&#45; verify(&amp;self, msg: &amp;Hash, key: &amp;PublicKey, sig: &amp;Signature) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="986.5" y="-1439.8" font-family="Arial" font-size="14.00">&#45; verify_known_key(&amp;self, key: &amp;PublicKey) &#45;&gt; Result&lt;()&gt;</text>
<polygon fill="none" stroke="black" points="974,-1424 974,-1582 1467,-1582 1467,-1424 974,-1424"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndKeys -->
<g id="edge2" class="edge"><title>ndHash&#45;&gt;ndKeys</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1962.75,-1872.7C1825.44,-1860.55 1637.73,-1830.18 1489.5,-1755 1412.92,-1716.16 1342.59,-1648.9 1293.07,-1593.78"/>
<polygon fill="black" stroke="black" points="1286.22,-1586.09 1296.23,-1590.56 1289.54,-1589.82 1292.87,-1593.55 1292.87,-1593.55 1292.87,-1593.55 1289.54,-1589.82 1289.51,-1596.55 1286.22,-1586.09 1286.22,-1586.09"/>
</g>
<!-- ndDbcContent -->
<g id="node12" class="node"><title>ndDbcContent</title>
<g id="a_node12_3"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/dbc_content.rs#:~:text=struct%20DbcContent" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="3067.5,-1112.5 3067.5,-1149.5 3564.5,-1149.5 3564.5,-1112.5 3067.5,-1112.5"/>
<polygon fill="none" stroke="black" points="3067.5,-1112.5 3067.5,-1149.5 3564.5,-1149.5 3564.5,-1112.5 3067.5,-1112.5"/>
<text text-anchor="start" x="3274.5" y="-1128.3" font-family="Arial" font-weight="bold" font-size="14.00">DbcContent</text>
<polygon fill="white" stroke="none" points="3067.5,-1045.5 3067.5,-1112.5 3564.5,-1112.5 3564.5,-1045.5 3067.5,-1045.5"/>
<polygon fill="none" stroke="black" points="3067.5,-1045.5 3067.5,-1112.5 3564.5,-1112.5 3564.5,-1045.5 3067.5,-1045.5"/>
<text text-anchor="start" x="3078.5" y="-1090.3" font-family="Arial" font-size="14.00">+ owner_base: Owner</text>
<text text-anchor="start" x="3078.5" y="-1075.3" font-family="Arial" font-size="14.00">+ owner_derivation_cipher: Ciphertext</text>
<text text-anchor="start" x="3078.5" y="-1060.3" font-family="Arial" font-size="14.00">+ amount_secrets_cipher: Ciphertext</text>
<polygon fill="white" stroke="none" points="3067.5,-948.5 3067.5,-1045.5 3564.5,-1045.5 3564.5,-948.5 3067.5,-948.5"/>
<polygon fill="none" stroke="black" points="3067.5,-948.5 3067.5,-1045.5 3564.5,-1045.5 3564.5,-948.5 3067.5,-948.5"/>
<text text-anchor="start" x="3078.5" y="-1023.3" font-family="Arial" font-size="14.00">&#45; from(params: (Owner, Ciphertext, Ciphertext)) &#45;&gt; Self</text>
<text text-anchor="start" x="3078.5" y="-1008.3" font-family="Arial" font-size="14.00">&#45; from(params: (Owner, DerivationIndex, AmountSecrets)) &#45;&gt; Self</text>
<text text-anchor="start" x="3078.5" y="-993.3" font-family="Arial" font-size="14.00">&#45; derivation_index(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;DerivationIndex&gt;</text>
<text text-anchor="start" x="3078.5" y="-978.3" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="3078.5" y="-963.3" font-family="Arial" font-size="14.00">&#45; hash(&amp;self) &#45;&gt; Hash</text>
<polygon fill="none" stroke="black" points="3066,-948 3066,-1151 3565,-1151 3565,-948 3066,-948"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndDbcContent -->
<g id="edge3" class="edge"><title>ndHash&#45;&gt;ndDbcContent</title>
<path fill="none" stroke="black" d="M2336.09,-1878.33C2554.82,-1871.54 2898.49,-1846.17 2984.5,-1755 3061.68,-1673.2 2974.19,-1348.35 3030.5,-1251 3050.32,-1216.72 3078.64,-1186.87 3109.81,-1161.41"/>
<polygon fill="black" stroke="black" points="3117.8,-1155.04 3112.79,-1164.79 3113.89,-1158.16 3109.98,-1161.28 3109.98,-1161.28 3109.98,-1161.28 3113.89,-1158.16 3107.18,-1157.76 3117.8,-1155.04 3117.8,-1155.04"/>
</g>
<!-- ndPublicKeyBlstMappable -->
<g id="node13" class="node"><title>ndPublicKeyBlstMappable</title>
<g id="a_node13_4"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/blst.rs#:~:text=struct%20PublicKeyBlstMappable" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="9.5,-1105.5 9.5,-1142.5 338.5,-1142.5 338.5,-1105.5 9.5,-1105.5"/>
<polygon fill="none" stroke="black" points="9.5,-1105.5 9.5,-1142.5 338.5,-1142.5 338.5,-1105.5 9.5,-1105.5"/>
<text text-anchor="start" x="91" y="-1121.3" font-family="Arial" font-weight="bold" font-size="14.00">PublicKeyBlstMappable</text>
<polygon fill="white" stroke="none" points="9.5,-1068.5 9.5,-1105.5 338.5,-1105.5 338.5,-1068.5 9.5,-1068.5"/>
<polygon fill="none" stroke="black" points="9.5,-1068.5 9.5,-1105.5 338.5,-1105.5 338.5,-1068.5 9.5,-1068.5"/>
<text text-anchor="start" x="20.5" y="-1083.3" font-family="Arial" font-size="14.00">&#45; G1Affine</text>
<polygon fill="white" stroke="none" points="9.5,-955.5 9.5,-1068.5 338.5,-1068.5 338.5,-955.5 9.5,-955.5"/>
<polygon fill="none" stroke="black" points="9.5,-955.5 9.5,-1068.5 338.5,-1068.5 338.5,-955.5 9.5,-955.5"/>
<text text-anchor="start" x="20.5" y="-1046.3" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; [u8; 48]</text>
<text text-anchor="start" x="20.5" y="-1031.3" font-family="Arial" font-size="14.00">&#45; random(rng: &amp;mut impl rand8::RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="20.5" y="-999.5" font-family="Arial" font-size="14.00">&#45; cmp(&amp;self, other: &amp;Self) &#45;&gt; Ordering</text>
<text text-anchor="start" x="20.5" y="-984.5" font-family="Arial" font-size="14.00">&#45; hash(&amp;self, state: &amp;mut H)</text>
<text text-anchor="start" x="20.5" y="-969.5" font-family="Arial" font-size="14.00">&#45; from(k: G1Affine) &#45;&gt; Self</text>
<polygon fill="none" stroke="black" points="8,-955 8,-1144 339,-1144 339,-955 8,-955"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndPublicKeyBlstMappable -->
<g id="edge4" class="edge"><title>ndHash&#45;&gt;ndPublicKeyBlstMappable</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1962.87,-1879.5C1529.38,-1875.47 481.922,-1855.35 360.5,-1755 183.806,-1608.96 163.54,-1316.85 166.794,-1158.51"/>
<polygon fill="none" stroke="black" points="170.299,-1158.36 167.041,-1148.28 163.301,-1158.19 170.299,-1158.36"/>
</g>
<!-- ndSpentProofContent -->
<g id="node21" class="node"><title>ndSpentProofContent</title>
<g id="a_node21_5"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/spent_proof.rs#:~:text=struct%20SpentProofContent" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2569.5,-1559 2569.5,-1596 2932.5,-1596 2932.5,-1559 2569.5,-1559"/>
<polygon fill="none" stroke="black" points="2569.5,-1559 2569.5,-1596 2932.5,-1596 2932.5,-1559 2569.5,-1559"/>
<text text-anchor="start" x="2684" y="-1574.8" font-family="Arial" font-weight="bold" font-size="14.00">SpentProofContent</text>
<polygon fill="white" stroke="none" points="2569.5,-1492 2569.5,-1559 2932.5,-1559 2932.5,-1492 2569.5,-1492"/>
<polygon fill="none" stroke="black" points="2569.5,-1492 2569.5,-1559 2932.5,-1559 2932.5,-1492 2569.5,-1492"/>
<text text-anchor="start" x="2580.5" y="-1536.8" font-family="Arial" font-size="14.00">+ key_image: KeyImage</text>
<text text-anchor="start" x="2580.5" y="-1521.8" font-family="Arial" font-size="14.00">+ transaction_hash: Hash</text>
<text text-anchor="start" x="2580.5" y="-1506.8" font-family="Arial" font-size="14.00">+ public_commitments: Vec&lt;Commitment&gt;</text>
<polygon fill="white" stroke="none" points="2569.5,-1410 2569.5,-1492 2932.5,-1492 2932.5,-1410 2569.5,-1410"/>
<polygon fill="none" stroke="black" points="2569.5,-1410 2569.5,-1492 2932.5,-1492 2932.5,-1410 2569.5,-1410"/>
<text text-anchor="start" x="2580.5" y="-1469.8" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="2580.5" y="-1454.8" font-family="Arial" font-size="14.00">&#45; hash(&amp;self) &#45;&gt; Hash</text>
<text text-anchor="start" x="2580.5" y="-1439.8" font-family="Arial" font-size="14.00">&#45; partial_cmp(&amp;self, other: &amp;Self) &#45;&gt; Option&lt;Ordering&gt;</text>
<text text-anchor="start" x="2580.5" y="-1424.8" font-family="Arial" font-size="14.00">&#45; cmp(&amp;self, other: &amp;Self) &#45;&gt; Ordering</text>
<polygon fill="none" stroke="black" points="2568,-1409 2568,-1597 2933,-1597 2933,-1409 2568,-1409"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSpentProofContent -->
<g id="edge5" class="edge"><title>ndHash&#45;&gt;ndSpentProofContent</title>
<path fill="none" stroke="black" d="M2336.24,-1846.54C2407.56,-1827.53 2486.94,-1798.55 2550.5,-1755 2604.9,-1717.73 2651.74,-1661.28 2686.39,-1611.34"/>
<polygon fill="black" stroke="black" points="2686.61,-1611.03 2686.69,-1603.82 2693.38,-1601.12 2693.3,-1608.34 2686.61,-1611.03"/>
</g>
<!-- ndSpentProofShare -->
<g id="node22" class="node"><title>ndSpentProofShare</title>
<g id="a_node22_6"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/spent_proof.rs#:~:text=struct%20SpentProofShare" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2138.5,-1127.5 2138.5,-1164.5 2501.5,-1164.5 2501.5,-1127.5 2138.5,-1127.5"/>
<polygon fill="none" stroke="black" points="2138.5,-1127.5 2138.5,-1164.5 2501.5,-1164.5 2501.5,-1127.5 2138.5,-1127.5"/>
<text text-anchor="start" x="2259.5" y="-1143.3" font-family="Arial" font-weight="bold" font-size="14.00">SpentProofShare</text>
<polygon fill="white" stroke="none" points="2138.5,-1060.5 2138.5,-1127.5 2501.5,-1127.5 2501.5,-1060.5 2138.5,-1060.5"/>
<polygon fill="none" stroke="black" points="2138.5,-1060.5 2138.5,-1127.5 2501.5,-1127.5 2501.5,-1060.5 2138.5,-1060.5"/>
<text text-anchor="start" x="2149.5" y="-1105.3" font-family="Arial" font-size="14.00">+ content: SpentProofContent</text>
<text text-anchor="start" x="2149.5" y="-1090.3" font-family="Arial" font-size="14.00">+ spentbook_pks: PublicKeySet</text>
<text text-anchor="start" x="2149.5" y="-1075.3" font-family="Arial" font-size="14.00">+ spentbook_sig_share: NodeSignature</text>
<polygon fill="white" stroke="none" points="2138.5,-933.5 2138.5,-1060.5 2501.5,-1060.5 2501.5,-933.5 2138.5,-933.5"/>
<polygon fill="none" stroke="black" points="2138.5,-933.5 2138.5,-1060.5 2501.5,-1060.5 2501.5,-933.5 2138.5,-933.5"/>
<text text-anchor="start" x="2149.5" y="-1038.3" font-family="Arial" font-size="14.00">&#45; partial_cmp(&amp;self, other: &amp;Self) &#45;&gt; Option&lt;Ordering&gt;</text>
<text text-anchor="start" x="2149.5" y="-1023.3" font-family="Arial" font-size="14.00">&#45; cmp(&amp;self, other: &amp;Self) &#45;&gt; Ordering</text>
<text text-anchor="start" x="2149.5" y="-1008.3" font-family="Arial" font-size="14.00">&#45; key_image(&amp;self) &#45;&gt; &amp;KeyImage</text>
<text text-anchor="start" x="2149.5" y="-993.3" font-family="Arial" font-size="14.00">&#45; transaction_hash(&amp;self) &#45;&gt; Hash</text>
<text text-anchor="start" x="2149.5" y="-978.3" font-family="Arial" font-size="14.00">&#45; public_commitments(&amp;self) &#45;&gt; &amp;Vec&lt;Commitment&gt;</text>
<text text-anchor="start" x="2149.5" y="-963.3" font-family="Arial" font-size="14.00">&#45; spentbook_sig_share(&amp;self) &#45;&gt; &amp;NodeSignature</text>
<text text-anchor="start" x="2149.5" y="-948.3" font-family="Arial" font-size="14.00">&#45; spentbook_pks(&amp;self) &#45;&gt; &amp;PublicKeySet</text>
<polygon fill="none" stroke="black" points="2137,-933 2137,-1166 2502,-1166 2502,-933 2137,-933"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSpentProofShare -->
<g id="edge6" class="edge"><title>ndHash&#45;&gt;ndSpentProofShare</title>
<path fill="none" stroke="black" d="M2145.68,-1798.41C2139.87,-1651.43 2132.81,-1349.48 2167.5,-1251 2176.35,-1225.86 2189.62,-1201.32 2204.69,-1178.52"/>
<polygon fill="black" stroke="black" points="2210.32,-1170.2 2208.44,-1181 2207.52,-1174.34 2204.72,-1178.48 2204.72,-1178.48 2204.72,-1178.48 2207.52,-1174.34 2200.99,-1175.96 2210.32,-1170.2 2210.32,-1170.2"/>
</g>
<!-- ndSpentProof -->
<g id="node23" class="node"><title>ndSpentProof</title>
<g id="a_node23_7"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/spent_proof.rs#:~:text=struct%20SpentProof" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2612.5,-1112.5 2612.5,-1149.5 2992.5,-1149.5 2992.5,-1112.5 2612.5,-1112.5"/>
<polygon fill="none" stroke="black" points="2612.5,-1112.5 2612.5,-1149.5 2992.5,-1149.5 2992.5,-1112.5 2612.5,-1112.5"/>
<text text-anchor="start" x="2763" y="-1128.3" font-family="Arial" font-weight="bold" font-size="14.00">SpentProof</text>
<polygon fill="white" stroke="none" points="2612.5,-1045.5 2612.5,-1112.5 2992.5,-1112.5 2992.5,-1045.5 2612.5,-1045.5"/>
<polygon fill="none" stroke="black" points="2612.5,-1045.5 2612.5,-1112.5 2992.5,-1112.5 2992.5,-1045.5 2612.5,-1045.5"/>
<text text-anchor="start" x="2623.5" y="-1090.3" font-family="Arial" font-size="14.00">+ content: SpentProofContent</text>
<text text-anchor="start" x="2623.5" y="-1075.3" font-family="Arial" font-size="14.00">+ spentbook_pub_key: PublicKey</text>
<text text-anchor="start" x="2623.5" y="-1060.3" font-family="Arial" font-size="14.00">+ spentbook_sig: Signature</text>
<polygon fill="white" stroke="none" points="2612.5,-948.5 2612.5,-1045.5 2992.5,-1045.5 2992.5,-948.5 2612.5,-948.5"/>
<polygon fill="none" stroke="black" points="2612.5,-948.5 2612.5,-1045.5 2992.5,-1045.5 2992.5,-948.5 2612.5,-948.5"/>
<text text-anchor="start" x="2623.5" y="-1023.3" font-family="Arial" font-size="14.00">&#45; key_image(&amp;self) &#45;&gt; &amp;KeyImage</text>
<text text-anchor="start" x="2623.5" y="-1008.3" font-family="Arial" font-size="14.00">&#45; transaction_hash(&amp;self) &#45;&gt; Hash</text>
<text text-anchor="start" x="2623.5" y="-993.3" font-family="Arial" font-size="14.00">&#45; public_commitments(&amp;self) &#45;&gt; &amp;Vec&lt;Commitment&gt;</text>
<text text-anchor="start" x="2623.5" y="-978.3" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="2623.5" y="-963.3" font-family="Arial" font-size="14.00">&#45; validate(&amp;self, tx_hash: Hash, verifier: &amp;K) &#45;&gt; Result&lt;()&gt;</text>
<polygon fill="none" stroke="black" points="2611.5,-948 2611.5,-1151 2993.5,-1151 2993.5,-948 2611.5,-948"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSpentProof -->
<g id="edge7" class="edge"><title>ndHash&#45;&gt;ndSpentProof</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2336.19,-1878.18C2547.41,-1871.13 2872.17,-1845.41 2949.5,-1755 3022.3,-1669.89 2984.34,-1357.44 2949.5,-1251 2939.43,-1220.24 2922.65,-1190.29 2903.95,-1163.33"/>
<polygon fill="black" stroke="black" points="2898.09,-1155.06 2907.54,-1160.61 2900.98,-1159.13 2903.87,-1163.21 2903.87,-1163.21 2903.87,-1163.21 2900.98,-1159.13 2900.2,-1165.82 2898.09,-1155.06 2898.09,-1155.06"/>
</g>
<!-- ndSpentBookNodeMock -->
<g id="node25" class="node"><title>ndSpentBookNodeMock</title>
<g id="a_node25_8"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/spentbook.rs#:~:text=struct%20SpentBookNodeMock" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="275.5,-745.5 275.5,-782.5 1076.5,-782.5 1076.5,-745.5 275.5,-745.5"/>
<polygon fill="none" stroke="black" points="275.5,-745.5 275.5,-782.5 1076.5,-782.5 1076.5,-745.5 275.5,-745.5"/>
<text text-anchor="start" x="600" y="-761.3" font-family="Arial" font-weight="bold" font-size="14.00">SpentBookNodeMock</text>
<polygon fill="white" stroke="none" points="275.5,-648.5 275.5,-745.5 1076.5,-745.5 1076.5,-648.5 275.5,-648.5"/>
<polygon fill="none" stroke="black" points="275.5,-648.5 275.5,-745.5 1076.5,-745.5 1076.5,-648.5 275.5,-648.5"/>
<text text-anchor="start" x="286.5" y="-723.3" font-family="Arial" font-size="14.00">+ key_manager: SimpleKeyManager</text>
<text text-anchor="start" x="286.5" y="-708.3" font-family="Arial" font-size="14.00">+ transactions: HashMap&lt;Hash, RingCtTransaction&gt;</text>
<text text-anchor="start" x="286.5" y="-693.3" font-family="Arial" font-size="14.00">+ key_images: BTreeMap&lt;KeyImage, Hash&gt;</text>
<text text-anchor="start" x="286.5" y="-678.3" font-family="Arial" font-size="14.00">+ outputs: BTreeMap&lt;PublicKeyBlstMappable, OutputProof&gt;</text>
<text text-anchor="start" x="286.5" y="-663.3" font-family="Arial" font-size="14.00">+ genesis: Option&lt;(KeyImage, Commitment)&gt;</text>
<polygon fill="white" stroke="none" points="275.5,-491.5 275.5,-648.5 1076.5,-648.5 1076.5,-491.5 275.5,-491.5"/>
<polygon fill="none" stroke="black" points="275.5,-491.5 275.5,-648.5 1076.5,-648.5 1076.5,-491.5 275.5,-491.5"/>
<text text-anchor="start" x="286.5" y="-626.3" font-family="Arial" font-size="14.00">&#45; from(key_manager: SimpleKeyManager) &#45;&gt; Self</text>
<text text-anchor="start" x="286.5" y="-611.3" font-family="Arial" font-size="14.00">&#45; from(params: (SimpleKeyManager, KeyImage, Commitment)) &#45;&gt; Self</text>
<text text-anchor="start" x="286.5" y="-596.3" font-family="Arial" font-size="14.00">&#45; iter(&amp;self) &#45;&gt; impl Iterator&lt;Item = (&amp;KeyImage, &amp;RingCtTransaction)&gt; + &#39;_</text>
<text text-anchor="start" x="286.5" y="-581.3" font-family="Arial" font-size="14.00">&#45; is_spent(&amp;self, key_image: &amp;KeyImage) &#45;&gt; bool</text>
<text text-anchor="start" x="286.5" y="-566.3" font-family="Arial" font-size="14.00">&#45; log_spent(&amp;mut self, key_image: KeyImage, tx: RingCtTransaction) &#45;&gt; Result&lt;SpentProofShare&gt;</text>
<text text-anchor="start" x="286.5" y="-551.3" font-family="Arial" font-size="14.00">&#45; log_spent_and_skip_tx_verification(&amp;mut self, key_image: KeyImage, tx: RingCtTransaction) &#45;&gt; Result&lt;SpentProofShare&gt;</text>
<text text-anchor="start" x="286.5" y="-536.3" font-family="Arial" font-size="14.00">&#45; log_spent_worker(&amp;mut self, key_image: KeyImage, tx: RingCtTransaction, verify_tx: bool) &#45;&gt; Result&lt;SpentProofShare&gt;</text>
<text text-anchor="start" x="286.5" y="-521.3" font-family="Arial" font-size="14.00">&#45; set_genesis(&amp;mut self, material: &amp;RingCtMaterial)</text>
<text text-anchor="start" x="286.5" y="-506.3" font-family="Arial" font-size="14.00">&#45; random_decoys(&amp;self, target_num: usize, rng: &amp;mut impl rand8::RngCore) &#45;&gt; Vec&lt;DecoyInput&gt;</text>
<polygon fill="none" stroke="black" points="274,-491 274,-784 1077,-784 1077,-491 274,-491"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSpentBookNodeMock -->
<g id="edge8" class="edge"><title>ndHash&#45;&gt;ndSpentBookNodeMock</title>
<path fill="none" stroke="black" d="M1962.9,-1881.18C1532.47,-1880.81 498.743,-1868.03 393.5,-1755 240.858,-1591.06 345.549,-1469.81 393.5,-1251 429.016,-1088.94 511.635,-918.594 578.319,-798.807"/>
<polygon fill="black" stroke="black" points="578.451,-798.573 577.891,-791.383 584.312,-788.101 584.872,-795.291 578.451,-798.573"/>
</g>
<!-- ndTransactionValidator -->
<g id="node26" class="node"><title>ndTransactionValidator</title>
<g id="a_node26_9"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/validation.rs#:~:text=struct%20TransactionValidator" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="3638.5,-1064.5 3638.5,-1101.5 4804.5,-1101.5 4804.5,-1064.5 3638.5,-1064.5"/>
<polygon fill="none" stroke="black" points="3638.5,-1064.5 3638.5,-1101.5 4804.5,-1101.5 4804.5,-1064.5 3638.5,-1064.5"/>
<text text-anchor="start" x="4149" y="-1080.3" font-family="Arial" font-weight="bold" font-size="14.00">TransactionValidator</text>
<polygon fill="white" stroke="none" points="3638.5,-997.5 3638.5,-1064.5 4804.5,-1064.5 4804.5,-997.5 3638.5,-997.5"/>
<polygon fill="none" stroke="black" points="3638.5,-997.5 3638.5,-1064.5 4804.5,-1064.5 4804.5,-997.5 3638.5,-997.5"/>
<text text-anchor="start" x="3649.5" y="-1042.3" font-family="Arial" font-size="14.00">&#45; validate(mint_verifier: &amp;K, transaction: &amp;RingCtTransaction, mint_sigs: &amp;BTreeMap&lt;KeyImage, (PublicKey, Signature)&gt;, spent_proofs: &amp;BTreeSet&lt;SpentProof&gt;) &#45;&gt; Result&lt;(), Error&gt;</text>
<text text-anchor="start" x="3649.5" y="-1027.3" font-family="Arial" font-size="14.00">&#45; validate_without_sigs(mint_verifier: &amp;K, transaction: &amp;RingCtTransaction, spent_proofs: &amp;BTreeSet&lt;SpentProof&gt;) &#45;&gt; Result&lt;(), Error&gt;</text>
<text text-anchor="start" x="3649.5" y="-1012.3" font-family="Arial" font-size="14.00">&#45; validate_without_sigs_internal(mint_verifier: &amp;K, transaction: &amp;RingCtTransaction, transaction_hash: Hash, spent_proofs: &amp;BTreeSet&lt;SpentProof&gt;) &#45;&gt; Result&lt;(), Error&gt;</text>
<polygon fill="none" stroke="black" points="3637.5,-996.5 3637.5,-1102.5 4805.5,-1102.5 4805.5,-996.5 3637.5,-996.5"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndTransactionValidator -->
<g id="edge9" class="edge"><title>ndHash&#45;&gt;ndTransactionValidator</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2336.4,-1871.15C2557.74,-1857.08 2910.41,-1824.35 3021.5,-1755 3251.34,-1611.51 3136.21,-1396.95 3364.5,-1251 3446.87,-1198.34 3485.84,-1235.19 3581.5,-1215 3726.32,-1184.44 3887.72,-1142.9 4012.2,-1109.21"/>
<polygon fill="black" stroke="black" points="4021.86,-1106.6 4013.38,-1113.55 4017.03,-1107.9 4012.2,-1109.21 4012.2,-1109.21 4012.2,-1109.21 4017.03,-1107.9 4011.03,-1104.87 4021.86,-1106.6 4021.86,-1106.6"/>
</g>
<!-- ndError -->
<g id="node2" class="node"><title>ndError</title>
<g id="a_node2_10"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/error.rs#:~:text=enum%20Error" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="4878.5,-1713 4878.5,-1750 5240.5,-1750 5240.5,-1713 4878.5,-1713"/>
<polygon fill="none" stroke="black" points="4878.5,-1713 4878.5,-1750 5240.5,-1750 5240.5,-1713 4878.5,-1713"/>
<text text-anchor="start" x="5041" y="-1728.8" font-family="Arial" font-weight="bold" font-size="14.00">Error</text>
<polygon fill="white" stroke="none" points="4878.5,-1256 4878.5,-1713 5240.5,-1713 5240.5,-1256 4878.5,-1256"/>
<polygon fill="none" stroke="black" points="4878.5,-1256 4878.5,-1713 5240.5,-1713 5240.5,-1256 4878.5,-1256"/>
<text text-anchor="start" x="4889.5" y="-1690.8" font-family="Arial" font-size="14.00">Signing(String)</text>
<text text-anchor="start" x="4889.5" y="-1675.8" font-family="Arial" font-size="14.00">UnknownInput</text>
<text text-anchor="start" x="4889.5" y="-1660.8" font-family="Arial" font-size="14.00">FailedSignature</text>
<text text-anchor="start" x="4889.5" y="-1645.8" font-family="Arial" font-size="14.00">UnrecognisedAuthority</text>
<text text-anchor="start" x="4889.5" y="-1630.8" font-family="Arial" font-size="14.00">MissingSignatureForInput</text>
<text text-anchor="start" x="4889.5" y="-1615.8" font-family="Arial" font-size="14.00">InvalidSpentProofSignature(KeyImage)</text>
<text text-anchor="start" x="4889.5" y="-1600.8" font-family="Arial" font-size="14.00">InvalidTransactionHash</text>
<text text-anchor="start" x="4889.5" y="-1585.8" font-family="Arial" font-size="14.00">TransactionMustHaveAnInput</text>
<text text-anchor="start" x="4889.5" y="-1570.8" font-family="Arial" font-size="14.00">DbcContentNotPresentInTransactionOutput</text>
<text text-anchor="start" x="4889.5" y="-1555.8" font-family="Arial" font-size="14.00">OutputProofNotFound</text>
<text text-anchor="start" x="4889.5" y="-1540.8" font-family="Arial" font-size="14.00">KeyImageNotUniqueAcrossInputs</text>
<text text-anchor="start" x="4889.5" y="-1525.8" font-family="Arial" font-size="14.00">PublicKeyNotUniqueAcrossOutputs</text>
<text text-anchor="start" x="4889.5" y="-1510.8" font-family="Arial" font-size="14.00">SpentProofInputMismatch</text>
<text text-anchor="start" x="4889.5" y="-1495.8" font-family="Arial" font-size="14.00">ReissueRequestPublicKeySetMismatch</text>
<text text-anchor="start" x="4889.5" y="-1480.8" font-family="Arial" font-size="14.00">ReissueRequestPublicCommitmentMismatch</text>
<text text-anchor="start" x="4889.5" y="-1465.8" font-family="Arial" font-size="14.00">ReissueRequestMissingSpentProofShare(KeyImage)</text>
<text text-anchor="start" x="4889.5" y="-1450.8" font-family="Arial" font-size="14.00">ReissueSharePublicKeySetMismatch</text>
<text text-anchor="start" x="4889.5" y="-1435.8" font-family="Arial" font-size="14.00">ReissueShareMintNodeSignaturesLenMismatch</text>
<text text-anchor="start" x="4889.5" y="-1420.8" font-family="Arial" font-size="14.00">ReissueShareMintNodeSignatureNotFoundForInput</text>
<text text-anchor="start" x="4889.5" y="-1405.8" font-family="Arial" font-size="14.00">NoReissueShares</text>
<text text-anchor="start" x="4889.5" y="-1390.8" font-family="Arial" font-size="14.00">DecryptionBySecretKeyFailed</text>
<text text-anchor="start" x="4889.5" y="-1375.8" font-family="Arial" font-size="14.00">AmountSecretsBytesInvalid</text>
<text text-anchor="start" x="4889.5" y="-1360.8" font-family="Arial" font-size="14.00">AmountCommitmentsDoNotMatch</text>
<text text-anchor="start" x="4889.5" y="-1345.8" font-family="Arial" font-size="14.00">SecretKeyUnavailable</text>
<text text-anchor="start" x="4889.5" y="-1330.8" font-family="Arial" font-size="14.00">PublicKeyNotFound</text>
<text text-anchor="start" x="4889.5" y="-1315.8" font-family="Arial" font-size="14.00">SecretKeyDoesNotMatchPublicKey</text>
<text text-anchor="start" x="4889.5" y="-1300.8" font-family="Arial" font-size="14.00">Blsttc(blsttc::error::Error)</text>
<text text-anchor="start" x="4889.5" y="-1285.8" font-family="Arial" font-size="14.00">RingCt(blst_ringct::Error)</text>
<text text-anchor="start" x="4889.5" y="-1270.8" font-family="Arial" font-size="14.00">Infallible(std::convert::Infallible)</text>
<polygon fill="none" stroke="black" points="4877.5,-1255 4877.5,-1751 5241.5,-1751 5241.5,-1255 4877.5,-1255"/>
</a>
</g>
</g>
<!-- ndDbc -->
<g id="node17" class="node"><title>ndDbc</title>
<g id="a_node17_11"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/dbc.rs#:~:text=struct%20Dbc" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="4006.5,-805.5 4006.5,-842.5 4794.5,-842.5 4794.5,-805.5 4006.5,-805.5"/>
<polygon fill="none" stroke="black" points="4006.5,-805.5 4006.5,-842.5 4794.5,-842.5 4794.5,-805.5 4006.5,-805.5"/>
<text text-anchor="start" x="4386.5" y="-821.3" font-family="Arial" font-weight="bold" font-size="14.00">Dbc</text>
<polygon fill="white" stroke="none" points="4006.5,-723.5 4006.5,-805.5 4794.5,-805.5 4794.5,-723.5 4006.5,-723.5"/>
<polygon fill="none" stroke="black" points="4006.5,-723.5 4006.5,-805.5 4794.5,-805.5 4794.5,-723.5 4006.5,-723.5"/>
<text text-anchor="start" x="4017.5" y="-783.3" font-family="Arial" font-size="14.00">+ content: DbcContent</text>
<text text-anchor="start" x="4017.5" y="-768.3" font-family="Arial" font-size="14.00">+ transaction: RingCtTransaction</text>
<text text-anchor="start" x="4017.5" y="-753.3" font-family="Arial" font-size="14.00">+ mint_sigs: BTreeMap&lt;KeyImage, (PublicKey, Signature)&gt;</text>
<text text-anchor="start" x="4017.5" y="-738.3" font-family="Arial" font-size="14.00">+ spent_proofs: BTreeSet&lt;SpentProof&gt;</text>
<polygon fill="white" stroke="none" points="4006.5,-431.5 4006.5,-723.5 4794.5,-723.5 4794.5,-431.5 4006.5,-431.5"/>
<polygon fill="none" stroke="black" points="4006.5,-431.5 4006.5,-723.5 4794.5,-723.5 4794.5,-431.5 4006.5,-431.5"/>
<text text-anchor="start" x="4017.5" y="-701.3" font-family="Arial" font-size="14.00">&#45; owner_base(&amp;self) &#45;&gt; &amp;Owner</text>
<text text-anchor="start" x="4017.5" y="-686.3" font-family="Arial" font-size="14.00">&#45; owner_once(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;Owner&gt;</text>
<text text-anchor="start" x="4017.5" y="-671.3" font-family="Arial" font-size="14.00">&#45; owner_once_bearer(&amp;self) &#45;&gt; Result&lt;Owner&gt;</text>
<text text-anchor="start" x="4017.5" y="-656.3" font-family="Arial" font-size="14.00">&#45; derivation_index(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;DerivationIndex&gt;</text>
<text text-anchor="start" x="4017.5" y="-641.3" font-family="Arial" font-size="14.00">&#45; derivation_index_bearer(&amp;self) &#45;&gt; Result&lt;DerivationIndex&gt;</text>
<text text-anchor="start" x="4017.5" y="-626.3" font-family="Arial" font-size="14.00">&#45; is_bearer(&amp;self) &#45;&gt; bool</text>
<text text-anchor="start" x="4017.5" y="-611.3" font-family="Arial" font-size="14.00">&#45; amount_secrets(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;AmountSecrets&gt;</text>
<text text-anchor="start" x="4017.5" y="-596.3" font-family="Arial" font-size="14.00">&#45; amount_secrets_bearer(&amp;self) &#45;&gt; Result&lt;AmountSecrets&gt;</text>
<text text-anchor="start" x="4017.5" y="-581.3" font-family="Arial" font-size="14.00">&#45; key_image(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;KeyImage&gt;</text>
<text text-anchor="start" x="4017.5" y="-566.3" font-family="Arial" font-size="14.00">&#45; key_image_bearer(&amp;self) &#45;&gt; Result&lt;KeyImage&gt;</text>
<text text-anchor="start" x="4017.5" y="-551.3" font-family="Arial" font-size="14.00">&#45; as_true_input(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;TrueInput&gt;</text>
<text text-anchor="start" x="4017.5" y="-536.3" font-family="Arial" font-size="14.00">&#45; as_true_input_bearer(&amp;self) &#45;&gt; Result&lt;TrueInput&gt;</text>
<text text-anchor="start" x="4017.5" y="-521.3" font-family="Arial" font-size="14.00">&#45; hash(&amp;self) &#45;&gt; [u8; 32]</text>
<text text-anchor="start" x="4017.5" y="-506.3" font-family="Arial" font-size="14.00">&#45; confirm_valid(&amp;self, base_sk: &amp;SecretKey, mint_verifier: &amp;K) &#45;&gt; Result&lt;(), Error&gt;</text>
<text text-anchor="start" x="4017.5" y="-491.3" font-family="Arial" font-size="14.00">&#45; confirm_valid_bearer(&amp;self, mint_verifier: &amp;K) &#45;&gt; Result&lt;(), Error&gt;</text>
<text text-anchor="start" x="4017.5" y="-476.3" font-family="Arial" font-size="14.00">&#45; confirm_provided_amount_matches_commitment(&amp;self, base_sk: &amp;SecretKey, amount: &amp;AmountSecrets) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="4017.5" y="-461.3" font-family="Arial" font-size="14.00">&#45; confirm_provided_amount_matches_commitment_bearer(&amp;self, amount: &amp;AmountSecrets) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="4017.5" y="-446.3" font-family="Arial" font-size="14.00">&#45; my_output_proof(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;&amp;OutputProof&gt;</text>
<polygon fill="none" stroke="black" points="4005.5,-431 4005.5,-844 4795.5,-844 4795.5,-431 4005.5,-431"/>
</a>
</g>
</g>
<!-- ndError&#45;&gt;ndDbc -->
<g id="edge10" class="edge"><title>ndError&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M4913.39,-1250.79C4908.08,-1238.82 4903.08,-1226.86 4898.5,-1215 4844.13,-1074.19 4912.01,-1005.53 4822.5,-884 4815.33,-874.269 4807.66,-864.861 4799.55,-855.77"/>
<polygon fill="black" stroke="black" points="4792.64,-848.207 4802.7,-852.553 4796.01,-851.898 4799.38,-855.589 4799.38,-855.589 4799.38,-855.589 4796.01,-851.898 4796.06,-858.624 4792.64,-848.207 4792.64,-848.207"/>
</g>
<!-- ndAmountSecrets -->
<g id="node24" class="node"><title>ndAmountSecrets</title>
<g id="a_node24_12"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/amount_secrets.rs#:~:text=struct%20AmountSecrets" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="4916.5,-1172.5 4916.5,-1209.5 5608.5,-1209.5 5608.5,-1172.5 4916.5,-1172.5"/>
<polygon fill="none" stroke="black" points="4916.5,-1172.5 4916.5,-1209.5 5608.5,-1209.5 5608.5,-1172.5 4916.5,-1172.5"/>
<text text-anchor="start" x="5208.5" y="-1188.3" font-family="Arial" font-weight="bold" font-size="14.00">AmountSecrets</text>
<polygon fill="white" stroke="none" points="4916.5,-1135.5 4916.5,-1172.5 5608.5,-1172.5 5608.5,-1135.5 4916.5,-1135.5"/>
<polygon fill="none" stroke="black" points="4916.5,-1135.5 4916.5,-1172.5 5608.5,-1172.5 5608.5,-1135.5 4916.5,-1135.5"/>
<text text-anchor="start" x="4927.5" y="-1150.3" font-family="Arial" font-size="14.00">&#45; RevealedCommitment</text>
<polygon fill="white" stroke="none" points="4916.5,-888.5 4916.5,-1135.5 5608.5,-1135.5 5608.5,-888.5 4916.5,-888.5"/>
<polygon fill="none" stroke="black" points="4916.5,-888.5 4916.5,-1135.5 5608.5,-1135.5 5608.5,-888.5 4916.5,-888.5"/>
<text text-anchor="start" x="4927.5" y="-1113.3" font-family="Arial" font-size="14.00">&#45; amount(&amp;self) &#45;&gt; Amount</text>
<text text-anchor="start" x="4927.5" y="-1098.3" font-family="Arial" font-size="14.00">&#45; blinding_factor(&amp;self) &#45;&gt; SecretKeyBlst</text>
<text text-anchor="start" x="4927.5" y="-1083.3" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="4927.5" y="-1068.3" font-family="Arial" font-size="14.00">&#45; from_bytes(bytes: [u8; AMT_SIZE + BF_SIZE]) &#45;&gt; Self</text>
<text text-anchor="start" x="4927.5" y="-1053.3" font-family="Arial" font-size="14.00">&#45; from_bytes_ref(bytes: &amp;[u8]) &#45;&gt; Result&lt;Self, Error&gt;</text>
<text text-anchor="start" x="4927.5" y="-1038.3" font-family="Arial" font-size="14.00">&#45; from_amount(amount: Amount, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="4927.5" y="-1023.3" font-family="Arial" font-size="14.00">&#45; encrypt(&amp;self, public_key: &amp;PublicKey) &#45;&gt; Ciphertext</text>
<text text-anchor="start" x="4927.5" y="-1008.3" font-family="Arial" font-size="14.00">&#45; from(revealed_commitment: RevealedCommitment) &#45;&gt; Self</text>
<text text-anchor="start" x="4927.5" y="-993.3" font-family="Arial" font-size="14.00">&#45; from(params: (Amount, BlindingFactor)) &#45;&gt; Self</text>
<text text-anchor="start" x="4927.5" y="-978.3" font-family="Arial" font-size="14.00">&#45; into(self) &#45;&gt; RevealedCommitment</text>
<text text-anchor="start" x="4927.5" y="-963.3" font-family="Arial" font-size="14.00">&#45; into(self) &#45;&gt; Amount</text>
<text text-anchor="start" x="4927.5" y="-948.3" font-family="Arial" font-size="14.00">&#45; try_from(params: (&amp;SecretKey, &amp;Ciphertext)) &#45;&gt; Result&lt;Self, Error&gt;</text>
<text text-anchor="start" x="4927.5" y="-933.3" font-family="Arial" font-size="14.00">&#45; try_from(params: (&amp;SecretKeySet, &amp;Ciphertext)) &#45;&gt; Result&lt;Self, Error&gt;</text>
<text text-anchor="start" x="4927.5" y="-918.3" font-family="Arial" font-size="14.00">&#45; try_from(params: (&amp;PublicKeySet, &amp;BTreeMap&lt;I, SecretKeyShare&gt;, &amp;Ciphertext)) &#45;&gt; Result&lt;Self, Error&gt;</text>
<text text-anchor="start" x="4927.5" y="-903.3" font-family="Arial" font-size="14.00">&#45; try_from(params: (&amp;PublicKeySet, &amp;BTreeMap&lt;I, DecryptionShare&gt;, &amp;Ciphertext)) &#45;&gt; Result&lt;Self, Error&gt;</text>
<polygon fill="none" stroke="black" points="4915.5,-888 4915.5,-1211 5609.5,-1211 5609.5,-888 4915.5,-888"/>
</a>
</g>
</g>
<!-- ndError&#45;&gt;ndAmountSecrets -->
<g id="edge11" class="edge"><title>ndError&#45;&gt;ndAmountSecrets</title>
<path fill="none" stroke="black" d="M5172.43,-1250.83C5176.41,-1241.98 5180.37,-1233.17 5184.28,-1224.47"/>
<polygon fill="black" stroke="black" points="5188.5,-1215.08 5188.51,-1226.05 5186.45,-1219.64 5184.4,-1224.2 5184.4,-1224.2 5184.4,-1224.2 5186.45,-1219.64 5180.3,-1222.36 5188.5,-1215.08 5188.5,-1215.08"/>
</g>
<!-- ndError&#45;&gt;ndTransactionValidator -->
<g id="edge12" class="edge"><title>ndError&#45;&gt;ndTransactionValidator</title>
<path fill="none" stroke="black" d="M4869.34,-1399.55C4704.55,-1310.76 4471.63,-1185.27 4334.61,-1111.44"/>
<polygon fill="black" stroke="black" points="4325.72,-1106.65 4336.66,-1107.44 4330.12,-1109.03 4334.53,-1111.4 4334.53,-1111.4 4334.53,-1111.4 4330.12,-1109.03 4332.39,-1115.36 4325.72,-1106.65 4325.72,-1106.65"/>
</g>
<!-- ndNodeSignature -->
<g id="node3" class="node"><title>ndNodeSignature</title>
<g id="a_node3_13"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/key_manager.rs#:~:text=struct%20NodeSignature" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2186.5,-1536 2186.5,-1573 2533.5,-1573 2533.5,-1536 2186.5,-1536"/>
<polygon fill="none" stroke="black" points="2186.5,-1536 2186.5,-1573 2533.5,-1573 2533.5,-1536 2186.5,-1536"/>
<text text-anchor="start" x="2308" y="-1551.8" font-family="Arial" font-weight="bold" font-size="14.00">NodeSignature</text>
<polygon fill="white" stroke="none" points="2186.5,-1484 2186.5,-1536 2533.5,-1536 2533.5,-1484 2186.5,-1484"/>
<polygon fill="none" stroke="black" points="2186.5,-1484 2186.5,-1536 2533.5,-1536 2533.5,-1484 2186.5,-1484"/>
<text text-anchor="start" x="2197.5" y="-1513.8" font-family="Arial" font-size="14.00">&#45; index: u64</text>
<text text-anchor="start" x="2197.5" y="-1498.8" font-family="Arial" font-size="14.00">&#45; sig: SignatureShare</text>
<polygon fill="white" stroke="none" points="2186.5,-1432 2186.5,-1484 2533.5,-1484 2533.5,-1432 2186.5,-1432"/>
<polygon fill="none" stroke="black" points="2186.5,-1432 2186.5,-1484 2533.5,-1484 2533.5,-1432 2186.5,-1432"/>
<text text-anchor="start" x="2197.5" y="-1461.8" font-family="Arial" font-size="14.00">&#45; new(index: u64, sig: SignatureShare) &#45;&gt; Self</text>
<text text-anchor="start" x="2197.5" y="-1446.8" font-family="Arial" font-size="14.00">&#45; threshold_crypto(&amp;self) &#45;&gt; (u64, &amp;SignatureShare)</text>
<polygon fill="none" stroke="black" points="2185,-1431.5 2185,-1574.5 2534,-1574.5 2534,-1431.5 2185,-1431.5"/>
</a>
</g>
</g>
<!-- ndNodeSignature&#45;&gt;ndSimpleKeyManager -->
<g id="edge13" class="edge"><title>ndNodeSignature&#45;&gt;ndSimpleKeyManager</title>
<path fill="none" stroke="black" d="M2309.83,-1427.46C2268.34,-1370.9 2204.22,-1295.52 2130.5,-1251 1989.96,-1166.13 1813.9,-1116.83 1665.81,-1088.37"/>
<polygon fill="black" stroke="black" points="1655.65,-1086.44 1666.32,-1083.89 1660.56,-1087.38 1665.48,-1088.31 1665.48,-1088.31 1665.48,-1088.31 1660.56,-1087.38 1664.64,-1092.73 1655.65,-1086.44 1655.65,-1086.44"/>
</g>
<!-- ndGenesisDbcShare -->
<g id="node8" class="node"><title>ndGenesisDbcShare</title>
<g id="a_node8_14"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/mint.rs#:~:text=struct%20GenesisDbcShare" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="3194.5,-682.5 3194.5,-719.5 3436.5,-719.5 3436.5,-682.5 3194.5,-682.5"/>
<polygon fill="none" stroke="black" points="3194.5,-682.5 3194.5,-719.5 3436.5,-719.5 3436.5,-682.5 3194.5,-682.5"/>
<text text-anchor="start" x="3252" y="-698.3" font-family="Arial" font-weight="bold" font-size="14.00">GenesisDbcShare</text>
<polygon fill="white" stroke="none" points="3194.5,-555.5 3194.5,-682.5 3436.5,-682.5 3436.5,-555.5 3194.5,-555.5"/>
<polygon fill="none" stroke="black" points="3194.5,-555.5 3194.5,-682.5 3436.5,-682.5 3436.5,-555.5 3194.5,-555.5"/>
<text text-anchor="start" x="3205.5" y="-660.3" font-family="Arial" font-size="14.00">+ ringct_material: RingCtMaterial</text>
<text text-anchor="start" x="3205.5" y="-645.3" font-family="Arial" font-size="14.00">+ dbc_content: DbcContent</text>
<text text-anchor="start" x="3205.5" y="-630.3" font-family="Arial" font-size="14.00">+ amount_secrets: AmountSecrets</text>
<text text-anchor="start" x="3205.5" y="-615.3" font-family="Arial" font-size="14.00">+ owner_once: OwnerOnce</text>
<text text-anchor="start" x="3205.5" y="-600.3" font-family="Arial" font-size="14.00">+ transaction: RingCtTransaction</text>
<text text-anchor="start" x="3205.5" y="-585.3" font-family="Arial" font-size="14.00">+ transaction_sig: NodeSignature</text>
<text text-anchor="start" x="3205.5" y="-570.3" font-family="Arial" font-size="14.00">+ input_key_image: KeyImage</text>
<polygon fill="none" stroke="black" points="3193.5,-554.5 3193.5,-720.5 3437.5,-720.5 3437.5,-554.5 3193.5,-554.5"/>
</a>
</g>
</g>
<!-- ndNodeSignature&#45;&gt;ndGenesisDbcShare -->
<g id="edge14" class="edge"><title>ndNodeSignature&#45;&gt;ndGenesisDbcShare</title>
<path fill="none" stroke="black" d="M2408.43,-1427.48C2443.49,-1371.14 2489.47,-1290.8 2518.5,-1215 2572.49,-1074.05 2479.39,-981.634 2594.5,-884 2693.32,-800.182 3064.27,-912.767 3176.5,-848 3220.23,-822.763 3252.83,-777.555 3275.42,-735.579"/>
<polygon fill="black" stroke="black" points="3275.54,-735.345 3274.77,-728.176 3281.09,-724.706 3281.86,-731.876 3275.54,-735.345"/>
</g>
<!-- ndNodeSignature&#45;&gt;ndSpentProofShare -->
<g id="edge15" class="edge"><title>ndNodeSignature&#45;&gt;ndSpentProofShare</title>
<path fill="none" stroke="black" d="M2352.89,-1427.44C2347.01,-1360.98 2338.25,-1262.14 2331.18,-1182.36"/>
<polygon fill="black" stroke="black" points="2331.17,-1182.18 2326.65,-1176.55 2330.11,-1170.23 2334.62,-1175.85 2331.17,-1182.18"/>
</g>
<!-- ndKeyManager -->
<g id="node4" class="node"><title>ndKeyManager</title>
<g id="a_node4_15"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/key_manager.rs#:~:text=trait%20KeyManager" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightgreen" stroke="none" points="412.5,-1540 412.5,-1577 939.5,-1577 939.5,-1540 412.5,-1540"/>
<polygon fill="none" stroke="black" points="412.5,-1540 412.5,-1577 939.5,-1577 939.5,-1540 412.5,-1540"/>
<text text-anchor="start" x="631.5" y="-1555.8" font-family="Arial" font-weight="bold" font-size="14.00">KeyManager</text>
<polygon fill="white" stroke="none" points="412.5,-1428 412.5,-1540 939.5,-1540 939.5,-1428 412.5,-1428"/>
<polygon fill="none" stroke="black" points="412.5,-1428 412.5,-1540 939.5,-1540 939.5,-1428 412.5,-1428"/>
<text text-anchor="start" x="423.5" y="-1517.8" font-family="Arial" font-size="14.00">add_known_key(&amp;mut Self, PublicKey) &#45;&gt; Result&lt;(), Self::Error&gt;</text>
<text text-anchor="start" x="423.5" y="-1502.8" font-family="Arial" font-size="14.00">sign_with_child_key(&amp;Self, &amp;[u8], &amp;Hash) &#45;&gt; Result&lt;NodeSignature, Self::Error&gt;</text>
<text text-anchor="start" x="423.5" y="-1487.8" font-family="Arial" font-size="14.00">sign(&amp;Self, &amp;Hash) &#45;&gt; Result&lt;NodeSignature, Self::Error&gt;</text>
<text text-anchor="start" x="423.5" y="-1472.8" font-family="Arial" font-size="14.00">public_key_set(&amp;Self) &#45;&gt; Result&lt;PublicKeySet, Self::Error&gt;</text>
<text text-anchor="start" x="423.5" y="-1457.8" font-family="Arial" font-size="14.00">verify(&amp;Self, &amp;Hash, &amp;PublicKey, &amp;Signature) &#45;&gt; Result&lt;(), Self::Error&gt;</text>
<text text-anchor="start" x="423.5" y="-1442.8" font-family="Arial" font-size="14.00">verify_known_key(&amp;Self, &amp;PublicKey) &#45;&gt; Result&lt;(), Self::Error&gt;</text>
<polygon fill="none" stroke="black" points="411,-1427.5 411,-1578.5 940,-1578.5 940,-1427.5 411,-1427.5"/>
</a>
</g>
</g>
<!-- ndKeyManager&#45;&gt;ndSimpleKeyManager -->
<g id="edge16" class="edge"><title>ndKeyManager&#45;&gt;ndSimpleKeyManager</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M751.884,-1423.37C805.876,-1370.51 881.687,-1301.51 956.5,-1251 1001.04,-1220.92 1050.75,-1192.61 1099.69,-1167.27"/>
<polygon fill="none" stroke="black" points="1101.53,-1170.26 1108.82,-1162.57 1098.33,-1164.03 1101.53,-1170.26"/>
</g>
<!-- ndKeyManager&#45;&gt;ndSpentBookNodeMock -->
<g id="edge17" class="edge"><title>ndKeyManager&#45;&gt;ndSpentBookNodeMock</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M675.5,-1423.46C675.5,-1282.52 675.5,-984.079 675.5,-798.502"/>
<polygon fill="black" stroke="black" points="675.5,-788.375 680,-798.375 675.5,-793.375 675.5,-798.375 675.5,-798.375 675.5,-798.375 675.5,-793.375 671,-798.375 675.5,-788.375 675.5,-788.375"/>
</g>
<!-- ndSimpleSigner -->
<g id="node5" class="node"><title>ndSimpleSigner</title>
<g id="a_node5_16"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/key_manager.rs#:~:text=struct%20SimpleSigner" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="1540.5,-1566 1540.5,-1603 2112.5,-1603 2112.5,-1566 1540.5,-1566"/>
<polygon fill="none" stroke="black" points="1540.5,-1566 1540.5,-1603 2112.5,-1603 2112.5,-1566 1540.5,-1566"/>
<text text-anchor="start" x="1779.5" y="-1581.8" font-family="Arial" font-weight="bold" font-size="14.00">SimpleSigner</text>
<polygon fill="white" stroke="none" points="1540.5,-1514 1540.5,-1566 2112.5,-1566 2112.5,-1514 1540.5,-1514"/>
<polygon fill="none" stroke="black" points="1540.5,-1514 1540.5,-1566 2112.5,-1566 2112.5,-1514 1540.5,-1514"/>
<text text-anchor="start" x="1551.5" y="-1543.8" font-family="Arial" font-size="14.00">&#45; public_key_set: PublicKeySet</text>
<text text-anchor="start" x="1551.5" y="-1528.8" font-family="Arial" font-size="14.00">&#45; secret_key_share: (u64, SerdeSecret&lt;SecretKeyShare&gt;)</text>
<polygon fill="white" stroke="none" points="1540.5,-1402 1540.5,-1514 2112.5,-1514 2112.5,-1402 1540.5,-1402"/>
<polygon fill="none" stroke="black" points="1540.5,-1402 1540.5,-1514 2112.5,-1514 2112.5,-1402 1540.5,-1402"/>
<text text-anchor="start" x="1551.5" y="-1491.8" font-family="Arial" font-size="14.00">&#45; from(outcome: bls_dkg::outcome::Outcome) &#45;&gt; Self</text>
<text text-anchor="start" x="1551.5" y="-1476.8" font-family="Arial" font-size="14.00">&#45; new(public_key_set: PublicKeySet, secret_key_share: (u64, SecretKeyShare)) &#45;&gt; Self</text>
<text text-anchor="start" x="1551.5" y="-1461.8" font-family="Arial" font-size="14.00">&#45; index(&amp;self) &#45;&gt; u64</text>
<text text-anchor="start" x="1551.5" y="-1446.8" font-family="Arial" font-size="14.00">&#45; public_key_set(&amp;self) &#45;&gt; PublicKeySet</text>
<text text-anchor="start" x="1551.5" y="-1431.8" font-family="Arial" font-size="14.00">&#45; sign(&amp;self, msg: M) &#45;&gt; blsttc::SignatureShare</text>
<text text-anchor="start" x="1551.5" y="-1416.8" font-family="Arial" font-size="14.00">&#45; derive_child(&amp;self, index: &amp;[u8]) &#45;&gt; Self</text>
<polygon fill="none" stroke="black" points="1539.5,-1401.5 1539.5,-1604.5 2113.5,-1604.5 2113.5,-1401.5 1539.5,-1401.5"/>
</a>
</g>
</g>
<!-- ndSimpleSigner&#45;&gt;ndSimpleKeyManager -->
<g id="edge18" class="edge"><title>ndSimpleSigner&#45;&gt;ndSimpleKeyManager</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1718.88,-1397.28C1649.42,-1329.69 1558.84,-1241.56 1486.39,-1171.05"/>
<polygon fill="black" stroke="black" points="1486.24,-1170.91 1479.15,-1169.59 1477.64,-1162.54 1484.73,-1163.86 1486.24,-1170.91"/>
</g>
<!-- ndSimpleKeyManager&#45;&gt;ndSpentBookNodeMock -->
<g id="edge19" class="edge"><title>ndSimpleKeyManager&#45;&gt;ndSpentBookNodeMock</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1174.77,-936.466C1101.39,-892.672 1015.98,-841.698 936.765,-794.423"/>
<polygon fill="black" stroke="black" points="936.439,-794.228 929.237,-794.588 926.135,-788.078 933.337,-787.718 936.439,-794.228"/>
</g>
<!-- ndKeys&#45;&gt;ndSimpleKeyManager -->
<g id="edge20" class="edge"><title>ndKeys&#45;&gt;ndSimpleKeyManager</title>
<path fill="none" stroke="black" d="M1246.3,-1419.97C1267.86,-1351.42 1298.94,-1252.59 1323.54,-1174.39"/>
<polygon fill="black" stroke="black" points="1323.67,-1173.96 1321.65,-1167.04 1327.27,-1162.52 1329.29,-1169.44 1323.67,-1173.96"/>
</g>
<!-- ndMintNode -->
<g id="node11" class="node"><title>ndMintNode</title>
<g id="a_node11_17"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/mint.rs#:~:text=struct%20MintNode" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2645.5,-258.5 2645.5,-295.5 3484.5,-295.5 3484.5,-258.5 2645.5,-258.5"/>
<polygon fill="none" stroke="black" points="2645.5,-258.5 2645.5,-295.5 3484.5,-295.5 3484.5,-258.5 2645.5,-258.5"/>
<text text-anchor="start" x="3031.5" y="-274.3" font-family="Arial" font-weight="bold" font-size="14.00">MintNode</text>
<polygon fill="white" stroke="none" points="2645.5,-221.5 2645.5,-258.5 3484.5,-258.5 3484.5,-221.5 2645.5,-221.5"/>
<polygon fill="none" stroke="black" points="2645.5,-221.5 2645.5,-258.5 3484.5,-258.5 3484.5,-221.5 2645.5,-221.5"/>
<text text-anchor="start" x="2656.5" y="-236.3" font-family="Arial" font-size="14.00">+ key_manager: K</text>
<polygon fill="white" stroke="none" points="2645.5,-94.5 2645.5,-221.5 3484.5,-221.5 3484.5,-94.5 2645.5,-94.5"/>
<polygon fill="none" stroke="black" points="2645.5,-94.5 2645.5,-221.5 3484.5,-221.5 3484.5,-94.5 2645.5,-94.5"/>
<text text-anchor="start" x="2656.5" y="-199.3" font-family="Arial" font-size="14.00">&#45; new(key_manager: K) &#45;&gt; Self</text>
<text text-anchor="start" x="2656.5" y="-184.3" font-family="Arial" font-size="14.00">&#45; trust_spentbook_public_key(mut self, public_key: PublicKey) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="2656.5" y="-169.3" font-family="Arial" font-size="14.00">&#45; issue_genesis_dbc(self, amount: Amount, mut rng: impl RngCore + rand_core::CryptoRng) &#45;&gt; Result&lt;(Self, GenesisDbcShare)&gt;</text>
<text text-anchor="start" x="2656.5" y="-154.3" font-family="Arial" font-size="14.00">&#45; key_manager(&amp;self) &#45;&gt; &amp;K</text>
<text text-anchor="start" x="2656.5" y="-139.3" font-family="Arial" font-size="14.00">&#45; spend(_key_image: KeyImage, _transaction: RingCtTransaction) &#45;&gt; Result&lt;SpentProofShare&gt;</text>
<text text-anchor="start" x="2656.5" y="-124.3" font-family="Arial" font-size="14.00">&#45; reissue(&amp;self, reissue_req: ReissueRequest) &#45;&gt; Result&lt;ReissueShare&gt;</text>
<text text-anchor="start" x="2656.5" y="-109.3" font-family="Arial" font-size="14.00">&#45; sign_transaction(&amp;self, transaction: &amp;RingCtTransaction) &#45;&gt; Result&lt;MintNodeSignatures&gt;</text>
<polygon fill="none" stroke="black" points="2644,-94 2644,-297 3485,-297 3485,-94 2644,-94"/>
</a>
</g>
</g>
<!-- ndGenesisDbcShare&#45;&gt;ndMintNode -->
<g id="edge21" class="edge"><title>ndGenesisDbcShare&#45;&gt;ndMintNode</title>
<path fill="none" stroke="black" d="M3266.36,-550.357C3227.2,-481.72 3172.05,-385.04 3129.29,-310.077"/>
<polygon fill="black" stroke="black" points="3124.14,-301.046 3133,-307.502 3126.62,-305.389 3129.09,-309.732 3129.09,-309.732 3129.09,-309.732 3126.62,-305.389 3125.19,-311.962 3124.14,-301.046 3124.14,-301.046"/>
</g>
<!-- ndReissueRequest -->
<g id="node9" class="node"><title>ndReissueRequest</title>
<g id="a_node9_18"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/mint.rs#:~:text=struct%20ReissueRequest" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2535.5,-644.5 2535.5,-681.5 2812.5,-681.5 2812.5,-644.5 2535.5,-644.5"/>
<polygon fill="none" stroke="black" points="2535.5,-644.5 2535.5,-681.5 2812.5,-681.5 2812.5,-644.5 2535.5,-644.5"/>
<text text-anchor="start" x="2617.5" y="-660.3" font-family="Arial" font-weight="bold" font-size="14.00">ReissueRequest</text>
<polygon fill="white" stroke="none" points="2535.5,-592.5 2535.5,-644.5 2812.5,-644.5 2812.5,-592.5 2535.5,-592.5"/>
<polygon fill="none" stroke="black" points="2535.5,-592.5 2535.5,-644.5 2812.5,-644.5 2812.5,-592.5 2535.5,-592.5"/>
<text text-anchor="start" x="2546.5" y="-622.3" font-family="Arial" font-size="14.00">+ transaction: RingCtTransaction</text>
<text text-anchor="start" x="2546.5" y="-607.3" font-family="Arial" font-size="14.00">+ spent_proofs: BTreeSet&lt;SpentProof&gt;</text>
<polygon fill="none" stroke="black" points="2534,-592 2534,-683 2813,-683 2813,-592 2534,-592"/>
</a>
</g>
</g>
<!-- ndReissueRequest&#45;&gt;ndMintNode -->
<g id="edge22" class="edge"><title>ndReissueRequest&#45;&gt;ndMintNode</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2706.78,-587.908C2737.3,-544.397 2784.6,-479.543 2830.5,-427 2865.67,-386.739 2906.46,-345.053 2944.04,-308.386"/>
<polygon fill="black" stroke="black" points="2951.52,-301.121 2947.48,-311.319 2947.93,-304.607 2944.35,-308.093 2944.35,-308.093 2944.35,-308.093 2947.93,-304.607 2941.21,-304.867 2951.52,-301.121 2951.52,-301.121"/>
</g>
<!-- ndReissueRequestBuilder -->
<g id="node19" class="node"><title>ndReissueRequestBuilder</title>
<g id="a_node19_19"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/builder.rs#:~:text=struct%20ReissueRequestBuilder" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="1984.5,-243.5 1984.5,-280.5 2608.5,-280.5 2608.5,-243.5 1984.5,-243.5"/>
<polygon fill="none" stroke="black" points="1984.5,-243.5 1984.5,-280.5 2608.5,-280.5 2608.5,-243.5 1984.5,-243.5"/>
<text text-anchor="start" x="2215" y="-259.3" font-family="Arial" font-weight="bold" font-size="14.00">ReissueRequestBuilder</text>
<polygon fill="white" stroke="none" points="1984.5,-191.5 1984.5,-243.5 2608.5,-243.5 2608.5,-191.5 1984.5,-191.5"/>
<polygon fill="none" stroke="black" points="1984.5,-191.5 1984.5,-243.5 2608.5,-243.5 2608.5,-191.5 1984.5,-191.5"/>
<text text-anchor="start" x="1995.5" y="-221.3" font-family="Arial" font-size="14.00">+ transaction: RingCtTransaction</text>
<text text-anchor="start" x="1995.5" y="-206.3" font-family="Arial" font-size="14.00">+ spent_proof_shares: BTreeMap&lt;KeyImage, BTreeSet&lt;SpentProofShare&gt;&gt;</text>
<polygon fill="white" stroke="none" points="1984.5,-109.5 1984.5,-191.5 2608.5,-191.5 2608.5,-109.5 1984.5,-109.5"/>
<polygon fill="none" stroke="black" points="1984.5,-109.5 1984.5,-191.5 2608.5,-191.5 2608.5,-109.5 1984.5,-109.5"/>
<text text-anchor="start" x="1995.5" y="-169.3" font-family="Arial" font-size="14.00">&#45; new(transaction: RingCtTransaction) &#45;&gt; Self</text>
<text text-anchor="start" x="1995.5" y="-154.3" font-family="Arial" font-size="14.00">&#45; add_spent_proof_share(mut self, share: SpentProofShare) &#45;&gt; Self</text>
<text text-anchor="start" x="1995.5" y="-139.3" font-family="Arial" font-size="14.00">&#45; add_spent_proof_shares(mut self, shares: impl IntoIterator&lt;Item = SpentProofShare&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="1995.5" y="-124.3" font-family="Arial" font-size="14.00">&#45; build(&amp;self) &#45;&gt; Result&lt;ReissueRequest&gt;</text>
<polygon fill="none" stroke="black" points="1983.5,-109 1983.5,-282 2609.5,-282 2609.5,-109 1983.5,-109"/>
</a>
</g>
</g>
<!-- ndReissueRequest&#45;&gt;ndReissueRequestBuilder -->
<g id="edge23" class="edge"><title>ndReissueRequest&#45;&gt;ndReissueRequestBuilder</title>
<path fill="none" stroke="black" d="M2631.71,-587.731C2571.27,-517.181 2458.14,-385.148 2380.14,-294.116"/>
<polygon fill="black" stroke="black" points="2373.41,-286.264 2383.34,-290.93 2376.66,-290.061 2379.92,-293.858 2379.92,-293.858 2379.92,-293.858 2376.66,-290.061 2376.5,-296.786 2373.41,-286.264 2373.41,-286.264"/>
</g>
<!-- ndReissueShare -->
<g id="node10" class="node"><title>ndReissueShare</title>
<g id="a_node10_20"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/mint.rs#:~:text=struct%20ReissueShare" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2848.5,-652.5 2848.5,-689.5 3158.5,-689.5 3158.5,-652.5 2848.5,-652.5"/>
<polygon fill="none" stroke="black" points="2848.5,-652.5 2848.5,-689.5 3158.5,-689.5 3158.5,-652.5 2848.5,-652.5"/>
<text text-anchor="start" x="2955" y="-668.3" font-family="Arial" font-weight="bold" font-size="14.00">ReissueShare</text>
<polygon fill="white" stroke="none" points="2848.5,-585.5 2848.5,-652.5 3158.5,-652.5 3158.5,-585.5 2848.5,-585.5"/>
<polygon fill="none" stroke="black" points="2848.5,-585.5 2848.5,-652.5 3158.5,-652.5 3158.5,-585.5 2848.5,-585.5"/>
<text text-anchor="start" x="2859.5" y="-630.3" font-family="Arial" font-size="14.00">+ transaction: RingCtTransaction</text>
<text text-anchor="start" x="2859.5" y="-615.3" font-family="Arial" font-size="14.00">+ spent_proofs: BTreeSet&lt;SpentProof&gt;</text>
<text text-anchor="start" x="2859.5" y="-600.3" font-family="Arial" font-size="14.00">+ mint_node_signatures: MintNodeSignatures</text>
<polygon fill="none" stroke="black" points="2847.5,-584.5 2847.5,-690.5 3159.5,-690.5 3159.5,-584.5 2847.5,-584.5"/>
</a>
</g>
</g>
<!-- ndReissueShare&#45;&gt;ndMintNode -->
<g id="edge24" class="edge"><title>ndReissueShare&#45;&gt;ndMintNode</title>
<path fill="none" stroke="black" d="M3011.29,-580.327C3020.65,-512.802 3036.6,-397.775 3048.6,-311.209"/>
<polygon fill="black" stroke="black" points="3050,-301.065 3053.09,-311.588 3049.32,-306.017 3048.63,-310.97 3048.63,-310.97 3048.63,-310.97 3049.32,-306.017 3044.17,-310.352 3050,-301.065 3050,-301.065"/>
</g>
<!-- ndDbcBuilder -->
<g id="node20" class="node"><title>ndDbcBuilder</title>
<g id="a_node20_21"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/builder.rs#:~:text=struct%20DbcBuilder" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="4066.5,-251.5 4066.5,-288.5 4734.5,-288.5 4734.5,-251.5 4066.5,-251.5"/>
<polygon fill="none" stroke="black" points="4066.5,-251.5 4066.5,-288.5 4734.5,-288.5 4734.5,-251.5 4066.5,-251.5"/>
<text text-anchor="start" x="4361" y="-267.3" font-family="Arial" font-weight="bold" font-size="14.00">DbcBuilder</text>
<polygon fill="white" stroke="none" points="4066.5,-184.5 4066.5,-251.5 4734.5,-251.5 4734.5,-184.5 4066.5,-184.5"/>
<polygon fill="none" stroke="black" points="4066.5,-184.5 4066.5,-251.5 4734.5,-251.5 4734.5,-184.5 4066.5,-184.5"/>
<text text-anchor="start" x="4077.5" y="-229.3" font-family="Arial" font-size="14.00">+ revealed_commitments: Vec&lt;RevealedCommitment&gt;</text>
<text text-anchor="start" x="4077.5" y="-214.3" font-family="Arial" font-size="14.00">+ output_owners: OutputOwnerMap</text>
<text text-anchor="start" x="4077.5" y="-199.3" font-family="Arial" font-size="14.00">+ reissue_shares: Vec&lt;ReissueShare&gt;</text>
<polygon fill="white" stroke="none" points="4066.5,-102.5 4066.5,-184.5 4734.5,-184.5 4734.5,-102.5 4066.5,-102.5"/>
<polygon fill="none" stroke="black" points="4066.5,-102.5 4066.5,-184.5 4734.5,-184.5 4734.5,-102.5 4066.5,-102.5"/>
<text text-anchor="start" x="4077.5" y="-162.3" font-family="Arial" font-size="14.00">&#45; new(revealed_commitments: Vec&lt;RevealedCommitment&gt;, output_owners: OutputOwnerMap) &#45;&gt; Self</text>
<text text-anchor="start" x="4077.5" y="-147.3" font-family="Arial" font-size="14.00">&#45; add_reissue_share(mut self, reissue_share: ReissueShare) &#45;&gt; Self</text>
<text text-anchor="start" x="4077.5" y="-132.3" font-family="Arial" font-size="14.00">&#45; add_reissue_shares(mut self, shares: impl IntoIterator&lt;Item = ReissueShare&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="4077.5" y="-117.3" font-family="Arial" font-size="14.00">&#45; build(self) &#45;&gt; Result&lt;Vec&lt;(Dbc, OwnerOnce, AmountSecrets)&gt;&gt;</text>
<polygon fill="none" stroke="black" points="4065.5,-101.5 4065.5,-289.5 4735.5,-289.5 4735.5,-101.5 4065.5,-101.5"/>
</a>
</g>
</g>
<!-- ndReissueShare&#45;&gt;ndDbcBuilder -->
<g id="edge25" class="edge"><title>ndReissueShare&#45;&gt;ndDbcBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M3033.29,-580.154C3062.65,-530.78 3112.39,-461.646 3176.5,-427 3304.35,-357.91 3358.07,-414.396 3501.5,-391 3681.96,-361.564 3880.84,-319.549 4045.56,-282.097"/>
<polygon fill="black" stroke="black" points="4045.66,-282.074 4050.62,-276.841 4057.36,-279.409 4052.4,-284.642 4045.66,-282.074"/>
</g>
<!-- ndDbcContent&#45;&gt;ndGenesisDbcShare -->
<g id="edge26" class="edge"><title>ndDbcContent&#45;&gt;ndGenesisDbcShare</title>
<path fill="none" stroke="black" d="M3315.5,-943.979C3315.5,-880.255 3315.5,-799.321 3315.5,-736.771"/>
<polygon fill="black" stroke="black" points="3315.5,-736.517 3311.5,-730.517 3315.5,-724.517 3319.5,-730.517 3315.5,-736.517"/>
</g>
<!-- ndDbcContent&#45;&gt;ndDbc -->
<g id="edge27" class="edge"><title>ndDbcContent&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M3473.34,-943.957C3509.9,-922.331 3549.31,-900.992 3587.5,-884 3713.36,-828.006 3855.64,-780.184 3985.59,-742.026"/>
<polygon fill="black" stroke="black" points="3985.81,-741.964 3990.44,-736.442 3997.33,-738.598 3992.69,-744.12 3985.81,-741.964"/>
</g>
<!-- ndPublicKeyBlstMappable&#45;&gt;ndSpentBookNodeMock -->
<g id="edge28" class="edge"><title>ndPublicKeyBlstMappable&#45;&gt;ndSpentBookNodeMock</title>
<path fill="none" stroke="black" d="M282.316,-950.844C307.725,-928.582 334.859,-905.238 360.5,-884 395.424,-855.073 433.065,-824.902 469.753,-796.011"/>
<polygon fill="black" stroke="black" points="470.13,-795.714 472.375,-788.862 479.564,-788.298 477.319,-795.151 470.13,-795.714"/>
</g>
<!-- ndBlsHelper -->
<g id="node14" class="node"><title>ndBlsHelper</title>
<g id="a_node14_22"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/blst.rs#:~:text=struct%20BlsHelper" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="3902.5,-1903.5 3902.5,-1940.5 4318.5,-1940.5 4318.5,-1903.5 3902.5,-1903.5"/>
<polygon fill="none" stroke="black" points="3902.5,-1903.5 3902.5,-1940.5 4318.5,-1940.5 4318.5,-1903.5 3902.5,-1903.5"/>
<text text-anchor="start" x="4076.5" y="-1919.3" font-family="Arial" font-weight="bold" font-size="14.00">BlsHelper</text>
<polygon fill="white" stroke="none" points="3902.5,-1821.5 3902.5,-1903.5 4318.5,-1903.5 4318.5,-1821.5 3902.5,-1821.5"/>
<polygon fill="none" stroke="black" points="3902.5,-1821.5 3902.5,-1903.5 4318.5,-1903.5 4318.5,-1821.5 3902.5,-1821.5"/>
<text text-anchor="start" x="3913.5" y="-1881.3" font-family="Arial" font-size="14.00">&#45; blsttc_to_blstrs_secret_key(sk: SecretKey) &#45;&gt; SecretKeyBlst</text>
<text text-anchor="start" x="3913.5" y="-1866.3" font-family="Arial" font-size="14.00">&#45; blsttc_to_blstrs_public_key(pk: &amp;PublicKey) &#45;&gt; PublicKeyBlst</text>
<text text-anchor="start" x="3913.5" y="-1851.3" font-family="Arial" font-size="14.00">&#45; blstrs_to_blsttc_public_key(pk: &amp;PublicKeyBlst) &#45;&gt; PublicKey</text>
<text text-anchor="start" x="3913.5" y="-1836.3" font-family="Arial" font-size="14.00">&#45; blstrs_to_blsttc_secret_key(sk: SecretKeyBlst) &#45;&gt; SecretKey</text>
<polygon fill="none" stroke="black" points="3901.5,-1821 3901.5,-1942 4319.5,-1942 4319.5,-1821 3901.5,-1821"/>
</a>
</g>
</g>
<!-- ndOwner -->
<g id="node15" class="node"><title>ndOwner</title>
<g id="a_node15_23"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/owner.rs#:~:text=enum%20Owner" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="3383.5,-1627 3383.5,-1664 3820.5,-1664 3820.5,-1627 3383.5,-1627"/>
<polygon fill="none" stroke="black" points="3383.5,-1627 3383.5,-1664 3820.5,-1664 3820.5,-1627 3383.5,-1627"/>
<text text-anchor="start" x="3579" y="-1642.8" font-family="Arial" font-weight="bold" font-size="14.00">Owner</text>
<polygon fill="white" stroke="none" points="3383.5,-1575 3383.5,-1627 3820.5,-1627 3820.5,-1575 3383.5,-1575"/>
<polygon fill="none" stroke="black" points="3383.5,-1575 3383.5,-1627 3820.5,-1627 3820.5,-1575 3383.5,-1575"/>
<text text-anchor="start" x="3394.5" y="-1604.8" font-family="Arial" font-size="14.00">SecretKey(SerdeSecret&lt;SecretKey&gt;)</text>
<text text-anchor="start" x="3394.5" y="-1589.8" font-family="Arial" font-size="14.00">PublicKey(PublicKey)</text>
<polygon fill="white" stroke="none" points="3383.5,-1342 3383.5,-1575 3820.5,-1575 3820.5,-1342 3383.5,-1342"/>
<polygon fill="none" stroke="black" points="3383.5,-1342 3383.5,-1575 3820.5,-1575 3820.5,-1342 3383.5,-1342"/>
<text text-anchor="start" x="3394.5" y="-1552.8" font-family="Arial" font-size="14.00">&#45; fmt(&amp;self, f: &amp;mut fmt::Formatter&lt;&#39;_&gt;) &#45;&gt; fmt::Result</text>
<text text-anchor="start" x="3394.5" y="-1537.8" font-family="Arial" font-size="14.00">&#45; from(s: SecretKey) &#45;&gt; Self</text>
<text text-anchor="start" x="3394.5" y="-1522.8" font-family="Arial" font-size="14.00">&#45; from(p: PublicKey) &#45;&gt; Self</text>
<text text-anchor="start" x="3394.5" y="-1507.8" font-family="Arial" font-size="14.00">&#45; eq(&amp;self, other: &amp;Self) &#45;&gt; bool</text>
<text text-anchor="start" x="3394.5" y="-1476" font-family="Arial" font-size="14.00">&#45; public_key(&amp;self) &#45;&gt; PublicKey</text>
<text text-anchor="start" x="3394.5" y="-1461" font-family="Arial" font-size="14.00">&#45; secret_key(&amp;self) &#45;&gt; Result&lt;SecretKey&gt;</text>
<text text-anchor="start" x="3394.5" y="-1446" font-family="Arial" font-size="14.00">&#45; public_key_blst(&amp;self) &#45;&gt; PublicKeyBlst</text>
<text text-anchor="start" x="3394.5" y="-1431" font-family="Arial" font-size="14.00">&#45; secret_key_blst(&amp;self) &#45;&gt; Result&lt;SecretKeyBlst&gt;</text>
<text text-anchor="start" x="3394.5" y="-1416" font-family="Arial" font-size="14.00">&#45; derive(&amp;self, i: &amp;DerivationIndex) &#45;&gt; Self</text>
<text text-anchor="start" x="3394.5" y="-1401" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="3394.5" y="-1386" font-family="Arial" font-size="14.00">&#45; has_secret_key(&amp;self) &#45;&gt; bool</text>
<text text-anchor="start" x="3394.5" y="-1371" font-family="Arial" font-size="14.00">&#45; from_random_secret_key(rng: &amp;mut impl rand::RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="3394.5" y="-1356" font-family="Arial" font-size="14.00">&#45; from(o: OwnerOnce) &#45;&gt; Self</text>
<polygon fill="none" stroke="black" points="3382,-1341 3382,-1665 3821,-1665 3821,-1341 3382,-1341"/>
</a>
</g>
</g>
<!-- ndOwner&#45;&gt;ndDbcContent -->
<g id="edge29" class="edge"><title>ndOwner&#45;&gt;ndDbcContent</title>
<path fill="none" stroke="black" d="M3496.83,-1336.76C3460.79,-1279.87 3421.25,-1217.45 3388.31,-1165.45"/>
<polygon fill="black" stroke="black" points="3388.24,-1165.33 3381.65,-1162.4 3381.82,-1155.2 3388.41,-1158.12 3388.24,-1165.33"/>
</g>
<!-- ndOwnerOnce -->
<g id="node16" class="node"><title>ndOwnerOnce</title>
<g id="a_node16_24"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/owner.rs#:~:text=struct%20OwnerOnce" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="3336.5,-1929.5 3336.5,-1966.5 3866.5,-1966.5 3866.5,-1929.5 3336.5,-1929.5"/>
<polygon fill="none" stroke="black" points="3336.5,-1929.5 3336.5,-1966.5 3866.5,-1966.5 3866.5,-1929.5 3336.5,-1929.5"/>
<text text-anchor="start" x="3560" y="-1945.3" font-family="Arial" font-weight="bold" font-size="14.00">OwnerOnce</text>
<polygon fill="white" stroke="none" points="3336.5,-1877.5 3336.5,-1929.5 3866.5,-1929.5 3866.5,-1877.5 3336.5,-1877.5"/>
<polygon fill="none" stroke="black" points="3336.5,-1877.5 3336.5,-1929.5 3866.5,-1929.5 3866.5,-1877.5 3336.5,-1877.5"/>
<text text-anchor="start" x="3347.5" y="-1907.3" font-family="Arial" font-size="14.00">+ owner_base: Owner</text>
<text text-anchor="start" x="3347.5" y="-1892.3" font-family="Arial" font-size="14.00">+ derivation_index: DerivationIndex</text>
<polygon fill="white" stroke="none" points="3336.5,-1795.5 3336.5,-1877.5 3866.5,-1877.5 3866.5,-1795.5 3336.5,-1795.5"/>
<polygon fill="none" stroke="black" points="3336.5,-1795.5 3336.5,-1877.5 3866.5,-1877.5 3866.5,-1795.5 3336.5,-1795.5"/>
<text text-anchor="start" x="3347.5" y="-1855.3" font-family="Arial" font-size="14.00">&#45; owner_base(&amp;self) &#45;&gt; &amp;Owner</text>
<text text-anchor="start" x="3347.5" y="-1840.3" font-family="Arial" font-size="14.00">&#45; as_owner(&amp;self) &#45;&gt; Owner</text>
<text text-anchor="start" x="3347.5" y="-1825.3" font-family="Arial" font-size="14.00">&#45; from_owner_base(owner_base: Owner, rng: &amp;mut impl rand8::RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="3347.5" y="-1810.3" font-family="Arial" font-size="14.00">&#45; random_derivation_index(rng: &amp;mut impl rand8::RngCore) &#45;&gt; [u8; 32]</text>
<polygon fill="none" stroke="black" points="3335.5,-1795 3335.5,-1968 3867.5,-1968 3867.5,-1795 3335.5,-1795"/>
</a>
</g>
</g>
<!-- ndOwner&#45;&gt;ndOwnerOnce -->
<g id="edge30" class="edge"><title>ndOwner&#45;&gt;ndOwnerOnce</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M3608.21,-1669.32C3608.35,-1706.51 3608.14,-1744.91 3607.57,-1778.61"/>
<polygon fill="black" stroke="black" points="3607.57,-1778.8 3611.46,-1784.87 3607.35,-1790.8 3603.46,-1784.72 3607.57,-1778.8"/>
</g>
<!-- ndOwner&#45;&gt;ndDbc -->
<g id="edge31" class="edge"><title>ndOwner&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M3596.86,-1336.63C3593.6,-1165.82 3593.76,-919.295 3620.5,-884 3668.91,-820.093 3826.44,-764.789 3987.37,-722.937"/>
<polygon fill="black" stroke="black" points="3997.49,-720.325 3988.93,-727.183 3992.64,-721.576 3987.8,-722.826 3987.8,-722.826 3987.8,-722.826 3992.64,-721.576 3986.68,-718.469 3997.49,-720.325 3997.49,-720.325"/>
</g>
<!-- ndOwnerOnce&#45;&gt;ndGenesisDbcShare -->
<g id="edge32" class="edge"><title>ndOwnerOnce&#45;&gt;ndGenesisDbcShare</title>
<path fill="none" stroke="black" d="M3409.06,-1790.96C3393.16,-1779.96 3378.03,-1767.97 3364.5,-1755 3163.74,-1562.59 3121.26,-1483.39 3048.5,-1215 3029.25,-1144.01 3004.08,-942.631 3048.5,-884 3084.18,-836.894 3128.73,-882.796 3176.5,-848 3216.09,-819.158 3247.68,-775.344 3270.68,-735.227"/>
<polygon fill="black" stroke="black" points="3270.78,-735.047 3270.22,-727.858 3276.64,-724.574 3277.2,-731.764 3270.78,-735.047"/>
</g>
<!-- ndOwnerOnce&#45;&gt;ndOwner -->
<g id="edge33" class="edge"><title>ndOwnerOnce&#45;&gt;ndOwner</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M3595.65,-1790.8C3594.98,-1757.35 3594.68,-1718.13 3594.76,-1679.62"/>
<polygon fill="black" stroke="black" points="3594.79,-1669.32 3599.26,-1679.33 3594.78,-1674.32 3594.76,-1679.32 3594.76,-1679.32 3594.76,-1679.32 3594.78,-1674.32 3590.26,-1679.3 3594.79,-1669.32 3594.79,-1669.32"/>
</g>
<!-- ndTransactionBuilder -->
<g id="node18" class="node"><title>ndTransactionBuilder</title>
<g id="a_node18_25"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/builder.rs#:~:text=struct%20TransactionBuilder" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="4770.5,-348.5 4770.5,-385.5 5810.5,-385.5 5810.5,-348.5 4770.5,-348.5"/>
<polygon fill="none" stroke="black" points="4770.5,-348.5 4770.5,-385.5 5810.5,-385.5 5810.5,-348.5 4770.5,-348.5"/>
<text text-anchor="start" x="5223.5" y="-364.3" font-family="Arial" font-weight="bold" font-size="14.00">TransactionBuilder</text>
<polygon fill="white" stroke="none" points="4770.5,-296.5 4770.5,-348.5 5810.5,-348.5 5810.5,-296.5 4770.5,-296.5"/>
<polygon fill="none" stroke="black" points="4770.5,-296.5 4770.5,-348.5 5810.5,-348.5 5810.5,-296.5 4770.5,-296.5"/>
<text text-anchor="start" x="4781.5" y="-326.3" font-family="Arial" font-size="14.00">&#45; material: RingCtMaterial</text>
<text text-anchor="start" x="4781.5" y="-311.3" font-family="Arial" font-size="14.00">&#45; output_owners: OutputOwnerMap</text>
<polygon fill="white" stroke="none" points="4770.5,-4.5 4770.5,-296.5 5810.5,-296.5 5810.5,-4.5 4770.5,-4.5"/>
<polygon fill="none" stroke="black" points="4770.5,-4.5 4770.5,-296.5 5810.5,-296.5 5810.5,-4.5 4770.5,-4.5"/>
<text text-anchor="start" x="4781.5" y="-274.3" font-family="Arial" font-size="14.00">&#45; add_input(mut self, mlsag: MlsagMaterial) &#45;&gt; Self</text>
<text text-anchor="start" x="4781.5" y="-259.3" font-family="Arial" font-size="14.00">&#45; add_inputs(mut self, inputs: impl IntoIterator&lt;Item = MlsagMaterial&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="4781.5" y="-244.3" font-family="Arial" font-size="14.00">&#45; add_input_by_true_input(mut self, true_input: TrueInput, decoy_inputs: Vec&lt;DecoyInput&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="4781.5" y="-229.3" font-family="Arial" font-size="14.00">&#45; add_inputs_by_true_inputs(mut self, inputs: impl IntoIterator&lt;Item = (TrueInput, Vec&lt;DecoyInput&gt;)&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="4781.5" y="-214.3" font-family="Arial" font-size="14.00">&#45; add_input_dbc(mut self, dbc: &amp;Dbc, base_sk: &amp;SecretKey, decoy_inputs: Vec&lt;DecoyInput&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="4781.5" y="-199.3" font-family="Arial" font-size="14.00">&#45; add_inputs_dbc(mut self, dbcs: impl IntoIterator&lt;Item = (Dbc, SecretKey, Vec&lt;DecoyInput&gt;)&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="4781.5" y="-184.3" font-family="Arial" font-size="14.00">&#45; add_input_dbc_bearer(mut self, dbc: &amp;Dbc, decoy_inputs: Vec&lt;DecoyInput&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="4781.5" y="-169.3" font-family="Arial" font-size="14.00">&#45; add_inputs_dbc_bearer(mut self, dbcs: impl IntoIterator&lt;Item = (Dbc, Vec&lt;DecoyInput&gt;)&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="4781.5" y="-154.3" font-family="Arial" font-size="14.00">&#45; add_input_by_secrets(mut self, secret_key: SecretKeyBlst, amount_secrets: AmountSecrets, decoy_inputs: Vec&lt;DecoyInput&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="4781.5" y="-139.3" font-family="Arial" font-size="14.00">&#45; add_inputs_by_secrets(mut self, secrets: Vec&lt;(SecretKeyBlst, AmountSecrets, Vec&lt;DecoyInput&gt;)&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="4781.5" y="-124.3" font-family="Arial" font-size="14.00">&#45; add_output(mut self, output: Output, owner: OwnerOnce) &#45;&gt; Self</text>
<text text-anchor="start" x="4781.5" y="-109.3" font-family="Arial" font-size="14.00">&#45; add_outputs(mut self, outputs: impl IntoIterator&lt;Item = (Output, OwnerOnce)&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="4781.5" y="-94.3" font-family="Arial" font-size="14.00">&#45; input_owners(&amp;self) &#45;&gt; Vec&lt;PublicKeyBlst&gt;</text>
<text text-anchor="start" x="4781.5" y="-79.3" font-family="Arial" font-size="14.00">&#45; inputs_amount_sum(&amp;self) &#45;&gt; Amount</text>
<text text-anchor="start" x="4781.5" y="-64.3" font-family="Arial" font-size="14.00">&#45; outputs_amount_sum(&amp;self) &#45;&gt; Amount</text>
<text text-anchor="start" x="4781.5" y="-49.3" font-family="Arial" font-size="14.00">&#45; inputs(&amp;self) &#45;&gt; &amp;Vec&lt;MlsagMaterial&gt;</text>
<text text-anchor="start" x="4781.5" y="-34.3" font-family="Arial" font-size="14.00">&#45; outputs(&amp;self) &#45;&gt; &amp;Vec&lt;Output&gt;</text>
<text text-anchor="start" x="4781.5" y="-19.3" font-family="Arial" font-size="14.00">&#45; build(self, rng: impl RngCore + rand_core::CryptoRng) &#45;&gt; Result&lt;(RingCtTransaction, Vec&lt;RevealedCommitment&gt;, RingCtMaterial, &#160;&#160;&#160;&#160;&#160;&#160;&#160;OutputOwnerMap)&gt;</text>
<polygon fill="none" stroke="black" points="4769.5,-4 4769.5,-387 5811.5,-387 5811.5,-4 4769.5,-4"/>
</a>
</g>
</g>
<!-- ndOwnerOnce&#45;&gt;ndTransactionBuilder -->
<g id="edge34" class="edge"><title>ndOwnerOnce&#45;&gt;ndTransactionBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M3875.7,-1792.54C3878.64,-1792 3881.58,-1791.49 3884.5,-1791 3959.81,-1778.36 5191.47,-1791.57 5258.5,-1755 5627.42,-1553.74 5721.2,-1293.44 5626.5,-884 5586.63,-711.609 5497.29,-532.504 5420.76,-400.334"/>
<polygon fill="black" stroke="black" points="5415.51,-391.299 5424.42,-397.681 5418.02,-395.621 5420.53,-399.943 5420.53,-399.943 5420.53,-399.943 5418.02,-395.621 5416.64,-402.205 5415.51,-391.299 5415.51,-391.299"/>
</g>
<!-- ndOwnerOnce&#45;&gt;ndDbcBuilder -->
<g id="edge35" class="edge"><title>ndOwnerOnce&#45;&gt;ndDbcBuilder</title>
<path fill="none" stroke="black" d="M3826.16,-1790.88C4147.29,-1657.66 4711.21,-1402.93 4822.5,-1215 4857.32,-1156.21 4844.03,-479.443 4812.5,-427 4810.7,-424.005 4693.8,-358.737 4585,-298.421"/>
<polygon fill="black" stroke="black" points="4576.18,-293.533 4587.11,-294.444 4580.55,-295.956 4584.93,-298.38 4584.93,-298.38 4584.93,-298.38 4580.55,-295.956 4582.75,-302.316 4576.18,-293.533 4576.18,-293.533"/>
</g>
<!-- ndDbc&#45;&gt;ndTransactionBuilder -->
<g id="edge36" class="edge"><title>ndDbc&#45;&gt;ndTransactionBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M4803.51,-437.259C4831.54,-423.404 4859.78,-409.438 4887.81,-395.584"/>
<polygon fill="black" stroke="black" points="4896.9,-391.09 4889.93,-399.556 4892.41,-393.306 4887.93,-395.522 4887.93,-395.522 4887.93,-395.522 4892.41,-393.306 4885.94,-391.488 4896.9,-391.09 4896.9,-391.09"/>
</g>
<!-- ndDbc&#45;&gt;ndDbcBuilder -->
<g id="edge37" class="edge"><title>ndDbc&#45;&gt;ndDbcBuilder</title>
<path fill="none" stroke="black" d="M4400.5,-426.809C4400.5,-384.221 4400.5,-341.116 4400.5,-303.898"/>
<polygon fill="black" stroke="black" points="4400.5,-293.562 4405,-303.562 4400.5,-298.562 4400.5,-303.562 4400.5,-303.562 4400.5,-303.562 4400.5,-298.562 4396,-303.562 4400.5,-293.562 4400.5,-293.562"/>
</g>
<!-- ndSpentProofContent&#45;&gt;ndSpentProofShare -->
<g id="edge38" class="edge"><title>ndSpentProofContent&#45;&gt;ndSpentProofShare</title>
<path fill="none" stroke="black" d="M2679.63,-1404.71C2643.03,-1356.7 2596.49,-1298.96 2550.5,-1251 2526.99,-1226.48 2500.81,-1201.7 2474.76,-1178.32"/>
<polygon fill="black" stroke="black" points="2474.51,-1178.1 2467.37,-1177.09 2465.56,-1170.11 2472.7,-1171.12 2474.51,-1178.1"/>
</g>
<!-- ndSpentProofContent&#45;&gt;ndSpentProof -->
<g id="edge39" class="edge"><title>ndSpentProofContent&#45;&gt;ndSpentProof</title>
<path fill="none" stroke="black" d="M2761.69,-1404.86C2769.7,-1335.26 2780.54,-1241.19 2789.03,-1167.46"/>
<polygon fill="black" stroke="black" points="2789.05,-1167.26 2785.77,-1160.84 2790.43,-1155.34 2793.71,-1161.76 2789.05,-1167.26"/>
</g>
<!-- ndSpentProofShare&#45;&gt;ndMintNode -->
<g id="edge40" class="edge"><title>ndSpentProofShare&#45;&gt;ndMintNode</title>
<path fill="none" stroke="black" d="M2325.68,-928.726C2339.2,-789.882 2381.97,-562.792 2516.5,-427 2552.7,-390.457 2578.49,-409.462 2626.5,-391 2693.9,-365.082 2765.95,-334.382 2831.74,-305.121"/>
<polygon fill="black" stroke="black" points="2840.98,-301.002 2833.68,-309.183 2836.41,-303.038 2831.84,-305.073 2831.84,-305.073 2831.84,-305.073 2836.41,-303.038 2830.01,-300.963 2840.98,-301.002 2840.98,-301.002"/>
</g>
<!-- ndSpentProofShare&#45;&gt;ndReissueRequestBuilder -->
<g id="edge41" class="edge"><title>ndSpentProofShare&#45;&gt;ndReissueRequestBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2316.27,-928.686C2311.72,-760.169 2303.51,-456.105 2299.24,-298.071"/>
<polygon fill="black" stroke="black" points="2299.24,-298.017 2295.08,-292.127 2298.92,-286.021 2303.08,-291.911 2299.24,-298.017"/>
</g>
<!-- ndSpentProofShare&#45;&gt;ndSpentBookNodeMock -->
<g id="edge42" class="edge"><title>ndSpentProofShare&#45;&gt;ndSpentBookNodeMock</title>
<path fill="none" stroke="black" d="M2128.94,-1000.49C1998.26,-967.612 1820.91,-923.054 1664.5,-884 1477.72,-837.364 1271.04,-786.017 1095.11,-742.391"/>
<polygon fill="black" stroke="black" points="1085.17,-739.925 1095.96,-737.964 1090.02,-741.128 1094.87,-742.332 1094.87,-742.332 1094.87,-742.332 1090.02,-741.128 1093.79,-746.699 1085.17,-739.925 1085.17,-739.925"/>
</g>
<!-- ndSpentProof&#45;&gt;ndReissueRequest -->
<g id="edge43" class="edge"><title>ndSpentProof&#45;&gt;ndReissueRequest</title>
<path fill="none" stroke="black" d="M2769.61,-943.979C2745.16,-866.253 2712.65,-762.925 2692.4,-698.581"/>
<polygon fill="black" stroke="black" points="2692.37,-698.482 2686.76,-693.959 2688.77,-687.035 2694.39,-691.558 2692.37,-698.482"/>
</g>
<!-- ndSpentProof&#45;&gt;ndReissueShare -->
<g id="edge44" class="edge"><title>ndSpentProof&#45;&gt;ndReissueShare</title>
<path fill="none" stroke="black" d="M2853.74,-943.979C2890.52,-868.958 2938.99,-770.086 2970.68,-705.438"/>
<polygon fill="black" stroke="black" points="2970.73,-705.348 2969.78,-698.2 2976.01,-694.573 2976.96,-701.721 2970.73,-705.348"/>
</g>
<!-- ndSpentProof&#45;&gt;ndDbc -->
<g id="edge45" class="edge"><title>ndSpentProof&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M2932.91,-943.873C2968.53,-920.32 3008.4,-898.135 3048.5,-884 3219.35,-823.772 3275.47,-875.642 3454.5,-848 3629.74,-820.944 3821.05,-780.65 3985.49,-742.607"/>
<polygon fill="black" stroke="black" points="3985.59,-742.583 3990.53,-737.331 3997.28,-739.872 3992.34,-745.124 3985.59,-742.583"/>
</g>
<!-- ndAmountSecrets&#45;&gt;ndGenesisDbcShare -->
<g id="edge46" class="edge"><title>ndAmountSecrets&#45;&gt;ndGenesisDbcShare</title>
<path fill="none" stroke="black" d="M4907.46,-905.091C4879.02,-896.888 4850.47,-889.683 4822.5,-884 4458.92,-810.125 4354.01,-911.669 3988.5,-848 3800.34,-815.224 3591.46,-744.542 3457.06,-694.358"/>
<polygon fill="black" stroke="black" points="3456.74,-694.236 3449.72,-695.875 3445.5,-690.023 3452.52,-688.385 3456.74,-694.236"/>
</g>
<!-- ndAmountSecrets&#45;&gt;ndDbc -->
<g id="edge47" class="edge"><title>ndAmountSecrets&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M4916.55,-883.952C4882.48,-867.75 4847.68,-851.196 4813.04,-834.719"/>
<polygon fill="black" stroke="black" points="4803.75,-830.303 4814.72,-830.535 4808.27,-832.451 4812.79,-834.599 4812.79,-834.599 4812.79,-834.599 4808.27,-832.451 4810.85,-838.662 4803.75,-830.303 4803.75,-830.303"/>
</g>
<!-- ndAmountSecrets&#45;&gt;ndTransactionBuilder -->
<g id="edge48" class="edge"><title>ndAmountSecrets&#45;&gt;ndTransactionBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M5267.91,-883.973C5272.43,-746.275 5278.91,-549.14 5283.77,-401.248"/>
<polygon fill="black" stroke="black" points="5284.1,-391.133 5288.27,-401.276 5283.94,-396.131 5283.78,-401.128 5283.78,-401.128 5283.78,-401.128 5283.94,-396.131 5279.28,-400.98 5284.1,-391.133 5284.1,-391.133"/>
</g>
<!-- ndAmountSecrets&#45;&gt;ndDbcBuilder -->
<g id="edge49" class="edge"><title>ndAmountSecrets&#45;&gt;ndDbcBuilder</title>
<path fill="none" stroke="black" d="M5192.03,-883.914C5124.46,-744.22 5009.94,-547.759 4855.5,-427 4817.3,-397.129 4796.77,-410.797 4752.5,-391 4692.15,-364.012 4628.29,-330.38 4571.77,-298.712"/>
<polygon fill="black" stroke="black" points="4562.77,-293.647 4573.69,-294.626 4567.12,-296.098 4571.48,-298.549 4571.48,-298.549 4571.48,-298.549 4567.12,-296.098 4569.28,-302.471 4562.77,-293.647 4562.77,-293.647"/>
</g>
</g>
</svg>
