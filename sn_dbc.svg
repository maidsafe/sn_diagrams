<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.38.0 (20140413.2041)
 -->
<!-- Title: ml Pages: 1 -->
<svg width="6296pt" height="2092pt"
 viewBox="0.00 0.00 6295.50 2092.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2088)">
<title>ml</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-2088 6291.5,-2088 6291.5,4 -4,4"/>
<!-- ndHash -->
<g id="node1" class="node"><title>ndHash</title>
<g id="a_node1_0"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/lib.rs#:~:text=struct%20Hash" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2453.5,-2034.5 2453.5,-2071.5 2808.5,-2071.5 2808.5,-2034.5 2453.5,-2034.5"/>
<polygon fill="none" stroke="black" points="2453.5,-2034.5 2453.5,-2071.5 2808.5,-2071.5 2808.5,-2034.5 2453.5,-2034.5"/>
<text text-anchor="start" x="2613" y="-2050.3" font-family="Arial" font-weight="bold" font-size="14.00">Hash</text>
<polygon fill="white" stroke="none" points="2453.5,-1997.5 2453.5,-2034.5 2808.5,-2034.5 2808.5,-1997.5 2453.5,-1997.5"/>
<polygon fill="none" stroke="black" points="2453.5,-1997.5 2453.5,-2034.5 2808.5,-2034.5 2808.5,-1997.5 2453.5,-1997.5"/>
<text text-anchor="start" x="2464.5" y="-2012.3" font-family="Arial" font-size="14.00">&#45; [u8; 32]</text>
<polygon fill="white" stroke="none" points="2453.5,-1915.5 2453.5,-1997.5 2808.5,-1997.5 2808.5,-1915.5 2453.5,-1915.5"/>
<polygon fill="none" stroke="black" points="2453.5,-1915.5 2453.5,-1997.5 2808.5,-1997.5 2808.5,-1915.5 2453.5,-1915.5"/>
<text text-anchor="start" x="2464.5" y="-1975.3" font-family="Arial" font-size="14.00">&#45; hash(input: &amp;[u8]) &#45;&gt; Self</text>
<text text-anchor="start" x="2464.5" y="-1960.3" font-family="Arial" font-size="14.00">&#45; from(val: [u8; 32]) &#45;&gt; Hash</text>
<text text-anchor="start" x="2464.5" y="-1945.3" font-family="Arial" font-size="14.00">&#45; fmt(&amp;self, f: &amp;mut fmt::Formatter&lt;&#39;_&gt;) &#45;&gt; fmt::Result</text>
<text text-anchor="start" x="2464.5" y="-1930.3" font-family="Arial" font-size="14.00">&#45; as_ref(&amp;self) &#45;&gt; &amp;[u8]</text>
<polygon fill="none" stroke="black" points="2452,-1914.5 2452,-2072.5 2809,-2072.5 2809,-1914.5 2452,-1914.5"/>
</a>
</g>
</g>
<!-- ndSimpleKeyManager -->
<g id="node6" class="node"><title>ndSimpleKeyManager</title>
<g id="a_node6_1"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/key_manager.rs#:~:text=struct%20SimpleKeyManager" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="873.5,-1322.5 873.5,-1359.5 1486.5,-1359.5 1486.5,-1322.5 873.5,-1322.5"/>
<polygon fill="none" stroke="black" points="873.5,-1322.5 873.5,-1359.5 1486.5,-1359.5 1486.5,-1322.5 873.5,-1322.5"/>
<text text-anchor="start" x="1112" y="-1338.3" font-family="Arial" font-weight="bold" font-size="14.00">SimpleKeyManager</text>
<polygon fill="white" stroke="none" points="873.5,-1270.5 873.5,-1322.5 1486.5,-1322.5 1486.5,-1270.5 873.5,-1270.5"/>
<polygon fill="none" stroke="black" points="873.5,-1270.5 873.5,-1322.5 1486.5,-1322.5 1486.5,-1270.5 873.5,-1270.5"/>
<text text-anchor="start" x="884.5" y="-1300.3" font-family="Arial" font-size="14.00">&#45; signer: SimpleSigner</text>
<text text-anchor="start" x="884.5" y="-1285.3" font-family="Arial" font-size="14.00">&#45; cache: Keys</text>
<polygon fill="white" stroke="none" points="873.5,-1143.5 873.5,-1270.5 1486.5,-1270.5 1486.5,-1143.5 873.5,-1143.5"/>
<polygon fill="none" stroke="black" points="873.5,-1143.5 873.5,-1270.5 1486.5,-1270.5 1486.5,-1143.5 873.5,-1143.5"/>
<text text-anchor="start" x="884.5" y="-1248.3" font-family="Arial" font-size="14.00">&#45; from(signer: SimpleSigner) &#45;&gt; Self</text>
<text text-anchor="start" x="884.5" y="-1233.3" font-family="Arial" font-size="14.00">&#45; add_known_key(&amp;mut self, key: PublicKey) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="884.5" y="-1218.3" font-family="Arial" font-size="14.00">&#45; public_key_set(&amp;self) &#45;&gt; Result&lt;PublicKeySet&gt;</text>
<text text-anchor="start" x="884.5" y="-1203.3" font-family="Arial" font-size="14.00">&#45; sign_with_child_key(&amp;self, index: &amp;[u8], tx_hash: &amp;Hash) &#45;&gt; Result&lt;IndexedSignatureShare&gt;</text>
<text text-anchor="start" x="884.5" y="-1188.3" font-family="Arial" font-size="14.00">&#45; sign(&amp;self, msg_hash: &amp;Hash) &#45;&gt; Result&lt;IndexedSignatureShare&gt;</text>
<text text-anchor="start" x="884.5" y="-1173.3" font-family="Arial" font-size="14.00">&#45; verify(&amp;self, msg_hash: &amp;Hash, key: &amp;PublicKey, signature: &amp;Signature) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="884.5" y="-1158.3" font-family="Arial" font-size="14.00">&#45; verify_known_key(&amp;self, key: &amp;PublicKey) &#45;&gt; Result&lt;()&gt;</text>
<polygon fill="none" stroke="black" points="872,-1142.5 872,-1360.5 1487,-1360.5 1487,-1142.5 872,-1142.5"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSimpleKeyManager -->
<g id="edge1" class="edge"><title>ndHash&#45;&gt;ndSimpleKeyManager</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2443.71,-1991.57C2045.66,-1987.63 1142.42,-1967.59 1049.5,-1867 984.811,-1796.97 1020.81,-1528.92 1049.5,-1438 1056.51,-1415.77 1067.25,-1393.88 1079.61,-1373.38"/>
<polygon fill="black" stroke="black" points="1085,-1364.68 1083.56,-1375.55 1082.37,-1368.93 1079.73,-1373.18 1079.73,-1373.18 1079.73,-1373.18 1082.37,-1368.93 1075.91,-1370.81 1085,-1364.68 1085,-1364.68"/>
</g>
<!-- ndKeys -->
<g id="node7" class="node"><title>ndKeys</title>
<g id="a_node7_2"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/key_manager.rs#:~:text=struct%20Keys" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="1068.5,-1693.5 1068.5,-1730.5 1559.5,-1730.5 1559.5,-1693.5 1068.5,-1693.5"/>
<polygon fill="none" stroke="black" points="1068.5,-1693.5 1068.5,-1730.5 1559.5,-1730.5 1559.5,-1693.5 1068.5,-1693.5"/>
<text text-anchor="start" x="1296" y="-1709.3" font-family="Arial" font-weight="bold" font-size="14.00">Keys</text>
<polygon fill="white" stroke="none" points="1068.5,-1656.5 1068.5,-1693.5 1559.5,-1693.5 1559.5,-1656.5 1068.5,-1656.5"/>
<polygon fill="none" stroke="black" points="1068.5,-1656.5 1068.5,-1693.5 1559.5,-1693.5 1559.5,-1656.5 1068.5,-1656.5"/>
<text text-anchor="start" x="1079.5" y="-1671.3" font-family="Arial" font-size="14.00">&#45; HashSet&lt;PublicKey&gt;</text>
<polygon fill="white" stroke="none" points="1068.5,-1574.5 1068.5,-1656.5 1559.5,-1656.5 1559.5,-1574.5 1068.5,-1574.5"/>
<polygon fill="none" stroke="black" points="1068.5,-1574.5 1068.5,-1656.5 1559.5,-1656.5 1559.5,-1574.5 1068.5,-1574.5"/>
<text text-anchor="start" x="1079.5" y="-1634.3" font-family="Arial" font-size="14.00">&#45; from(keys: Vec&lt;PublicKey&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="1079.5" y="-1619.3" font-family="Arial" font-size="14.00">&#45; add_known_key(&amp;mut self, key: PublicKey)</text>
<text text-anchor="start" x="1079.5" y="-1604.3" font-family="Arial" font-size="14.00">&#45; verify(&amp;self, msg: &amp;Hash, key: &amp;PublicKey, sig: &amp;Signature) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="1079.5" y="-1589.3" font-family="Arial" font-size="14.00">&#45; verify_known_key(&amp;self, key: &amp;PublicKey) &#45;&gt; Result&lt;()&gt;</text>
<polygon fill="none" stroke="black" points="1067,-1573.5 1067,-1731.5 1560,-1731.5 1560,-1573.5 1067,-1573.5"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndKeys -->
<g id="edge2" class="edge"><title>ndHash&#45;&gt;ndKeys</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2443.76,-1982.69C2184.28,-1966.95 1729.42,-1931.11 1577.5,-1867 1510.09,-1838.55 1445.98,-1787.5 1397.82,-1742.45"/>
<polygon fill="black" stroke="black" points="1390.54,-1735.56 1400.89,-1739.16 1394.17,-1738.99 1397.8,-1742.43 1397.8,-1742.43 1397.8,-1742.43 1394.17,-1738.99 1394.71,-1745.7 1390.54,-1735.56 1390.54,-1735.56"/>
</g>
<!-- ndDbcContent -->
<g id="node11" class="node"><title>ndDbcContent</title>
<g id="a_node11_3"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/dbc_content.rs#:~:text=struct%20DbcContent" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="4989.5,-1314.5 4989.5,-1351.5 5486.5,-1351.5 5486.5,-1314.5 4989.5,-1314.5"/>
<polygon fill="none" stroke="black" points="4989.5,-1314.5 4989.5,-1351.5 5486.5,-1351.5 5486.5,-1314.5 4989.5,-1314.5"/>
<text text-anchor="start" x="5196.5" y="-1330.3" font-family="Arial" font-weight="bold" font-size="14.00">DbcContent</text>
<polygon fill="white" stroke="none" points="4989.5,-1247.5 4989.5,-1314.5 5486.5,-1314.5 5486.5,-1247.5 4989.5,-1247.5"/>
<polygon fill="none" stroke="black" points="4989.5,-1247.5 4989.5,-1314.5 5486.5,-1314.5 5486.5,-1247.5 4989.5,-1247.5"/>
<text text-anchor="start" x="5000.5" y="-1292.3" font-family="Arial" font-size="14.00">+ owner_base: Owner</text>
<text text-anchor="start" x="5000.5" y="-1277.3" font-family="Arial" font-size="14.00">+ owner_derivation_cipher: Ciphertext</text>
<text text-anchor="start" x="5000.5" y="-1262.3" font-family="Arial" font-size="14.00">+ amount_secrets_cipher: Ciphertext</text>
<polygon fill="white" stroke="none" points="4989.5,-1150.5 4989.5,-1247.5 5486.5,-1247.5 5486.5,-1150.5 4989.5,-1150.5"/>
<polygon fill="none" stroke="black" points="4989.5,-1150.5 4989.5,-1247.5 5486.5,-1247.5 5486.5,-1150.5 4989.5,-1150.5"/>
<text text-anchor="start" x="5000.5" y="-1225.3" font-family="Arial" font-size="14.00">&#45; from(params: (Owner, Ciphertext, Ciphertext)) &#45;&gt; Self</text>
<text text-anchor="start" x="5000.5" y="-1210.3" font-family="Arial" font-size="14.00">&#45; from(params: (Owner, DerivationIndex, AmountSecrets)) &#45;&gt; Self</text>
<text text-anchor="start" x="5000.5" y="-1195.3" font-family="Arial" font-size="14.00">&#45; derivation_index(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;DerivationIndex&gt;</text>
<text text-anchor="start" x="5000.5" y="-1180.3" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="5000.5" y="-1165.3" font-family="Arial" font-size="14.00">&#45; hash(&amp;self) &#45;&gt; Hash</text>
<polygon fill="none" stroke="black" points="4988,-1150 4988,-1353 5487,-1353 5487,-1150 4988,-1150"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndDbcContent -->
<g id="edge3" class="edge"><title>ndHash&#45;&gt;ndDbcContent</title>
<path fill="none" stroke="black" d="M2817.37,-1990.73C3306.71,-1984.81 4599.44,-1960.4 4767.5,-1867 4971.54,-1753.6 4924.82,-1620.39 5070.5,-1438 5089.9,-1413.71 5111.54,-1388.47 5132.64,-1364.71"/>
<polygon fill="black" stroke="black" points="5139.47,-1357.06 5136.17,-1367.52 5136.14,-1360.79 5132.82,-1364.52 5132.82,-1364.52 5132.82,-1364.52 5136.14,-1360.79 5129.46,-1361.52 5139.47,-1357.06 5139.47,-1357.06"/>
</g>
<!-- ndPublicKeyBlstMappable -->
<g id="node13" class="node"><title>ndPublicKeyBlstMappable</title>
<g id="a_node13_4"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/blst.rs#:~:text=struct%20PublicKeyBlstMappable" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="9.5,-1307.5 9.5,-1344.5 338.5,-1344.5 338.5,-1307.5 9.5,-1307.5"/>
<polygon fill="none" stroke="black" points="9.5,-1307.5 9.5,-1344.5 338.5,-1344.5 338.5,-1307.5 9.5,-1307.5"/>
<text text-anchor="start" x="91" y="-1323.3" font-family="Arial" font-weight="bold" font-size="14.00">PublicKeyBlstMappable</text>
<polygon fill="white" stroke="none" points="9.5,-1270.5 9.5,-1307.5 338.5,-1307.5 338.5,-1270.5 9.5,-1270.5"/>
<polygon fill="none" stroke="black" points="9.5,-1270.5 9.5,-1307.5 338.5,-1307.5 338.5,-1270.5 9.5,-1270.5"/>
<text text-anchor="start" x="20.5" y="-1285.3" font-family="Arial" font-size="14.00">&#45; G1Affine</text>
<polygon fill="white" stroke="none" points="9.5,-1157.5 9.5,-1270.5 338.5,-1270.5 338.5,-1157.5 9.5,-1157.5"/>
<polygon fill="none" stroke="black" points="9.5,-1157.5 9.5,-1270.5 338.5,-1270.5 338.5,-1157.5 9.5,-1157.5"/>
<text text-anchor="start" x="20.5" y="-1248.3" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; [u8; 48]</text>
<text text-anchor="start" x="20.5" y="-1233.3" font-family="Arial" font-size="14.00">&#45; random(rng: &amp;mut impl rand8::RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="20.5" y="-1201.5" font-family="Arial" font-size="14.00">&#45; cmp(&amp;self, other: &amp;Self) &#45;&gt; Ordering</text>
<text text-anchor="start" x="20.5" y="-1186.5" font-family="Arial" font-size="14.00">&#45; hash(&amp;self, state: &amp;mut H)</text>
<text text-anchor="start" x="20.5" y="-1171.5" font-family="Arial" font-size="14.00">&#45; from(k: G1Affine) &#45;&gt; Self</text>
<polygon fill="none" stroke="black" points="8,-1157 8,-1346 339,-1346 339,-1157 8,-1157"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndPublicKeyBlstMappable -->
<g id="edge4" class="edge"><title>ndHash&#45;&gt;ndPublicKeyBlstMappable</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2443.91,-1987.97C1915.55,-1974.38 441.963,-1930.92 360.5,-1867 206.285,-1746 175.685,-1501.44 171.65,-1360.06"/>
<polygon fill="none" stroke="black" points="175.149,-1359.97 171.404,-1350.06 168.151,-1360.14 175.149,-1359.97"/>
</g>
<!-- ndSpentProofContent -->
<g id="node21" class="node"><title>ndSpentProofContent</title>
<g id="a_node21_5"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/spent_proof.rs#:~:text=struct%20SpentProofContent" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2667.5,-1708.5 2667.5,-1745.5 3030.5,-1745.5 3030.5,-1708.5 2667.5,-1708.5"/>
<polygon fill="none" stroke="black" points="2667.5,-1708.5 2667.5,-1745.5 3030.5,-1745.5 3030.5,-1708.5 2667.5,-1708.5"/>
<text text-anchor="start" x="2782" y="-1724.3" font-family="Arial" font-weight="bold" font-size="14.00">SpentProofContent</text>
<polygon fill="white" stroke="none" points="2667.5,-1641.5 2667.5,-1708.5 3030.5,-1708.5 3030.5,-1641.5 2667.5,-1641.5"/>
<polygon fill="none" stroke="black" points="2667.5,-1641.5 2667.5,-1708.5 3030.5,-1708.5 3030.5,-1641.5 2667.5,-1641.5"/>
<text text-anchor="start" x="2678.5" y="-1686.3" font-family="Arial" font-size="14.00">+ key_image: KeyImage</text>
<text text-anchor="start" x="2678.5" y="-1671.3" font-family="Arial" font-size="14.00">+ transaction_hash: Hash</text>
<text text-anchor="start" x="2678.5" y="-1656.3" font-family="Arial" font-size="14.00">+ public_commitments: Vec&lt;Commitment&gt;</text>
<polygon fill="white" stroke="none" points="2667.5,-1559.5 2667.5,-1641.5 3030.5,-1641.5 3030.5,-1559.5 2667.5,-1559.5"/>
<polygon fill="none" stroke="black" points="2667.5,-1559.5 2667.5,-1641.5 3030.5,-1641.5 3030.5,-1559.5 2667.5,-1559.5"/>
<text text-anchor="start" x="2678.5" y="-1619.3" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="2678.5" y="-1604.3" font-family="Arial" font-size="14.00">&#45; hash(&amp;self) &#45;&gt; Hash</text>
<text text-anchor="start" x="2678.5" y="-1589.3" font-family="Arial" font-size="14.00">&#45; partial_cmp(&amp;self, other: &amp;Self) &#45;&gt; Option&lt;Ordering&gt;</text>
<text text-anchor="start" x="2678.5" y="-1574.3" font-family="Arial" font-size="14.00">&#45; cmp(&amp;self, other: &amp;Self) &#45;&gt; Ordering</text>
<polygon fill="none" stroke="black" points="2666,-1558.5 2666,-1746.5 3031,-1746.5 3031,-1558.5 2666,-1558.5"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSpentProofContent -->
<g id="edge5" class="edge"><title>ndHash&#45;&gt;ndSpentProofContent</title>
<path fill="none" stroke="black" d="M2683.27,-1910.44C2712.15,-1865.53 2748.29,-1809.34 2779.39,-1760.96"/>
<polygon fill="black" stroke="black" points="2779.46,-1760.86 2779.34,-1753.65 2785.95,-1750.77 2786.07,-1757.98 2779.46,-1760.86"/>
</g>
<!-- ndSpentProofShare -->
<g id="node22" class="node"><title>ndSpentProofShare</title>
<g id="a_node22_6"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/spent_proof.rs#:~:text=struct%20SpentProofShare" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2203.5,-1345.5 2203.5,-1382.5 2592.5,-1382.5 2592.5,-1345.5 2203.5,-1345.5"/>
<polygon fill="none" stroke="black" points="2203.5,-1345.5 2203.5,-1382.5 2592.5,-1382.5 2592.5,-1345.5 2203.5,-1345.5"/>
<text text-anchor="start" x="2337.5" y="-1361.3" font-family="Arial" font-weight="bold" font-size="14.00">SpentProofShare</text>
<polygon fill="white" stroke="none" points="2203.5,-1278.5 2203.5,-1345.5 2592.5,-1345.5 2592.5,-1278.5 2203.5,-1278.5"/>
<polygon fill="none" stroke="black" points="2203.5,-1278.5 2203.5,-1345.5 2592.5,-1345.5 2592.5,-1278.5 2203.5,-1278.5"/>
<text text-anchor="start" x="2214.5" y="-1323.3" font-family="Arial" font-size="14.00">+ content: SpentProofContent</text>
<text text-anchor="start" x="2214.5" y="-1308.3" font-family="Arial" font-size="14.00">+ spentbook_pks: PublicKeySet</text>
<text text-anchor="start" x="2214.5" y="-1293.3" font-family="Arial" font-size="14.00">+ spentbook_sig_share: IndexedSignatureShare</text>
<polygon fill="white" stroke="none" points="2203.5,-1120.5 2203.5,-1278.5 2592.5,-1278.5 2592.5,-1120.5 2203.5,-1120.5"/>
<polygon fill="none" stroke="black" points="2203.5,-1120.5 2203.5,-1278.5 2592.5,-1278.5 2592.5,-1120.5 2203.5,-1120.5"/>
<text text-anchor="start" x="2214.5" y="-1256.3" font-family="Arial" font-size="14.00">&#45; eq(&amp;self, other: &amp;Self) &#45;&gt; bool</text>
<text text-anchor="start" x="2214.5" y="-1224.5" font-family="Arial" font-size="14.00">&#45; hash(&amp;self, state: &amp;mut H)</text>
<text text-anchor="start" x="2214.5" y="-1209.5" font-family="Arial" font-size="14.00">&#45; key_image(&amp;self) &#45;&gt; &amp;KeyImage</text>
<text text-anchor="start" x="2214.5" y="-1194.5" font-family="Arial" font-size="14.00">&#45; transaction_hash(&amp;self) &#45;&gt; Hash</text>
<text text-anchor="start" x="2214.5" y="-1179.5" font-family="Arial" font-size="14.00">&#45; public_commitments(&amp;self) &#45;&gt; &amp;Vec&lt;Commitment&gt;</text>
<text text-anchor="start" x="2214.5" y="-1164.5" font-family="Arial" font-size="14.00">&#45; spentbook_sig_share(&amp;self) &#45;&gt; &amp;IndexedSignatureShare</text>
<text text-anchor="start" x="2214.5" y="-1149.5" font-family="Arial" font-size="14.00">&#45; spentbook_pks(&amp;self) &#45;&gt; &amp;PublicKeySet</text>
<text text-anchor="start" x="2214.5" y="-1134.5" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<polygon fill="none" stroke="black" points="2202,-1119.5 2202,-1383.5 2593,-1383.5 2593,-1119.5 2202,-1119.5"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSpentProofShare -->
<g id="edge6" class="edge"><title>ndHash&#45;&gt;ndSpentProofShare</title>
<path fill="none" stroke="black" d="M2635.6,-1910.28C2642.59,-1776.65 2650.23,-1519.11 2611.5,-1438 2604.44,-1423.21 2595.59,-1409.13 2585.53,-1395.82"/>
<polygon fill="black" stroke="black" points="2579.12,-1387.63 2588.83,-1392.73 2582.21,-1391.57 2585.29,-1395.5 2585.29,-1395.5 2585.29,-1395.5 2582.21,-1391.57 2581.75,-1398.28 2579.12,-1387.63 2579.12,-1387.63"/>
</g>
<!-- ndSpentProof -->
<g id="node23" class="node"><title>ndSpentProof</title>
<g id="a_node23_7"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/spent_proof.rs#:~:text=struct%20SpentProof" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2666.5,-1314.5 2666.5,-1351.5 3032.5,-1351.5 3032.5,-1314.5 2666.5,-1314.5"/>
<polygon fill="none" stroke="black" points="2666.5,-1314.5 2666.5,-1351.5 3032.5,-1351.5 3032.5,-1314.5 2666.5,-1314.5"/>
<text text-anchor="start" x="2810" y="-1330.3" font-family="Arial" font-weight="bold" font-size="14.00">SpentProof</text>
<polygon fill="white" stroke="none" points="2666.5,-1247.5 2666.5,-1314.5 3032.5,-1314.5 3032.5,-1247.5 2666.5,-1247.5"/>
<polygon fill="none" stroke="black" points="2666.5,-1247.5 2666.5,-1314.5 3032.5,-1314.5 3032.5,-1247.5 2666.5,-1247.5"/>
<text text-anchor="start" x="2677.5" y="-1292.3" font-family="Arial" font-size="14.00">+ content: SpentProofContent</text>
<text text-anchor="start" x="2677.5" y="-1277.3" font-family="Arial" font-size="14.00">+ spentbook_pub_key: PublicKey</text>
<text text-anchor="start" x="2677.5" y="-1262.3" font-family="Arial" font-size="14.00">+ spentbook_sig: Signature</text>
<polygon fill="white" stroke="none" points="2666.5,-1150.5 2666.5,-1247.5 3032.5,-1247.5 3032.5,-1150.5 2666.5,-1150.5"/>
<polygon fill="none" stroke="black" points="2666.5,-1150.5 2666.5,-1247.5 3032.5,-1247.5 3032.5,-1150.5 2666.5,-1150.5"/>
<text text-anchor="start" x="2677.5" y="-1225.3" font-family="Arial" font-size="14.00">&#45; key_image(&amp;self) &#45;&gt; &amp;KeyImage</text>
<text text-anchor="start" x="2677.5" y="-1210.3" font-family="Arial" font-size="14.00">&#45; transaction_hash(&amp;self) &#45;&gt; Hash</text>
<text text-anchor="start" x="2677.5" y="-1195.3" font-family="Arial" font-size="14.00">&#45; public_commitments(&amp;self) &#45;&gt; &amp;Vec&lt;Commitment&gt;</text>
<text text-anchor="start" x="2677.5" y="-1180.3" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="2677.5" y="-1165.3" font-family="Arial" font-size="14.00">&#45; verify(&amp;self, tx_hash: Hash, verifier: &amp;K) &#45;&gt; Result&lt;()&gt;</text>
<polygon fill="none" stroke="black" points="2665.5,-1150 2665.5,-1353 3033.5,-1353 3033.5,-1150 2665.5,-1150"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSpentProof -->
<g id="edge7" class="edge"><title>ndHash&#45;&gt;ndSpentProof</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2817.07,-1958.94C2914.18,-1937.27 3018.61,-1905.87 3047.5,-1867 3161.25,-1713.98 3123.32,-1612.94 3047.5,-1438 3035.89,-1411.21 3018.29,-1386.51 2998.28,-1364.47"/>
<polygon fill="black" stroke="black" points="2991.41,-1357.1 3001.52,-1361.35 2994.82,-1360.76 2998.23,-1364.42 2998.23,-1364.42 2998.23,-1364.42 2994.82,-1360.76 2994.94,-1367.48 2991.41,-1357.1 2991.41,-1357.1"/>
</g>
<!-- ndSpentBookNodeMock -->
<g id="node25" class="node"><title>ndSpentBookNodeMock</title>
<g id="a_node25_8"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/spentbook.rs#:~:text=struct%20SpentBookNodeMock" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="302.5,-955 302.5,-992 1103.5,-992 1103.5,-955 302.5,-955"/>
<polygon fill="none" stroke="black" points="302.5,-955 302.5,-992 1103.5,-992 1103.5,-955 302.5,-955"/>
<text text-anchor="start" x="627" y="-970.8" font-family="Arial" font-weight="bold" font-size="14.00">SpentBookNodeMock</text>
<polygon fill="white" stroke="none" points="302.5,-858 302.5,-955 1103.5,-955 1103.5,-858 302.5,-858"/>
<polygon fill="none" stroke="black" points="302.5,-858 302.5,-955 1103.5,-955 1103.5,-858 302.5,-858"/>
<text text-anchor="start" x="313.5" y="-932.8" font-family="Arial" font-size="14.00">+ key_manager: SimpleKeyManager</text>
<text text-anchor="start" x="313.5" y="-917.8" font-family="Arial" font-size="14.00">+ transactions: HashMap&lt;Hash, RingCtTransaction&gt;</text>
<text text-anchor="start" x="313.5" y="-902.8" font-family="Arial" font-size="14.00">+ key_images: BTreeMap&lt;KeyImage, Hash&gt;</text>
<text text-anchor="start" x="313.5" y="-887.8" font-family="Arial" font-size="14.00">+ outputs: BTreeMap&lt;PublicKeyBlstMappable, OutputProof&gt;</text>
<text text-anchor="start" x="313.5" y="-872.8" font-family="Arial" font-size="14.00">+ genesis: (KeyImage, Commitment)</text>
<polygon fill="white" stroke="none" points="302.5,-731 302.5,-858 1103.5,-858 1103.5,-731 302.5,-731"/>
<polygon fill="none" stroke="black" points="302.5,-731 302.5,-858 1103.5,-858 1103.5,-731 302.5,-731"/>
<text text-anchor="start" x="313.5" y="-835.8" font-family="Arial" font-size="14.00">&#45; from(key_manager: SimpleKeyManager) &#45;&gt; Self</text>
<text text-anchor="start" x="313.5" y="-820.8" font-family="Arial" font-size="14.00">&#45; iter(&amp;self) &#45;&gt; impl Iterator&lt;Item = (&amp;KeyImage, &amp;RingCtTransaction)&gt; + &#39;_</text>
<text text-anchor="start" x="313.5" y="-805.8" font-family="Arial" font-size="14.00">&#45; is_spent(&amp;self, key_image: &amp;KeyImage) &#45;&gt; bool</text>
<text text-anchor="start" x="313.5" y="-790.8" font-family="Arial" font-size="14.00">&#45; log_spent(&amp;mut self, key_image: KeyImage, tx: RingCtTransaction) &#45;&gt; Result&lt;SpentProofShare&gt;</text>
<text text-anchor="start" x="313.5" y="-775.8" font-family="Arial" font-size="14.00">&#45; log_spent_and_skip_tx_verification(&amp;mut self, key_image: KeyImage, tx: RingCtTransaction) &#45;&gt; Result&lt;SpentProofShare&gt;</text>
<text text-anchor="start" x="313.5" y="-760.8" font-family="Arial" font-size="14.00">&#45; log_spent_worker(&amp;mut self, key_image: KeyImage, tx: RingCtTransaction, verify_tx: bool) &#45;&gt; Result&lt;SpentProofShare&gt;</text>
<text text-anchor="start" x="313.5" y="-745.8" font-family="Arial" font-size="14.00">&#45; random_decoys(&amp;self, target_num: usize, rng: &amp;mut impl rand8::RngCore) &#45;&gt; Vec&lt;DecoyInput&gt;</text>
<polygon fill="none" stroke="black" points="301,-730.5 301,-993.5 1104,-993.5 1104,-730.5 301,-730.5"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSpentBookNodeMock -->
<g id="edge8" class="edge"><title>ndHash&#45;&gt;ndSpentBookNodeMock</title>
<path fill="none" stroke="black" d="M2443.76,-1988.93C1918.8,-1977.98 463.524,-1941.06 393.5,-1867 262.509,-1728.45 346.965,-1622.9 393.5,-1438 433.096,-1280.67 525.034,-1119.49 598.393,-1007.97"/>
<polygon fill="black" stroke="black" points="598.585,-1007.68 598.56,-1000.47 605.207,-997.67 605.232,-1004.88 598.585,-1007.68"/>
</g>
<!-- ndTransactionVerifier -->
<g id="node26" class="node"><title>ndTransactionVerifier</title>
<g id="a_node26_9"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/verification.rs#:~:text=struct%20TransactionVerifier" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="3068.5,-1273.5 3068.5,-1310.5 4186.5,-1310.5 4186.5,-1273.5 3068.5,-1273.5"/>
<polygon fill="none" stroke="black" points="3068.5,-1273.5 3068.5,-1310.5 4186.5,-1310.5 4186.5,-1273.5 3068.5,-1273.5"/>
<text text-anchor="start" x="3561" y="-1289.3" font-family="Arial" font-weight="bold" font-size="14.00">TransactionVerifier</text>
<polygon fill="white" stroke="none" points="3068.5,-1191.5 3068.5,-1273.5 4186.5,-1273.5 4186.5,-1191.5 3068.5,-1191.5"/>
<polygon fill="none" stroke="black" points="3068.5,-1191.5 3068.5,-1273.5 4186.5,-1273.5 4186.5,-1191.5 3068.5,-1191.5"/>
<text text-anchor="start" x="3079.5" y="-1251.3" font-family="Arial" font-size="14.00">&#45; verify(verifier: &amp;K, transaction: &amp;RingCtTransaction, mint_sigs: &amp;BTreeMap&lt;KeyImage, (PublicKey, Signature)&gt;, spent_proofs: &amp;BTreeSet&lt;SpentProof&gt;) &#45;&gt; Result&lt;(), Error&gt;</text>
<text text-anchor="start" x="3079.5" y="-1236.3" font-family="Arial" font-size="14.00">&#45; pk_sig_bytes(pk: &amp;PublicKey, sig: &amp;Signature) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="3079.5" y="-1221.3" font-family="Arial" font-size="14.00">&#45; verify_without_sigs(verifier: &amp;K, transaction: &amp;RingCtTransaction, spent_proofs: &amp;BTreeSet&lt;SpentProof&gt;) &#45;&gt; Result&lt;(), Error&gt;</text>
<text text-anchor="start" x="3079.5" y="-1206.3" font-family="Arial" font-size="14.00">&#45; verify_without_sigs_internal(verifier: &amp;K, transaction: &amp;RingCtTransaction, transaction_hash: Hash, spent_proofs: &amp;BTreeSet&lt;SpentProof&gt;) &#45;&gt; Result&lt;(), Error&gt;</text>
<polygon fill="none" stroke="black" points="3067.5,-1191 3067.5,-1312 4187.5,-1312 4187.5,-1191 3067.5,-1191"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndTransactionVerifier -->
<g id="edge9" class="edge"><title>ndHash&#45;&gt;ndTransactionVerifier</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2817.04,-1968.57C2906.94,-1950.73 3013.25,-1919.91 3097.5,-1867 3324.62,-1724.35 3507.05,-1454.03 3585.65,-1324.82"/>
<polygon fill="black" stroke="black" points="3590.9,-1316.14 3589.57,-1327.02 3588.31,-1320.41 3585.72,-1324.69 3585.72,-1324.69 3585.72,-1324.69 3588.31,-1320.41 3581.87,-1322.36 3590.9,-1316.14 3590.9,-1316.14"/>
</g>
<!-- ndError -->
<g id="node2" class="node"><title>ndError</title>
<g id="a_node2_10"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/error.rs#:~:text=enum%20Error" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="4387.5,-1824.5 4387.5,-1861.5 4749.5,-1861.5 4749.5,-1824.5 4387.5,-1824.5"/>
<polygon fill="none" stroke="black" points="4387.5,-1824.5 4387.5,-1861.5 4749.5,-1861.5 4749.5,-1824.5 4387.5,-1824.5"/>
<text text-anchor="start" x="4550" y="-1840.3" font-family="Arial" font-weight="bold" font-size="14.00">Error</text>
<polygon fill="white" stroke="none" points="4387.5,-1442.5 4387.5,-1824.5 4749.5,-1824.5 4749.5,-1442.5 4387.5,-1442.5"/>
<polygon fill="none" stroke="black" points="4387.5,-1442.5 4387.5,-1824.5 4749.5,-1824.5 4749.5,-1442.5 4387.5,-1442.5"/>
<text text-anchor="start" x="4398.5" y="-1802.3" font-family="Arial" font-size="14.00">Signing(String)</text>
<text text-anchor="start" x="4398.5" y="-1787.3" font-family="Arial" font-size="14.00">FailedSignature</text>
<text text-anchor="start" x="4398.5" y="-1772.3" font-family="Arial" font-size="14.00">UnrecognisedAuthority</text>
<text text-anchor="start" x="4398.5" y="-1757.3" font-family="Arial" font-size="14.00">MissingSignatureForInput</text>
<text text-anchor="start" x="4398.5" y="-1742.3" font-family="Arial" font-size="14.00">MintSignatureInputMismatch</text>
<text text-anchor="start" x="4398.5" y="-1727.3" font-family="Arial" font-size="14.00">InvalidSpentProofSignature(KeyImage)</text>
<text text-anchor="start" x="4398.5" y="-1712.3" font-family="Arial" font-size="14.00">InvalidTransactionHash</text>
<text text-anchor="start" x="4398.5" y="-1697.3" font-family="Arial" font-size="14.00">DbcContentNotPresentInTransactionOutput</text>
<text text-anchor="start" x="4398.5" y="-1682.3" font-family="Arial" font-size="14.00">OutputProofNotFound</text>
<text text-anchor="start" x="4398.5" y="-1667.3" font-family="Arial" font-size="14.00">PublicKeyNotUniqueAcrossOutputs</text>
<text text-anchor="start" x="4398.5" y="-1652.3" font-family="Arial" font-size="14.00">SpentProofInputMismatch</text>
<text text-anchor="start" x="4398.5" y="-1637.3" font-family="Arial" font-size="14.00">ReissueRequestMissingSpentProofShare(KeyImage)</text>
<text text-anchor="start" x="4398.5" y="-1622.3" font-family="Arial" font-size="14.00">ReissueShareMismatch</text>
<text text-anchor="start" x="4398.5" y="-1607.3" font-family="Arial" font-size="14.00">DecryptionBySecretKeyFailed</text>
<text text-anchor="start" x="4398.5" y="-1592.3" font-family="Arial" font-size="14.00">AmountSecretsBytesInvalid</text>
<text text-anchor="start" x="4398.5" y="-1577.3" font-family="Arial" font-size="14.00">AmountCommitmentsDoNotMatch</text>
<text text-anchor="start" x="4398.5" y="-1562.3" font-family="Arial" font-size="14.00">SecretKeyUnavailable</text>
<text text-anchor="start" x="4398.5" y="-1547.3" font-family="Arial" font-size="14.00">PublicKeyNotFound</text>
<text text-anchor="start" x="4398.5" y="-1532.3" font-family="Arial" font-size="14.00">SecretKeyDoesNotMatchPublicKey</text>
<text text-anchor="start" x="4398.5" y="-1517.3" font-family="Arial" font-size="14.00">SpentbookKeyImageAlreadySpent</text>
<text text-anchor="start" x="4398.5" y="-1502.3" font-family="Arial" font-size="14.00">SpentbookRingSizeMismatch(usize, usize)</text>
<text text-anchor="start" x="4398.5" y="-1487.3" font-family="Arial" font-size="14.00">Blsttc(blsttc::error::Error)</text>
<text text-anchor="start" x="4398.5" y="-1472.3" font-family="Arial" font-size="14.00">RingCt(blst_ringct::Error)</text>
<text text-anchor="start" x="4398.5" y="-1457.3" font-family="Arial" font-size="14.00">Infallible(std::convert::Infallible)</text>
<polygon fill="none" stroke="black" points="4386.5,-1442 4386.5,-1863 4750.5,-1863 4750.5,-1442 4386.5,-1442"/>
</a>
</g>
</g>
<!-- ndDbc -->
<g id="node17" class="node"><title>ndDbc</title>
<g id="a_node17_11"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/dbc.rs#:~:text=struct%20Dbc" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="4680.5,-1023 4680.5,-1060 5222.5,-1060 5222.5,-1023 4680.5,-1023"/>
<polygon fill="none" stroke="black" points="4680.5,-1023 4680.5,-1060 5222.5,-1060 5222.5,-1023 4680.5,-1023"/>
<text text-anchor="start" x="4937.5" y="-1038.8" font-family="Arial" font-weight="bold" font-size="14.00">Dbc</text>
<polygon fill="white" stroke="none" points="4680.5,-941 4680.5,-1023 5222.5,-1023 5222.5,-941 4680.5,-941"/>
<polygon fill="none" stroke="black" points="4680.5,-941 4680.5,-1023 5222.5,-1023 5222.5,-941 4680.5,-941"/>
<text text-anchor="start" x="4691.5" y="-1000.8" font-family="Arial" font-size="14.00">+ content: DbcContent</text>
<text text-anchor="start" x="4691.5" y="-985.8" font-family="Arial" font-size="14.00">+ transaction: RingCtTransaction</text>
<text text-anchor="start" x="4691.5" y="-970.8" font-family="Arial" font-size="14.00">+ mint_sigs: BTreeMap&lt;KeyImage, (PublicKey, Signature)&gt;</text>
<text text-anchor="start" x="4691.5" y="-955.8" font-family="Arial" font-size="14.00">+ spent_proofs: BTreeSet&lt;SpentProof&gt;</text>
<polygon fill="white" stroke="none" points="4680.5,-664 4680.5,-941 5222.5,-941 5222.5,-664 4680.5,-664"/>
<polygon fill="none" stroke="black" points="4680.5,-664 4680.5,-941 5222.5,-941 5222.5,-664 4680.5,-664"/>
<text text-anchor="start" x="4691.5" y="-918.8" font-family="Arial" font-size="14.00">&#45; owner_base(&amp;self) &#45;&gt; &amp;Owner</text>
<text text-anchor="start" x="4691.5" y="-903.8" font-family="Arial" font-size="14.00">&#45; owner_once(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;Owner&gt;</text>
<text text-anchor="start" x="4691.5" y="-888.8" font-family="Arial" font-size="14.00">&#45; owner_once_bearer(&amp;self) &#45;&gt; Result&lt;Owner&gt;</text>
<text text-anchor="start" x="4691.5" y="-873.8" font-family="Arial" font-size="14.00">&#45; derivation_index(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;DerivationIndex&gt;</text>
<text text-anchor="start" x="4691.5" y="-858.8" font-family="Arial" font-size="14.00">&#45; derivation_index_bearer(&amp;self) &#45;&gt; Result&lt;DerivationIndex&gt;</text>
<text text-anchor="start" x="4691.5" y="-843.8" font-family="Arial" font-size="14.00">&#45; is_bearer(&amp;self) &#45;&gt; bool</text>
<text text-anchor="start" x="4691.5" y="-828.8" font-family="Arial" font-size="14.00">&#45; amount_secrets(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;AmountSecrets&gt;</text>
<text text-anchor="start" x="4691.5" y="-813.8" font-family="Arial" font-size="14.00">&#45; amount_secrets_bearer(&amp;self) &#45;&gt; Result&lt;AmountSecrets&gt;</text>
<text text-anchor="start" x="4691.5" y="-798.8" font-family="Arial" font-size="14.00">&#45; key_image(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;KeyImage&gt;</text>
<text text-anchor="start" x="4691.5" y="-783.8" font-family="Arial" font-size="14.00">&#45; key_image_bearer(&amp;self) &#45;&gt; Result&lt;KeyImage&gt;</text>
<text text-anchor="start" x="4691.5" y="-768.8" font-family="Arial" font-size="14.00">&#45; as_true_input(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;TrueInput&gt;</text>
<text text-anchor="start" x="4691.5" y="-753.8" font-family="Arial" font-size="14.00">&#45; as_true_input_bearer(&amp;self) &#45;&gt; Result&lt;TrueInput&gt;</text>
<text text-anchor="start" x="4691.5" y="-738.8" font-family="Arial" font-size="14.00">&#45; hash(&amp;self) &#45;&gt; [u8; 32]</text>
<text text-anchor="start" x="4691.5" y="-723.8" font-family="Arial" font-size="14.00">&#45; verify(&amp;self, base_sk: &amp;SecretKey, verifier: &amp;K) &#45;&gt; Result&lt;(), Error&gt;</text>
<text text-anchor="start" x="4691.5" y="-708.8" font-family="Arial" font-size="14.00">&#45; verify_bearer(&amp;self, mint_verifier: &amp;K) &#45;&gt; Result&lt;(), Error&gt;</text>
<text text-anchor="start" x="4691.5" y="-693.8" font-family="Arial" font-size="14.00">&#45; verify_amount_matches_commitment(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="4691.5" y="-678.8" font-family="Arial" font-size="14.00">&#45; my_output_proof(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;&amp;OutputProof&gt;</text>
<polygon fill="none" stroke="black" points="4679.5,-663 4679.5,-1061 5223.5,-1061 5223.5,-663 4679.5,-663"/>
</a>
</g>
</g>
<!-- ndError&#45;&gt;ndDbc -->
<g id="edge10" class="edge"><title>ndError&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M4758.57,-1543.1C4835.51,-1494.99 4911.26,-1440.65 4932.5,-1402 4962.77,-1346.92 4966.52,-1201.4 4963.24,-1075.43"/>
<polygon fill="black" stroke="black" points="4962.96,-1065.24 4967.73,-1075.11 4963.1,-1070.24 4963.23,-1075.24 4963.23,-1075.24 4963.23,-1075.24 4963.1,-1070.24 4958.74,-1075.36 4962.96,-1065.24 4962.96,-1065.24"/>
</g>
<!-- ndAmountSecrets -->
<g id="node24" class="node"><title>ndAmountSecrets</title>
<g id="a_node24_12"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/amount_secrets.rs#:~:text=struct%20AmountSecrets" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="4222.5,-1359.5 4222.5,-1396.5 4914.5,-1396.5 4914.5,-1359.5 4222.5,-1359.5"/>
<polygon fill="none" stroke="black" points="4222.5,-1359.5 4222.5,-1396.5 4914.5,-1396.5 4914.5,-1359.5 4222.5,-1359.5"/>
<text text-anchor="start" x="4514.5" y="-1375.3" font-family="Arial" font-weight="bold" font-size="14.00">AmountSecrets</text>
<polygon fill="white" stroke="none" points="4222.5,-1322.5 4222.5,-1359.5 4914.5,-1359.5 4914.5,-1322.5 4222.5,-1322.5"/>
<polygon fill="none" stroke="black" points="4222.5,-1322.5 4222.5,-1359.5 4914.5,-1359.5 4914.5,-1322.5 4222.5,-1322.5"/>
<text text-anchor="start" x="4233.5" y="-1337.3" font-family="Arial" font-size="14.00">&#45; RevealedCommitment</text>
<polygon fill="white" stroke="none" points="4222.5,-1105.5 4222.5,-1322.5 4914.5,-1322.5 4914.5,-1105.5 4222.5,-1105.5"/>
<polygon fill="none" stroke="black" points="4222.5,-1105.5 4222.5,-1322.5 4914.5,-1322.5 4914.5,-1105.5 4222.5,-1105.5"/>
<text text-anchor="start" x="4233.5" y="-1300.3" font-family="Arial" font-size="14.00">&#45; amount(&amp;self) &#45;&gt; Amount</text>
<text text-anchor="start" x="4233.5" y="-1285.3" font-family="Arial" font-size="14.00">&#45; blinding_factor(&amp;self) &#45;&gt; SecretKeyBlst</text>
<text text-anchor="start" x="4233.5" y="-1270.3" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="4233.5" y="-1255.3" font-family="Arial" font-size="14.00">&#45; from_bytes(bytes: [u8; AMT_SIZE + BF_SIZE]) &#45;&gt; Self</text>
<text text-anchor="start" x="4233.5" y="-1240.3" font-family="Arial" font-size="14.00">&#45; from_bytes_ref(bytes: &amp;[u8]) &#45;&gt; Result&lt;Self, Error&gt;</text>
<text text-anchor="start" x="4233.5" y="-1225.3" font-family="Arial" font-size="14.00">&#45; from_amount(amount: Amount, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="4233.5" y="-1210.3" font-family="Arial" font-size="14.00">&#45; encrypt(&amp;self, public_key: &amp;PublicKey) &#45;&gt; Ciphertext</text>
<text text-anchor="start" x="4233.5" y="-1195.3" font-family="Arial" font-size="14.00">&#45; from(revealed_commitment: RevealedCommitment) &#45;&gt; Self</text>
<text text-anchor="start" x="4233.5" y="-1180.3" font-family="Arial" font-size="14.00">&#45; from(params: (Amount, BlindingFactor)) &#45;&gt; Self</text>
<text text-anchor="start" x="4233.5" y="-1165.3" font-family="Arial" font-size="14.00">&#45; try_from(params: (&amp;SecretKey, &amp;Ciphertext)) &#45;&gt; Result&lt;Self, Error&gt;</text>
<text text-anchor="start" x="4233.5" y="-1150.3" font-family="Arial" font-size="14.00">&#45; try_from(params: (&amp;SecretKeySet, &amp;Ciphertext)) &#45;&gt; Result&lt;Self, Error&gt;</text>
<text text-anchor="start" x="4233.5" y="-1135.3" font-family="Arial" font-size="14.00">&#45; try_from(params: (&amp;PublicKeySet, &amp;BTreeMap&lt;I, SecretKeyShare&gt;, &amp;Ciphertext)) &#45;&gt; Result&lt;Self, Error&gt;</text>
<text text-anchor="start" x="4233.5" y="-1120.3" font-family="Arial" font-size="14.00">&#45; try_from(params: (&amp;PublicKeySet, &amp;BTreeMap&lt;I, DecryptionShare&gt;, &amp;Ciphertext)) &#45;&gt; Result&lt;Self, Error&gt;</text>
<polygon fill="none" stroke="black" points="4221.5,-1105 4221.5,-1398 4915.5,-1398 4915.5,-1105 4221.5,-1105"/>
</a>
</g>
</g>
<!-- ndError&#45;&gt;ndAmountSecrets -->
<g id="edge11" class="edge"><title>ndError&#45;&gt;ndAmountSecrets</title>
<path fill="none" stroke="black" d="M4568.5,-1437.98C4568.5,-1429.42 4568.5,-1420.89 4568.5,-1412.46"/>
<polygon fill="black" stroke="black" points="4568.5,-1402.23 4573,-1412.23 4568.5,-1407.23 4568.5,-1412.23 4568.5,-1412.23 4568.5,-1412.23 4568.5,-1407.23 4564,-1412.23 4568.5,-1402.23 4568.5,-1402.23"/>
</g>
<!-- ndError&#45;&gt;ndTransactionVerifier -->
<g id="edge12" class="edge"><title>ndError&#45;&gt;ndTransactionVerifier</title>
<path fill="none" stroke="black" d="M4378.36,-1570.88C4204.62,-1497.21 3950.61,-1389.51 3787.17,-1320.2"/>
<polygon fill="black" stroke="black" points="3777.51,-1316.11 3788.47,-1315.87 3782.11,-1318.06 3786.72,-1320.01 3786.72,-1320.01 3786.72,-1320.01 3782.11,-1318.06 3784.96,-1324.15 3777.51,-1316.11 3777.51,-1316.11"/>
</g>
<!-- ndIndexedSignatureShare -->
<g id="node3" class="node"><title>ndIndexedSignatureShare</title>
<g id="a_node3_13"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/key_manager.rs#:~:text=struct%20IndexedSignatureShare" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2203.5,-1693.5 2203.5,-1730.5 2593.5,-1730.5 2593.5,-1693.5 2203.5,-1693.5"/>
<polygon fill="none" stroke="black" points="2203.5,-1693.5 2203.5,-1730.5 2593.5,-1730.5 2593.5,-1693.5 2203.5,-1693.5"/>
<text text-anchor="start" x="2316" y="-1709.3" font-family="Arial" font-weight="bold" font-size="14.00">IndexedSignatureShare</text>
<polygon fill="white" stroke="none" points="2203.5,-1641.5 2203.5,-1693.5 2593.5,-1693.5 2593.5,-1641.5 2203.5,-1641.5"/>
<polygon fill="none" stroke="black" points="2203.5,-1641.5 2203.5,-1693.5 2593.5,-1693.5 2593.5,-1641.5 2203.5,-1641.5"/>
<text text-anchor="start" x="2214.5" y="-1671.3" font-family="Arial" font-size="14.00">&#45; index: u64</text>
<text text-anchor="start" x="2214.5" y="-1656.3" font-family="Arial" font-size="14.00">&#45; signature_share: SignatureShare</text>
<polygon fill="white" stroke="none" points="2203.5,-1574.5 2203.5,-1641.5 2593.5,-1641.5 2593.5,-1574.5 2203.5,-1574.5"/>
<polygon fill="none" stroke="black" points="2203.5,-1574.5 2203.5,-1641.5 2593.5,-1641.5 2593.5,-1574.5 2203.5,-1574.5"/>
<text text-anchor="start" x="2214.5" y="-1619.3" font-family="Arial" font-size="14.00">&#45; new(index: u64, signature_share: SignatureShare) &#45;&gt; Self</text>
<text text-anchor="start" x="2214.5" y="-1604.3" font-family="Arial" font-size="14.00">&#45; threshold_crypto(&amp;self) &#45;&gt; (u64, &amp;SignatureShare)</text>
<text text-anchor="start" x="2214.5" y="-1589.3" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<polygon fill="none" stroke="black" points="2202.5,-1573.5 2202.5,-1731.5 2594.5,-1731.5 2594.5,-1573.5 2202.5,-1573.5"/>
</a>
</g>
</g>
<!-- ndIndexedSignatureShare&#45;&gt;ndSimpleKeyManager -->
<g id="edge13" class="edge"><title>ndIndexedSignatureShare&#45;&gt;ndSimpleKeyManager</title>
<path fill="none" stroke="black" d="M2337.6,-1569.49C2299.1,-1523.63 2245.39,-1469.52 2185.5,-1438 2069.48,-1376.94 1752.68,-1324.61 1505.28,-1291.25"/>
<polygon fill="black" stroke="black" points="1495.03,-1289.87 1505.54,-1286.75 1499.98,-1290.54 1504.94,-1291.21 1504.94,-1291.21 1504.94,-1291.21 1499.98,-1290.54 1504.34,-1295.67 1495.03,-1289.87 1495.03,-1289.87"/>
</g>
<!-- ndReissueShare -->
<g id="node9" class="node"><title>ndReissueShare</title>
<g id="a_node9_14"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/mint.rs#:~:text=struct%20ReissueShare" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2469.5,-903 2469.5,-940 2796.5,-940 2796.5,-903 2469.5,-903"/>
<polygon fill="none" stroke="black" points="2469.5,-903 2469.5,-940 2796.5,-940 2796.5,-903 2469.5,-903"/>
<text text-anchor="start" x="2584.5" y="-918.8" font-family="Arial" font-weight="bold" font-size="14.00">ReissueShare</text>
<polygon fill="white" stroke="none" points="2469.5,-821 2469.5,-903 2796.5,-903 2796.5,-821 2469.5,-821"/>
<polygon fill="none" stroke="black" points="2469.5,-821 2469.5,-903 2796.5,-903 2796.5,-821 2469.5,-821"/>
<text text-anchor="start" x="2480.5" y="-880.8" font-family="Arial" font-size="14.00">+ transaction: RingCtTransaction</text>
<text text-anchor="start" x="2480.5" y="-865.8" font-family="Arial" font-size="14.00">+ spent_proofs: BTreeSet&lt;SpentProof&gt;</text>
<text text-anchor="start" x="2480.5" y="-850.8" font-family="Arial" font-size="14.00">+ mint_public_key_set: PublicKeySet</text>
<text text-anchor="start" x="2480.5" y="-835.8" font-family="Arial" font-size="14.00">+ mint_signature_share: IndexedSignatureShare</text>
<polygon fill="white" stroke="none" points="2469.5,-784 2469.5,-821 2796.5,-821 2796.5,-784 2469.5,-784"/>
<polygon fill="none" stroke="black" points="2469.5,-784 2469.5,-821 2796.5,-821 2796.5,-784 2469.5,-784"/>
<text text-anchor="start" x="2480.5" y="-798.8" font-family="Arial" font-size="14.00">&#45; to_common_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<polygon fill="none" stroke="black" points="2468,-783 2468,-941 2797,-941 2797,-783 2468,-783"/>
</a>
</g>
</g>
<!-- ndIndexedSignatureShare&#45;&gt;ndReissueShare -->
<g id="edge14" class="edge"><title>ndIndexedSignatureShare&#45;&gt;ndReissueShare</title>
<path fill="none" stroke="black" d="M2492.36,-1569.31C2536.43,-1524.69 2584.63,-1465.67 2609.5,-1402 2640.1,-1323.64 2639.08,-1089.84 2635.75,-957.338"/>
<polygon fill="black" stroke="black" points="2635.75,-957.229 2631.59,-951.336 2635.43,-945.233 2639.59,-951.126 2635.75,-957.229"/>
</g>
<!-- ndMintNode -->
<g id="node10" class="node"><title>ndMintNode</title>
<g id="a_node10_15"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/mint.rs#:~:text=struct%20MintNode" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2038.5,-581 2038.5,-618 2751.5,-618 2751.5,-581 2038.5,-581"/>
<polygon fill="none" stroke="black" points="2038.5,-581 2038.5,-618 2751.5,-618 2751.5,-581 2038.5,-581"/>
<text text-anchor="start" x="2361.5" y="-596.8" font-family="Arial" font-weight="bold" font-size="14.00">MintNode</text>
<polygon fill="white" stroke="none" points="2038.5,-544 2038.5,-581 2751.5,-581 2751.5,-544 2038.5,-544"/>
<polygon fill="none" stroke="black" points="2038.5,-544 2038.5,-581 2751.5,-581 2751.5,-544 2038.5,-544"/>
<text text-anchor="start" x="2049.5" y="-558.8" font-family="Arial" font-size="14.00">+ key_manager: K</text>
<polygon fill="white" stroke="none" points="2038.5,-432 2038.5,-544 2751.5,-544 2751.5,-432 2038.5,-432"/>
<polygon fill="none" stroke="black" points="2038.5,-432 2038.5,-544 2751.5,-544 2751.5,-432 2038.5,-432"/>
<text text-anchor="start" x="2049.5" y="-521.8" font-family="Arial" font-size="14.00">&#45; new(key_manager: K) &#45;&gt; Self</text>
<text text-anchor="start" x="2049.5" y="-506.8" font-family="Arial" font-size="14.00">&#45; trust_spentbook_public_key(mut self, public_key: PublicKey) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="2049.5" y="-491.8" font-family="Arial" font-size="14.00">&#45; key_manager(&amp;self) &#45;&gt; &amp;K</text>
<text text-anchor="start" x="2049.5" y="-476.8" font-family="Arial" font-size="14.00">&#45; spend(_key_image: KeyImage, _transaction: RingCtTransaction) &#45;&gt; Result&lt;SpentProofShare&gt;</text>
<text text-anchor="start" x="2049.5" y="-461.8" font-family="Arial" font-size="14.00">&#45; reissue(&amp;self, reissue_req: ReissueRequest) &#45;&gt; Result&lt;ReissueShare&gt;</text>
<text text-anchor="start" x="2049.5" y="-446.8" font-family="Arial" font-size="14.00">&#45; sign_transaction(&amp;self, transaction: &amp;RingCtTransaction) &#45;&gt; Result&lt;(PublicKeySet, IndexedSignatureShare)&gt;</text>
<polygon fill="none" stroke="black" points="2037,-431 2037,-619 2752,-619 2752,-431 2037,-431"/>
</a>
</g>
</g>
<!-- ndIndexedSignatureShare&#45;&gt;ndMintNode -->
<g id="edge15" class="edge"><title>ndIndexedSignatureShare&#45;&gt;ndMintNode</title>
<path fill="none" stroke="black" d="M2301.61,-1569.45C2256.78,-1525.06 2208.27,-1466.22 2184.5,-1402 2084.84,-1132.73 2236.13,-799.145 2329.68,-631.977"/>
<polygon fill="black" stroke="black" points="2334.65,-623.165 2333.66,-634.086 2332.19,-627.521 2329.74,-631.878 2329.74,-631.878 2329.74,-631.878 2332.19,-627.521 2325.82,-629.669 2334.65,-623.165 2334.65,-623.165"/>
</g>
<!-- ndIndexedSignatureShare&#45;&gt;ndSpentProofShare -->
<g id="edge16" class="edge"><title>ndIndexedSignatureShare&#45;&gt;ndSpentProofShare</title>
<path fill="none" stroke="black" d="M2398.29,-1569.31C2398.17,-1520.43 2398.01,-1456.98 2397.87,-1399.72"/>
<polygon fill="black" stroke="black" points="2397.87,-1399.6 2393.85,-1393.61 2397.84,-1387.6 2401.85,-1393.59 2397.87,-1399.6"/>
</g>
<!-- ndKeyManager -->
<g id="node4" class="node"><title>ndKeyManager</title>
<g id="a_node4_16"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/key_manager.rs#:~:text=trait%20KeyManager" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightgreen" stroke="none" points="412.5,-1689.5 412.5,-1726.5 993.5,-1726.5 993.5,-1689.5 412.5,-1689.5"/>
<polygon fill="none" stroke="black" points="412.5,-1689.5 412.5,-1726.5 993.5,-1726.5 993.5,-1689.5 412.5,-1689.5"/>
<text text-anchor="start" x="658.5" y="-1705.3" font-family="Arial" font-weight="bold" font-size="14.00">KeyManager</text>
<polygon fill="white" stroke="none" points="412.5,-1577.5 412.5,-1689.5 993.5,-1689.5 993.5,-1577.5 412.5,-1577.5"/>
<polygon fill="none" stroke="black" points="412.5,-1577.5 412.5,-1689.5 993.5,-1689.5 993.5,-1577.5 412.5,-1577.5"/>
<text text-anchor="start" x="423.5" y="-1667.3" font-family="Arial" font-size="14.00">add_known_key(&amp;mut Self, PublicKey) &#45;&gt; Result&lt;(), Self::Error&gt;</text>
<text text-anchor="start" x="423.5" y="-1652.3" font-family="Arial" font-size="14.00">sign_with_child_key(&amp;Self, &amp;[u8], &amp;Hash) &#45;&gt; Result&lt;IndexedSignatureShare, Self::Error&gt;</text>
<text text-anchor="start" x="423.5" y="-1637.3" font-family="Arial" font-size="14.00">sign(&amp;Self, &amp;Hash) &#45;&gt; Result&lt;IndexedSignatureShare, Self::Error&gt;</text>
<text text-anchor="start" x="423.5" y="-1622.3" font-family="Arial" font-size="14.00">public_key_set(&amp;Self) &#45;&gt; Result&lt;PublicKeySet, Self::Error&gt;</text>
<text text-anchor="start" x="423.5" y="-1607.3" font-family="Arial" font-size="14.00">verify(&amp;Self, &amp;Hash, &amp;PublicKey, &amp;Signature) &#45;&gt; Result&lt;(), Self::Error&gt;</text>
<text text-anchor="start" x="423.5" y="-1592.3" font-family="Arial" font-size="14.00">verify_known_key(&amp;Self, &amp;PublicKey) &#45;&gt; Result&lt;(), Self::Error&gt;</text>
<polygon fill="none" stroke="black" points="411,-1577 411,-1728 994,-1728 994,-1577 411,-1577"/>
</a>
</g>
</g>
<!-- ndKeyManager&#45;&gt;ndSimpleKeyManager -->
<g id="edge17" class="edge"><title>ndKeyManager&#45;&gt;ndSimpleKeyManager</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M796.455,-1572.91C865.205,-1515.4 959.682,-1436.37 1037.6,-1371.19"/>
<polygon fill="none" stroke="black" points="1040.15,-1373.63 1045.57,-1364.53 1035.66,-1368.26 1040.15,-1373.63"/>
</g>
<!-- ndKeyManager&#45;&gt;ndSpentBookNodeMock -->
<g id="edge18" class="edge"><title>ndKeyManager&#45;&gt;ndSpentBookNodeMock</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M702.5,-1572.65C702.5,-1440.94 702.5,-1174.28 702.5,-1007.97"/>
<polygon fill="black" stroke="black" points="702.5,-997.656 707,-1007.66 702.5,-1002.66 702.5,-1007.66 702.5,-1007.66 702.5,-1007.66 702.5,-1002.66 698,-1007.66 702.5,-997.656 702.5,-997.656"/>
</g>
<!-- ndSimpleSigner -->
<g id="node5" class="node"><title>ndSimpleSigner</title>
<g id="a_node5_17"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/key_manager.rs#:~:text=struct%20SimpleSigner" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="1595.5,-1715.5 1595.5,-1752.5 2167.5,-1752.5 2167.5,-1715.5 1595.5,-1715.5"/>
<polygon fill="none" stroke="black" points="1595.5,-1715.5 1595.5,-1752.5 2167.5,-1752.5 2167.5,-1715.5 1595.5,-1715.5"/>
<text text-anchor="start" x="1834.5" y="-1731.3" font-family="Arial" font-weight="bold" font-size="14.00">SimpleSigner</text>
<polygon fill="white" stroke="none" points="1595.5,-1663.5 1595.5,-1715.5 2167.5,-1715.5 2167.5,-1663.5 1595.5,-1663.5"/>
<polygon fill="none" stroke="black" points="1595.5,-1663.5 1595.5,-1715.5 2167.5,-1715.5 2167.5,-1663.5 1595.5,-1663.5"/>
<text text-anchor="start" x="1606.5" y="-1693.3" font-family="Arial" font-size="14.00">&#45; public_key_set: PublicKeySet</text>
<text text-anchor="start" x="1606.5" y="-1678.3" font-family="Arial" font-size="14.00">&#45; secret_key_share: (u64, SerdeSecret&lt;SecretKeyShare&gt;)</text>
<polygon fill="white" stroke="none" points="1595.5,-1551.5 1595.5,-1663.5 2167.5,-1663.5 2167.5,-1551.5 1595.5,-1551.5"/>
<polygon fill="none" stroke="black" points="1595.5,-1551.5 1595.5,-1663.5 2167.5,-1663.5 2167.5,-1551.5 1595.5,-1551.5"/>
<text text-anchor="start" x="1606.5" y="-1641.3" font-family="Arial" font-size="14.00">&#45; from(outcome: bls_dkg::outcome::Outcome) &#45;&gt; Self</text>
<text text-anchor="start" x="1606.5" y="-1626.3" font-family="Arial" font-size="14.00">&#45; new(public_key_set: PublicKeySet, secret_key_share: (u64, SecretKeyShare)) &#45;&gt; Self</text>
<text text-anchor="start" x="1606.5" y="-1611.3" font-family="Arial" font-size="14.00">&#45; index(&amp;self) &#45;&gt; u64</text>
<text text-anchor="start" x="1606.5" y="-1596.3" font-family="Arial" font-size="14.00">&#45; public_key_set(&amp;self) &#45;&gt; PublicKeySet</text>
<text text-anchor="start" x="1606.5" y="-1581.3" font-family="Arial" font-size="14.00">&#45; sign(&amp;self, msg: M) &#45;&gt; blsttc::SignatureShare</text>
<text text-anchor="start" x="1606.5" y="-1566.3" font-family="Arial" font-size="14.00">&#45; derive_child(&amp;self, index: &amp;[u8]) &#45;&gt; Self</text>
<polygon fill="none" stroke="black" points="1594.5,-1551 1594.5,-1754 2168.5,-1754 2168.5,-1551 1594.5,-1551"/>
</a>
</g>
</g>
<!-- ndSimpleSigner&#45;&gt;ndSimpleKeyManager -->
<g id="edge19" class="edge"><title>ndSimpleSigner&#45;&gt;ndSimpleKeyManager</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1742.87,-1546.85C1691.84,-1510.38 1632.75,-1470.5 1576.5,-1438 1535.58,-1414.35 1491.13,-1391.26 1447.29,-1369.84"/>
<polygon fill="black" stroke="black" points="1447.25,-1369.83 1440.11,-1370.8 1436.46,-1364.58 1443.6,-1363.61 1447.25,-1369.83"/>
</g>
<!-- ndSimpleKeyManager&#45;&gt;ndSpentBookNodeMock -->
<g id="edge20" class="edge"><title>ndSimpleKeyManager&#45;&gt;ndSpentBookNodeMock</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1041.53,-1138.42C990.422,-1096.9 931.773,-1049.25 877.782,-1005.39"/>
<polygon fill="black" stroke="black" points="877.775,-1005.39 870.595,-1004.71 868.461,-997.821 875.64,-998.5 877.775,-1005.39"/>
</g>
<!-- ndKeys&#45;&gt;ndSimpleKeyManager -->
<g id="edge21" class="edge"><title>ndKeys&#45;&gt;ndSimpleKeyManager</title>
<path fill="none" stroke="black" d="M1285.9,-1569.31C1267.22,-1513.69 1242.2,-1439.19 1221.12,-1376.42"/>
<polygon fill="black" stroke="black" points="1221.05,-1376.22 1215.35,-1371.8 1217.23,-1364.84 1222.93,-1369.25 1221.05,-1376.22"/>
</g>
<!-- ndReissueRequest -->
<g id="node8" class="node"><title>ndReissueRequest</title>
<g id="a_node8_18"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/mint.rs#:~:text=struct%20ReissueRequest" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2832.5,-869 2832.5,-906 3109.5,-906 3109.5,-869 2832.5,-869"/>
<polygon fill="none" stroke="black" points="2832.5,-869 2832.5,-906 3109.5,-906 3109.5,-869 2832.5,-869"/>
<text text-anchor="start" x="2914.5" y="-884.8" font-family="Arial" font-weight="bold" font-size="14.00">ReissueRequest</text>
<polygon fill="white" stroke="none" points="2832.5,-817 2832.5,-869 3109.5,-869 3109.5,-817 2832.5,-817"/>
<polygon fill="none" stroke="black" points="2832.5,-817 2832.5,-869 3109.5,-869 3109.5,-817 2832.5,-817"/>
<text text-anchor="start" x="2843.5" y="-846.8" font-family="Arial" font-size="14.00">+ transaction: RingCtTransaction</text>
<text text-anchor="start" x="2843.5" y="-831.8" font-family="Arial" font-size="14.00">+ spent_proofs: BTreeSet&lt;SpentProof&gt;</text>
<polygon fill="none" stroke="black" points="2831,-816.5 2831,-907.5 3110,-907.5 3110,-816.5 2831,-816.5"/>
</a>
</g>
</g>
<!-- ndReissueRequest&#45;&gt;ndMintNode -->
<g id="edge22" class="edge"><title>ndReissueRequest&#45;&gt;ndMintNode</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2944.4,-812.5C2917.38,-766.67 2871.07,-699.129 2813.5,-659 2797.37,-647.758 2780.25,-637.432 2762.49,-627.951"/>
<polygon fill="black" stroke="black" points="2753.15,-623.07 2764.09,-623.712 2757.58,-625.385 2762.01,-627.701 2762.01,-627.701 2762.01,-627.701 2757.58,-625.385 2759.93,-631.689 2753.15,-623.07 2753.15,-623.07"/>
</g>
<!-- ndReissueRequestBuilder -->
<g id="node19" class="node"><title>ndReissueRequestBuilder</title>
<g id="a_node19_19"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/builder.rs#:~:text=struct%20ReissueRequestBuilder" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2787.5,-581 2787.5,-618 3411.5,-618 3411.5,-581 2787.5,-581"/>
<polygon fill="none" stroke="black" points="2787.5,-581 2787.5,-618 3411.5,-618 3411.5,-581 2787.5,-581"/>
<text text-anchor="start" x="3018" y="-596.8" font-family="Arial" font-weight="bold" font-size="14.00">ReissueRequestBuilder</text>
<polygon fill="white" stroke="none" points="2787.5,-529 2787.5,-581 3411.5,-581 3411.5,-529 2787.5,-529"/>
<polygon fill="none" stroke="black" points="2787.5,-529 2787.5,-581 3411.5,-581 3411.5,-529 2787.5,-529"/>
<text text-anchor="start" x="2798.5" y="-558.8" font-family="Arial" font-size="14.00">+ transaction: RingCtTransaction</text>
<text text-anchor="start" x="2798.5" y="-543.8" font-family="Arial" font-size="14.00">+ spent_proof_shares: BTreeMap&lt;KeyImage, HashSet&lt;SpentProofShare&gt;&gt;</text>
<polygon fill="white" stroke="none" points="2787.5,-432 2787.5,-529 3411.5,-529 3411.5,-432 2787.5,-432"/>
<polygon fill="none" stroke="black" points="2787.5,-432 2787.5,-529 3411.5,-529 3411.5,-432 2787.5,-432"/>
<text text-anchor="start" x="2798.5" y="-506.8" font-family="Arial" font-size="14.00">&#45; new(transaction: RingCtTransaction) &#45;&gt; Self</text>
<text text-anchor="start" x="2798.5" y="-491.8" font-family="Arial" font-size="14.00">&#45; add_spent_proof_share(mut self, share: SpentProofShare) &#45;&gt; Self</text>
<text text-anchor="start" x="2798.5" y="-476.8" font-family="Arial" font-size="14.00">&#45; add_spent_proof_shares(mut self, shares: impl IntoIterator&lt;Item = SpentProofShare&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="2798.5" y="-461.8" font-family="Arial" font-size="14.00">&#45; inputs(&amp;self) &#45;&gt; Vec&lt;(KeyImage, RingCtTransaction)&gt;</text>
<text text-anchor="start" x="2798.5" y="-446.8" font-family="Arial" font-size="14.00">&#45; build(self) &#45;&gt; Result&lt;ReissueRequest&gt;</text>
<polygon fill="none" stroke="black" points="2786.5,-431 2786.5,-619 3412.5,-619 3412.5,-431 2786.5,-431"/>
</a>
</g>
</g>
<!-- ndReissueRequest&#45;&gt;ndReissueRequestBuilder -->
<g id="edge23" class="edge"><title>ndReissueRequest&#45;&gt;ndReissueRequestBuilder</title>
<path fill="none" stroke="black" d="M2989.26,-812.288C3007.3,-765.435 3035.18,-693.035 3058.39,-632.768"/>
<polygon fill="black" stroke="black" points="3062.07,-623.205 3062.67,-634.154 3060.27,-627.871 3058.48,-632.537 3058.48,-632.537 3058.48,-632.537 3060.27,-627.871 3054.28,-630.92 3062.07,-623.205 3062.07,-623.205"/>
</g>
<!-- ndReissueShare&#45;&gt;ndMintNode -->
<g id="edge24" class="edge"><title>ndReissueShare&#45;&gt;ndMintNode</title>
<path fill="none" stroke="black" d="M2573.97,-778.621C2542.42,-734.21 2503.15,-678.926 2469.39,-631.409"/>
<polygon fill="black" stroke="black" points="2463.59,-623.243 2473.05,-628.789 2466.48,-627.319 2469.38,-631.396 2469.38,-631.396 2469.38,-631.396 2466.48,-627.319 2465.71,-634.002 2463.59,-623.243 2463.59,-623.243"/>
</g>
<!-- ndDbcBuilder -->
<g id="node20" class="node"><title>ndDbcBuilder</title>
<g id="a_node20_20"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/builder.rs#:~:text=struct%20DbcBuilder" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="4430.5,-581 4430.5,-618 5127.5,-618 5127.5,-581 4430.5,-581"/>
<polygon fill="none" stroke="black" points="4430.5,-581 4430.5,-618 5127.5,-618 5127.5,-581 4430.5,-581"/>
<text text-anchor="start" x="4739.5" y="-596.8" font-family="Arial" font-weight="bold" font-size="14.00">DbcBuilder</text>
<polygon fill="white" stroke="none" points="4430.5,-514 4430.5,-581 5127.5,-581 5127.5,-514 4430.5,-514"/>
<polygon fill="none" stroke="black" points="4430.5,-514 4430.5,-581 5127.5,-581 5127.5,-514 4430.5,-514"/>
<text text-anchor="start" x="4441.5" y="-558.8" font-family="Arial" font-size="14.00">+ revealed_commitments: Vec&lt;RevealedCommitment&gt;</text>
<text text-anchor="start" x="4441.5" y="-543.8" font-family="Arial" font-size="14.00">+ output_owner_map: OutputOwnerMap</text>
<text text-anchor="start" x="4441.5" y="-528.8" font-family="Arial" font-size="14.00">+ reissue_shares: Vec&lt;ReissueShare&gt;</text>
<polygon fill="white" stroke="none" points="4430.5,-432 4430.5,-514 5127.5,-514 5127.5,-432 4430.5,-432"/>
<polygon fill="none" stroke="black" points="4430.5,-432 4430.5,-514 5127.5,-514 5127.5,-432 4430.5,-432"/>
<text text-anchor="start" x="4441.5" y="-491.8" font-family="Arial" font-size="14.00">&#45; new(revealed_commitments: Vec&lt;RevealedCommitment&gt;, output_owner_map: OutputOwnerMap) &#45;&gt; Self</text>
<text text-anchor="start" x="4441.5" y="-476.8" font-family="Arial" font-size="14.00">&#45; add_reissue_share(mut self, reissue_share: ReissueShare) &#45;&gt; Self</text>
<text text-anchor="start" x="4441.5" y="-461.8" font-family="Arial" font-size="14.00">&#45; add_reissue_shares(mut self, shares: impl IntoIterator&lt;Item = ReissueShare&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="4441.5" y="-446.8" font-family="Arial" font-size="14.00">&#45; build(self, verifier: &amp;K) &#45;&gt; Result&lt;Vec&lt;(Dbc, OwnerOnce, AmountSecrets)&gt;&gt;</text>
<polygon fill="none" stroke="black" points="4429,-431 4429,-619 5128,-619 5128,-431 4429,-431"/>
</a>
</g>
</g>
<!-- ndReissueShare&#45;&gt;ndDbcBuilder -->
<g id="edge25" class="edge"><title>ndReissueShare&#45;&gt;ndDbcBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2682.84,-778.86C2714.49,-735.086 2759.53,-685.024 2813.5,-659 2875.26,-629.223 3361.08,-627.459 3429.5,-623 3760.81,-601.409 4137.68,-574.076 4408.7,-553.932"/>
<polygon fill="black" stroke="black" points="4408.75,-553.928 4414.44,-549.494 4420.72,-553.038 4415.03,-557.472 4408.75,-553.928"/>
</g>
<!-- ndDbcContent&#45;&gt;ndDbc -->
<g id="edge26" class="edge"><title>ndDbcContent&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M5160.29,-1145.89C5143.93,-1123.73 5126.11,-1099.58 5107.99,-1075.03"/>
<polygon fill="black" stroke="black" points="5107.89,-1074.89 5101.11,-1072.44 5100.76,-1065.24 5107.54,-1067.69 5107.89,-1074.89"/>
</g>
<!-- ndGenesisMaterial -->
<g id="node12" class="node"><title>ndGenesisMaterial</title>
<g id="a_node12_21"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/genesis.rs#:~:text=struct%20GenesisMaterial" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="5599.5,-1693.5 5599.5,-1730.5 5826.5,-1730.5 5826.5,-1693.5 5599.5,-1693.5"/>
<polygon fill="none" stroke="black" points="5599.5,-1693.5 5599.5,-1730.5 5826.5,-1730.5 5826.5,-1693.5 5599.5,-1693.5"/>
<text text-anchor="start" x="5656.5" y="-1709.3" font-family="Arial" font-weight="bold" font-size="14.00">GenesisMaterial</text>
<polygon fill="white" stroke="none" points="5599.5,-1626.5 5599.5,-1693.5 5826.5,-1693.5 5826.5,-1626.5 5599.5,-1626.5"/>
<polygon fill="none" stroke="black" points="5599.5,-1626.5 5599.5,-1693.5 5826.5,-1693.5 5826.5,-1626.5 5599.5,-1626.5"/>
<text text-anchor="start" x="5610.5" y="-1671.3" font-family="Arial" font-size="14.00">+ ringct_material: RingCtMaterial</text>
<text text-anchor="start" x="5610.5" y="-1656.3" font-family="Arial" font-size="14.00">+ owner_once: OwnerOnce</text>
<text text-anchor="start" x="5610.5" y="-1641.3" font-family="Arial" font-size="14.00">+ input_key_image: KeyImage</text>
<polygon fill="white" stroke="none" points="5599.5,-1573.5 5599.5,-1626.5 5826.5,-1626.5 5826.5,-1573.5 5599.5,-1573.5"/>
<polygon fill="none" stroke="black" points="5599.5,-1573.5 5599.5,-1626.5 5826.5,-1626.5 5826.5,-1573.5 5599.5,-1573.5"/>
<text text-anchor="start" x="5610.5" y="-1589.3" font-family="Arial" font-size="14.00">&#45; default() &#45;&gt; Self</text>
<polygon fill="none" stroke="black" points="5598,-1573 5598,-1732 5827,-1732 5827,-1573 5598,-1573"/>
</a>
</g>
</g>
<!-- ndPublicKeyBlstMappable&#45;&gt;ndSpentBookNodeMock -->
<g id="edge27" class="edge"><title>ndPublicKeyBlstMappable&#45;&gt;ndSpentBookNodeMock</title>
<path fill="none" stroke="black" d="M293.291,-1152.8C315.438,-1135.29 338.516,-1117.41 360.5,-1101 403.211,-1069.12 449.665,-1035.88 494.171,-1004.7"/>
<polygon fill="black" stroke="black" points="494.399,-1004.54 497.023,-997.819 504.232,-997.658 501.608,-1004.37 494.399,-1004.54"/>
</g>
<!-- ndBlsHelper -->
<g id="node14" class="node"><title>ndBlsHelper</title>
<g id="a_node14_22"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/blst.rs#:~:text=struct%20BlsHelper" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="5862.5,-2015.5 5862.5,-2052.5 6278.5,-2052.5 6278.5,-2015.5 5862.5,-2015.5"/>
<polygon fill="none" stroke="black" points="5862.5,-2015.5 5862.5,-2052.5 6278.5,-2052.5 6278.5,-2015.5 5862.5,-2015.5"/>
<text text-anchor="start" x="6036.5" y="-2031.3" font-family="Arial" font-weight="bold" font-size="14.00">BlsHelper</text>
<polygon fill="white" stroke="none" points="5862.5,-1933.5 5862.5,-2015.5 6278.5,-2015.5 6278.5,-1933.5 5862.5,-1933.5"/>
<polygon fill="none" stroke="black" points="5862.5,-1933.5 5862.5,-2015.5 6278.5,-2015.5 6278.5,-1933.5 5862.5,-1933.5"/>
<text text-anchor="start" x="5873.5" y="-1993.3" font-family="Arial" font-size="14.00">&#45; blsttc_to_blstrs_secret_key(sk: SecretKey) &#45;&gt; SecretKeyBlst</text>
<text text-anchor="start" x="5873.5" y="-1978.3" font-family="Arial" font-size="14.00">&#45; blsttc_to_blstrs_public_key(pk: &amp;PublicKey) &#45;&gt; PublicKeyBlst</text>
<text text-anchor="start" x="5873.5" y="-1963.3" font-family="Arial" font-size="14.00">&#45; blstrs_to_blsttc_public_key(pk: &amp;PublicKeyBlst) &#45;&gt; PublicKey</text>
<text text-anchor="start" x="5873.5" y="-1948.3" font-family="Arial" font-size="14.00">&#45; blstrs_to_blsttc_secret_key(sk: SecretKeyBlst) &#45;&gt; SecretKey</text>
<polygon fill="none" stroke="black" points="5861.5,-1933 5861.5,-2054 6279.5,-2054 6279.5,-1933 5861.5,-1933"/>
</a>
</g>
</g>
<!-- ndOwner -->
<g id="node15" class="node"><title>ndOwner</title>
<g id="a_node15_23"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/owner.rs#:~:text=enum%20Owner" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="5088.5,-1776.5 5088.5,-1813.5 5525.5,-1813.5 5525.5,-1776.5 5088.5,-1776.5"/>
<polygon fill="none" stroke="black" points="5088.5,-1776.5 5088.5,-1813.5 5525.5,-1813.5 5525.5,-1776.5 5088.5,-1776.5"/>
<text text-anchor="start" x="5284" y="-1792.3" font-family="Arial" font-weight="bold" font-size="14.00">Owner</text>
<polygon fill="white" stroke="none" points="5088.5,-1724.5 5088.5,-1776.5 5525.5,-1776.5 5525.5,-1724.5 5088.5,-1724.5"/>
<polygon fill="none" stroke="black" points="5088.5,-1724.5 5088.5,-1776.5 5525.5,-1776.5 5525.5,-1724.5 5088.5,-1724.5"/>
<text text-anchor="start" x="5099.5" y="-1754.3" font-family="Arial" font-size="14.00">SecretKey(SerdeSecret&lt;SecretKey&gt;)</text>
<text text-anchor="start" x="5099.5" y="-1739.3" font-family="Arial" font-size="14.00">PublicKey(PublicKey)</text>
<polygon fill="white" stroke="none" points="5088.5,-1491.5 5088.5,-1724.5 5525.5,-1724.5 5525.5,-1491.5 5088.5,-1491.5"/>
<polygon fill="none" stroke="black" points="5088.5,-1491.5 5088.5,-1724.5 5525.5,-1724.5 5525.5,-1491.5 5088.5,-1491.5"/>
<text text-anchor="start" x="5099.5" y="-1702.3" font-family="Arial" font-size="14.00">&#45; fmt(&amp;self, f: &amp;mut fmt::Formatter&lt;&#39;_&gt;) &#45;&gt; fmt::Result</text>
<text text-anchor="start" x="5099.5" y="-1687.3" font-family="Arial" font-size="14.00">&#45; from(s: SecretKey) &#45;&gt; Self</text>
<text text-anchor="start" x="5099.5" y="-1672.3" font-family="Arial" font-size="14.00">&#45; from(p: PublicKey) &#45;&gt; Self</text>
<text text-anchor="start" x="5099.5" y="-1657.3" font-family="Arial" font-size="14.00">&#45; eq(&amp;self, other: &amp;Self) &#45;&gt; bool</text>
<text text-anchor="start" x="5099.5" y="-1625.5" font-family="Arial" font-size="14.00">&#45; public_key(&amp;self) &#45;&gt; PublicKey</text>
<text text-anchor="start" x="5099.5" y="-1610.5" font-family="Arial" font-size="14.00">&#45; secret_key(&amp;self) &#45;&gt; Result&lt;SecretKey&gt;</text>
<text text-anchor="start" x="5099.5" y="-1595.5" font-family="Arial" font-size="14.00">&#45; public_key_blst(&amp;self) &#45;&gt; PublicKeyBlst</text>
<text text-anchor="start" x="5099.5" y="-1580.5" font-family="Arial" font-size="14.00">&#45; secret_key_blst(&amp;self) &#45;&gt; Result&lt;SecretKeyBlst&gt;</text>
<text text-anchor="start" x="5099.5" y="-1565.5" font-family="Arial" font-size="14.00">&#45; derive(&amp;self, i: &amp;DerivationIndex) &#45;&gt; Self</text>
<text text-anchor="start" x="5099.5" y="-1550.5" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="5099.5" y="-1535.5" font-family="Arial" font-size="14.00">&#45; has_secret_key(&amp;self) &#45;&gt; bool</text>
<text text-anchor="start" x="5099.5" y="-1520.5" font-family="Arial" font-size="14.00">&#45; from_random_secret_key(rng: &amp;mut impl rand::RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="5099.5" y="-1505.5" font-family="Arial" font-size="14.00">&#45; from(o: OwnerOnce) &#45;&gt; Self</text>
<polygon fill="none" stroke="black" points="5087,-1490.5 5087,-1814.5 5526,-1814.5 5526,-1490.5 5087,-1490.5"/>
</a>
</g>
</g>
<!-- ndOwner&#45;&gt;ndDbcContent -->
<g id="edge28" class="edge"><title>ndOwner&#45;&gt;ndDbcContent</title>
<path fill="none" stroke="black" d="M5277.94,-1486.33C5271.14,-1447.04 5264.03,-1405.91 5257.7,-1369.3"/>
<polygon fill="black" stroke="black" points="5257.63,-1368.89 5252.66,-1363.66 5255.58,-1357.07 5260.55,-1362.3 5257.63,-1368.89"/>
</g>
<!-- ndOwnerOnce -->
<g id="node16" class="node"><title>ndOwnerOnce</title>
<g id="a_node16_24"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/owner.rs#:~:text=struct%20OwnerOnce" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="5296.5,-2041.5 5296.5,-2078.5 5826.5,-2078.5 5826.5,-2041.5 5296.5,-2041.5"/>
<polygon fill="none" stroke="black" points="5296.5,-2041.5 5296.5,-2078.5 5826.5,-2078.5 5826.5,-2041.5 5296.5,-2041.5"/>
<text text-anchor="start" x="5520" y="-2057.3" font-family="Arial" font-weight="bold" font-size="14.00">OwnerOnce</text>
<polygon fill="white" stroke="none" points="5296.5,-1989.5 5296.5,-2041.5 5826.5,-2041.5 5826.5,-1989.5 5296.5,-1989.5"/>
<polygon fill="none" stroke="black" points="5296.5,-1989.5 5296.5,-2041.5 5826.5,-2041.5 5826.5,-1989.5 5296.5,-1989.5"/>
<text text-anchor="start" x="5307.5" y="-2019.3" font-family="Arial" font-size="14.00">+ owner_base: Owner</text>
<text text-anchor="start" x="5307.5" y="-2004.3" font-family="Arial" font-size="14.00">+ derivation_index: DerivationIndex</text>
<polygon fill="white" stroke="none" points="5296.5,-1907.5 5296.5,-1989.5 5826.5,-1989.5 5826.5,-1907.5 5296.5,-1907.5"/>
<polygon fill="none" stroke="black" points="5296.5,-1907.5 5296.5,-1989.5 5826.5,-1989.5 5826.5,-1907.5 5296.5,-1907.5"/>
<text text-anchor="start" x="5307.5" y="-1967.3" font-family="Arial" font-size="14.00">&#45; owner_base(&amp;self) &#45;&gt; &amp;Owner</text>
<text text-anchor="start" x="5307.5" y="-1952.3" font-family="Arial" font-size="14.00">&#45; as_owner(&amp;self) &#45;&gt; Owner</text>
<text text-anchor="start" x="5307.5" y="-1937.3" font-family="Arial" font-size="14.00">&#45; from_owner_base(owner_base: Owner, rng: &amp;mut impl rand8::RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="5307.5" y="-1922.3" font-family="Arial" font-size="14.00">&#45; random_derivation_index(rng: &amp;mut impl rand8::RngCore) &#45;&gt; [u8; 32]</text>
<polygon fill="none" stroke="black" points="5295.5,-1907 5295.5,-2080 5827.5,-2080 5827.5,-1907 5295.5,-1907"/>
</a>
</g>
</g>
<!-- ndOwner&#45;&gt;ndOwnerOnce -->
<g id="edge29" class="edge"><title>ndOwner&#45;&gt;ndOwnerOnce</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M5437.49,-1818.67C5456.65,-1844.11 5475.71,-1869.69 5492.94,-1893.1"/>
<polygon fill="black" stroke="black" points="5493.1,-1893.32 5499.87,-1895.78 5500.2,-1902.99 5493.42,-1900.52 5493.1,-1893.32"/>
</g>
<!-- ndOwner&#45;&gt;ndDbc -->
<g id="edge30" class="edge"><title>ndOwner&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M5461.32,-1486.49C5478.96,-1459.88 5494.26,-1431.37 5504.5,-1402 5526.52,-1338.84 5541.28,-1156.87 5504.5,-1101 5444.72,-1010.19 5342.22,-953.881 5241.58,-919.031"/>
<polygon fill="black" stroke="black" points="5231.85,-915.725 5242.77,-914.681 5236.59,-917.334 5241.32,-918.942 5241.32,-918.942 5241.32,-918.942 5236.59,-917.334 5239.87,-923.203 5231.85,-915.725 5231.85,-915.725"/>
</g>
<!-- ndOwnerOnce&#45;&gt;ndGenesisMaterial -->
<g id="edge31" class="edge"><title>ndOwnerOnce&#45;&gt;ndGenesisMaterial</title>
<path fill="none" stroke="black" d="M5601.37,-1902.99C5622.73,-1855.03 5649.03,-1796 5670.68,-1747.39"/>
<polygon fill="black" stroke="black" points="5670.76,-1747.2 5669.55,-1740.09 5675.65,-1736.24 5676.86,-1743.34 5670.76,-1747.2"/>
</g>
<!-- ndOwnerOnce&#45;&gt;ndOwner -->
<g id="edge32" class="edge"><title>ndOwnerOnce&#45;&gt;ndOwner</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M5488.14,-1902.99C5469.96,-1879.43 5449.99,-1853.2 5430.15,-1826.85"/>
<polygon fill="black" stroke="black" points="5424,-1818.67 5433.6,-1823.96 5427,-1822.67 5430.01,-1826.66 5430.01,-1826.66 5430.01,-1826.66 5427,-1822.67 5426.41,-1829.37 5424,-1818.67 5424,-1818.67"/>
</g>
<!-- ndTransactionBuilder -->
<g id="node18" class="node"><title>ndTransactionBuilder</title>
<g id="a_node18_25"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/builder.rs#:~:text=struct%20TransactionBuilder" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="4258.5,-348.5 4258.5,-385.5 5298.5,-385.5 5298.5,-348.5 4258.5,-348.5"/>
<polygon fill="none" stroke="black" points="4258.5,-348.5 4258.5,-385.5 5298.5,-385.5 5298.5,-348.5 4258.5,-348.5"/>
<text text-anchor="start" x="4711.5" y="-364.3" font-family="Arial" font-weight="bold" font-size="14.00">TransactionBuilder</text>
<polygon fill="white" stroke="none" points="4258.5,-296.5 4258.5,-348.5 5298.5,-348.5 5298.5,-296.5 4258.5,-296.5"/>
<polygon fill="none" stroke="black" points="4258.5,-296.5 4258.5,-348.5 5298.5,-348.5 5298.5,-296.5 4258.5,-296.5"/>
<text text-anchor="start" x="4269.5" y="-326.3" font-family="Arial" font-size="14.00">&#45; ringct_material: RingCtMaterial</text>
<text text-anchor="start" x="4269.5" y="-311.3" font-family="Arial" font-size="14.00">&#45; output_owner_map: OutputOwnerMap</text>
<polygon fill="white" stroke="none" points="4258.5,-4.5 4258.5,-296.5 5298.5,-296.5 5298.5,-4.5 4258.5,-4.5"/>
<polygon fill="none" stroke="black" points="4258.5,-4.5 4258.5,-296.5 5298.5,-296.5 5298.5,-4.5 4258.5,-4.5"/>
<text text-anchor="start" x="4269.5" y="-274.3" font-family="Arial" font-size="14.00">&#45; add_input(mut self, mlsag: MlsagMaterial) &#45;&gt; Self</text>
<text text-anchor="start" x="4269.5" y="-259.3" font-family="Arial" font-size="14.00">&#45; add_inputs(mut self, inputs: impl IntoIterator&lt;Item = MlsagMaterial&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="4269.5" y="-244.3" font-family="Arial" font-size="14.00">&#45; add_input_by_true_input(mut self, true_input: TrueInput, decoy_inputs: Vec&lt;DecoyInput&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="4269.5" y="-229.3" font-family="Arial" font-size="14.00">&#45; add_inputs_by_true_inputs(mut self, inputs: impl IntoIterator&lt;Item = (TrueInput, Vec&lt;DecoyInput&gt;)&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="4269.5" y="-214.3" font-family="Arial" font-size="14.00">&#45; add_input_dbc(mut self, dbc: &amp;Dbc, base_sk: &amp;SecretKey, decoy_inputs: Vec&lt;DecoyInput&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="4269.5" y="-199.3" font-family="Arial" font-size="14.00">&#45; add_inputs_dbc(mut self, dbcs: impl IntoIterator&lt;Item = (Dbc, SecretKey, Vec&lt;DecoyInput&gt;)&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="4269.5" y="-184.3" font-family="Arial" font-size="14.00">&#45; add_input_dbc_bearer(mut self, dbc: &amp;Dbc, decoy_inputs: Vec&lt;DecoyInput&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="4269.5" y="-169.3" font-family="Arial" font-size="14.00">&#45; add_inputs_dbc_bearer(mut self, dbcs: impl IntoIterator&lt;Item = (Dbc, Vec&lt;DecoyInput&gt;)&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="4269.5" y="-154.3" font-family="Arial" font-size="14.00">&#45; add_input_by_secrets(mut self, secret_key: SecretKeyBlst, amount_secrets: AmountSecrets, decoy_inputs: Vec&lt;DecoyInput&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="4269.5" y="-139.3" font-family="Arial" font-size="14.00">&#45; add_inputs_by_secrets(mut self, secrets: Vec&lt;(SecretKeyBlst, AmountSecrets, Vec&lt;DecoyInput&gt;)&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="4269.5" y="-124.3" font-family="Arial" font-size="14.00">&#45; add_output(mut self, output: Output, owner: OwnerOnce) &#45;&gt; Self</text>
<text text-anchor="start" x="4269.5" y="-109.3" font-family="Arial" font-size="14.00">&#45; add_outputs(mut self, outputs: impl IntoIterator&lt;Item = (Output, OwnerOnce)&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="4269.5" y="-94.3" font-family="Arial" font-size="14.00">&#45; input_owners(&amp;self) &#45;&gt; Vec&lt;PublicKeyBlst&gt;</text>
<text text-anchor="start" x="4269.5" y="-79.3" font-family="Arial" font-size="14.00">&#45; inputs_amount_sum(&amp;self) &#45;&gt; Amount</text>
<text text-anchor="start" x="4269.5" y="-64.3" font-family="Arial" font-size="14.00">&#45; outputs_amount_sum(&amp;self) &#45;&gt; Amount</text>
<text text-anchor="start" x="4269.5" y="-49.3" font-family="Arial" font-size="14.00">&#45; inputs(&amp;self) &#45;&gt; &amp;Vec&lt;MlsagMaterial&gt;</text>
<text text-anchor="start" x="4269.5" y="-34.3" font-family="Arial" font-size="14.00">&#45; outputs(&amp;self) &#45;&gt; &amp;Vec&lt;Output&gt;</text>
<text text-anchor="start" x="4269.5" y="-19.3" font-family="Arial" font-size="14.00">&#45; build(self, rng: impl RngCore + rand_core::CryptoRng) &#45;&gt; Result&lt;(ReissueRequestBuilder, DbcBuilder, RingCtMaterial)&gt;</text>
<polygon fill="none" stroke="black" points="4257.5,-4 4257.5,-387 5299.5,-387 5299.5,-4 4257.5,-4"/>
</a>
</g>
</g>
<!-- ndOwnerOnce&#45;&gt;ndTransactionBuilder -->
<g id="edge33" class="edge"><title>ndOwnerOnce&#45;&gt;ndTransactionBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M5813.01,-1902.78C5824.9,-1892.15 5835.58,-1880.27 5844.5,-1867 5997.01,-1640.28 5863.5,-1525.74 5863.5,-1252.5 5863.5,-1252.5 5863.5,-1252.5 5863.5,-861 5863.5,-577.074 5589.96,-410.743 5317.58,-315.497"/>
<polygon fill="black" stroke="black" points="5307.89,-312.139 5318.81,-311.162 5312.61,-313.776 5317.34,-315.414 5317.34,-315.414 5317.34,-315.414 5312.61,-313.776 5315.86,-319.666 5307.89,-312.139 5307.89,-312.139"/>
</g>
<!-- ndOwnerOnce&#45;&gt;ndDbcBuilder -->
<g id="edge34" class="edge"><title>ndOwnerOnce&#45;&gt;ndDbcBuilder</title>
<path fill="none" stroke="black" d="M5564.4,-1902.89C5569.76,-1707.35 5576.67,-1248.11 5529.5,-1101 5457.83,-877.5 5429.32,-798.415 5240.5,-659 5211.58,-637.644 5179.31,-619.71 5145.63,-604.65"/>
<polygon fill="black" stroke="black" points="5136.1,-600.478 5147.07,-600.365 5140.68,-602.482 5145.26,-604.487 5145.26,-604.487 5145.26,-604.487 5140.68,-602.482 5143.46,-608.61 5136.1,-600.478 5136.1,-600.478"/>
</g>
<!-- ndDbc&#45;&gt;ndTransactionBuilder -->
<g id="edge35" class="edge"><title>ndDbc&#45;&gt;ndTransactionBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M5129.95,-658.944C5135.91,-647.186 5141.17,-635.179 5145.5,-623 5174.71,-540.932 5187.64,-503.238 5145.5,-427 5140.2,-417.421 5134.33,-408.187 5127.95,-399.288"/>
<polygon fill="black" stroke="black" points="5121.95,-391.211 5131.53,-396.558 5124.93,-395.226 5127.91,-399.24 5127.91,-399.24 5127.91,-399.24 5124.93,-395.226 5124.3,-401.922 5121.95,-391.211 5121.95,-391.211"/>
</g>
<!-- ndDbc&#45;&gt;ndDbcBuilder -->
<g id="edge36" class="edge"><title>ndDbc&#45;&gt;ndDbcBuilder</title>
<path fill="none" stroke="black" d="M4847.12,-658.882C4842.41,-649.754 4837.77,-640.77 4833.26,-632.045"/>
<polygon fill="black" stroke="black" points="4828.62,-623.05 4837.21,-629.87 4830.91,-627.492 4833.21,-631.935 4833.21,-631.935 4833.21,-631.935 4830.91,-627.492 4829.21,-634 4828.62,-623.05 4828.62,-623.05"/>
</g>
<!-- ndReissueRequestBuilder&#45;&gt;ndTransactionBuilder -->
<g id="edge37" class="edge"><title>ndReissueRequestBuilder&#45;&gt;ndTransactionBuilder</title>
<path fill="none" stroke="black" d="M3420.75,-461.339C3651.96,-416.238 3969.34,-354.332 4239.11,-301.712"/>
<polygon fill="black" stroke="black" points="4249.09,-299.765 4240.13,-306.097 4244.18,-300.723 4239.27,-301.68 4239.27,-301.68 4239.27,-301.68 4244.18,-300.723 4238.41,-297.263 4249.09,-299.765 4249.09,-299.765"/>
</g>
<!-- ndDbcBuilder&#45;&gt;ndTransactionBuilder -->
<g id="edge38" class="edge"><title>ndDbcBuilder&#45;&gt;ndTransactionBuilder</title>
<path fill="none" stroke="black" d="M4778.5,-426.626C4778.5,-418.427 4778.5,-409.961 4778.5,-401.332"/>
<polygon fill="black" stroke="black" points="4778.5,-391.133 4783,-401.133 4778.5,-396.133 4778.5,-401.133 4778.5,-401.133 4778.5,-401.133 4778.5,-396.133 4774,-401.134 4778.5,-391.133 4778.5,-391.133"/>
</g>
<!-- ndSpentProofContent&#45;&gt;ndSpentProofShare -->
<g id="edge39" class="edge"><title>ndSpentProofContent&#45;&gt;ndSpentProofShare</title>
<path fill="none" stroke="black" d="M2762.06,-1554.4C2726.9,-1516.69 2685.04,-1474 2644.5,-1438 2628.43,-1423.73 2611.34,-1409.38 2593.93,-1395.33"/>
<polygon fill="black" stroke="black" points="2593.6,-1395.06 2586.42,-1394.43 2584.24,-1387.55 2591.42,-1388.18 2593.6,-1395.06"/>
</g>
<!-- ndSpentProofContent&#45;&gt;ndSpentProof -->
<g id="edge40" class="edge"><title>ndSpentProofContent&#45;&gt;ndSpentProof</title>
<path fill="none" stroke="black" d="M2848.74,-1554.4C2848.88,-1498.63 2849.06,-1428.2 2849.21,-1369.4"/>
<polygon fill="black" stroke="black" points="2849.21,-1369.03 2845.22,-1363.02 2849.24,-1357.03 2853.22,-1363.04 2849.21,-1369.03"/>
</g>
<!-- ndSpentProofShare&#45;&gt;ndMintNode -->
<g id="edge41" class="edge"><title>ndSpentProofShare&#45;&gt;ndMintNode</title>
<path fill="none" stroke="black" d="M2396.94,-1115.08C2396.36,-975.709 2395.47,-761.388 2394.94,-633.306"/>
<polygon fill="black" stroke="black" points="2394.9,-623.093 2399.44,-633.074 2394.92,-628.093 2394.94,-633.093 2394.94,-633.093 2394.94,-633.093 2394.92,-628.093 2390.44,-633.112 2394.9,-623.093 2394.9,-623.093"/>
</g>
<!-- ndSpentProofShare&#45;&gt;ndReissueRequestBuilder -->
<g id="edge42" class="edge"><title>ndSpentProofShare&#45;&gt;ndReissueRequestBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2407.5,-1115.32C2420.53,-943.254 2442.58,-667.107 2450.5,-659 2497.87,-610.513 2680.49,-634.516 2766.3,-622.972"/>
<polygon fill="black" stroke="black" points="2766.39,-622.957 2771.65,-618.032 2778.23,-620.998 2772.96,-625.924 2766.39,-622.957"/>
</g>
<!-- ndSpentProofShare&#45;&gt;ndSpentBookNodeMock -->
<g id="edge43" class="edge"><title>ndSpentProofShare&#45;&gt;ndSpentBookNodeMock</title>
<path fill="none" stroke="black" d="M2193.89,-1203.95C1930.01,-1143.63 1463.36,-1036.94 1122.14,-958.935"/>
<polygon fill="black" stroke="black" points="1112.33,-956.694 1123.09,-954.536 1117.21,-957.808 1122.08,-958.922 1122.08,-958.922 1122.08,-958.922 1117.21,-957.808 1121.08,-963.309 1112.33,-956.694 1112.33,-956.694"/>
</g>
<!-- ndSpentProof&#45;&gt;ndReissueRequest -->
<g id="edge44" class="edge"><title>ndSpentProof&#45;&gt;ndReissueRequest</title>
<path fill="none" stroke="black" d="M2882.16,-1145.89C2904.43,-1074.59 2933.12,-982.698 2951.67,-923.317"/>
<polygon fill="black" stroke="black" points="2951.77,-922.979 2949.74,-916.059 2955.35,-911.524 2957.38,-918.444 2951.77,-922.979"/>
</g>
<!-- ndSpentProof&#45;&gt;ndReissueShare -->
<g id="edge45" class="edge"><title>ndSpentProof&#45;&gt;ndReissueShare</title>
<path fill="none" stroke="black" d="M2790.92,-1145.89C2757.65,-1086.49 2716.38,-1012.79 2684.31,-955.513"/>
<polygon fill="black" stroke="black" points="2684.29,-955.486 2677.87,-952.206 2678.43,-945.016 2684.85,-948.297 2684.29,-955.486"/>
</g>
<!-- ndSpentProof&#45;&gt;ndDbc -->
<g id="edge46" class="edge"><title>ndSpentProof&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M2969.72,-1145.82C2995.02,-1128.32 3022.55,-1112.23 3050.5,-1101 3335.87,-986.349 4200.9,-913.148 4659.24,-881.338"/>
<polygon fill="black" stroke="black" points="4659.37,-881.33 4665.08,-876.925 4671.34,-880.502 4665.63,-884.906 4659.37,-881.33"/>
</g>
<!-- ndAmountSecrets&#45;&gt;ndDbc -->
<g id="edge47" class="edge"><title>ndAmountSecrets&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M4716.3,-1100.96C4725.53,-1091.62 4734.91,-1082.14 4744.33,-1072.6"/>
<polygon fill="black" stroke="black" points="4751.55,-1065.3 4747.72,-1075.58 4748.03,-1068.86 4744.52,-1072.41 4744.52,-1072.41 4744.52,-1072.41 4748.03,-1068.86 4741.32,-1069.25 4751.55,-1065.3 4751.55,-1065.3"/>
</g>
<!-- ndAmountSecrets&#45;&gt;ndTransactionBuilder -->
<g id="edge48" class="edge"><title>ndAmountSecrets&#45;&gt;ndTransactionBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M4483.47,-1100.95C4397.63,-928.343 4293.29,-640.833 4411.5,-427 4416.8,-417.421 4422.67,-408.187 4429.05,-399.288"/>
<polygon fill="black" stroke="black" points="4435.05,-391.211 4432.7,-401.922 4432.07,-395.226 4429.09,-399.24 4429.09,-399.24 4429.09,-399.24 4432.07,-395.226 4425.47,-396.558 4435.05,-391.211 4435.05,-391.211"/>
</g>
<!-- ndAmountSecrets&#45;&gt;ndDbcBuilder -->
<g id="edge49" class="edge"><title>ndAmountSecrets&#45;&gt;ndDbcBuilder</title>
<path fill="none" stroke="black" d="M4569.63,-1100.74C4575.76,-976.992 4596.82,-799.461 4662.5,-659 4666.88,-649.641 4672.11,-640.439 4677.91,-631.516"/>
<polygon fill="black" stroke="black" points="4683.62,-623.051 4681.76,-633.857 4680.83,-627.195 4678.03,-631.339 4678.03,-631.339 4678.03,-631.339 4680.83,-627.195 4674.3,-628.82 4683.62,-623.051 4683.62,-623.051"/>
</g>
</g>
</svg>
