<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.38.0 (20140413.2041)
 -->
<!-- Title: ml Pages: 1 -->
<svg width="5964pt" height="1980pt"
 viewBox="0.00 0.00 5963.80 1980.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1976)">
<title>ml</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-1976 5959.8,-1976 5959.8,4 -4,4"/>
<!-- ndHash -->
<g id="node1" class="node"><title>ndHash</title>
<g id="a_node1_0"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/lib.rs#:~:text=struct%20Hash" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2079.8,-1922.5 2079.8,-1959.5 2434.8,-1959.5 2434.8,-1922.5 2079.8,-1922.5"/>
<polygon fill="none" stroke="black" points="2079.8,-1922.5 2079.8,-1959.5 2434.8,-1959.5 2434.8,-1922.5 2079.8,-1922.5"/>
<text text-anchor="start" x="2239.3" y="-1938.3" font-family="Arial" font-weight="bold" font-size="14.00">Hash</text>
<polygon fill="white" stroke="none" points="2079.8,-1885.5 2079.8,-1922.5 2434.8,-1922.5 2434.8,-1885.5 2079.8,-1885.5"/>
<polygon fill="none" stroke="black" points="2079.8,-1885.5 2079.8,-1922.5 2434.8,-1922.5 2434.8,-1885.5 2079.8,-1885.5"/>
<text text-anchor="start" x="2090.8" y="-1900.3" font-family="Arial" font-size="14.00">&#45; [u8; 32]</text>
<polygon fill="white" stroke="none" points="2079.8,-1803.5 2079.8,-1885.5 2434.8,-1885.5 2434.8,-1803.5 2079.8,-1803.5"/>
<polygon fill="none" stroke="black" points="2079.8,-1803.5 2079.8,-1885.5 2434.8,-1885.5 2434.8,-1803.5 2079.8,-1803.5"/>
<text text-anchor="start" x="2090.8" y="-1863.3" font-family="Arial" font-size="14.00">&#45; hash(input: &amp;[u8]) &#45;&gt; Self</text>
<text text-anchor="start" x="2090.8" y="-1848.3" font-family="Arial" font-size="14.00">&#45; from(val: [u8; 32]) &#45;&gt; Hash</text>
<text text-anchor="start" x="2090.8" y="-1833.3" font-family="Arial" font-size="14.00">&#45; fmt(&amp;self, f: &amp;mut fmt::Formatter&lt;&#39;_&gt;) &#45;&gt; fmt::Result</text>
<text text-anchor="start" x="2090.8" y="-1818.3" font-family="Arial" font-size="14.00">&#45; as_ref(&amp;self) &#45;&gt; &amp;[u8]</text>
<polygon fill="none" stroke="black" points="2078.3,-1802.5 2078.3,-1960.5 2435.3,-1960.5 2435.3,-1802.5 2078.3,-1802.5"/>
</a>
</g>
</g>
<!-- ndSimpleKeyManager -->
<g id="node6" class="node"><title>ndSimpleKeyManager</title>
<g id="a_node6_1"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/key_manager.rs#:~:text=struct%20SimpleKeyManager" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="802.796,-1120.5 802.796,-1157.5 1370.8,-1157.5 1370.8,-1120.5 802.796,-1120.5"/>
<polygon fill="none" stroke="black" points="802.796,-1120.5 802.796,-1157.5 1370.8,-1157.5 1370.8,-1120.5 802.796,-1120.5"/>
<text text-anchor="start" x="1018.8" y="-1136.3" font-family="Arial" font-weight="bold" font-size="14.00">SimpleKeyManager</text>
<polygon fill="white" stroke="none" points="802.796,-1068.5 802.796,-1120.5 1370.8,-1120.5 1370.8,-1068.5 802.796,-1068.5"/>
<polygon fill="none" stroke="black" points="802.796,-1068.5 802.796,-1120.5 1370.8,-1120.5 1370.8,-1068.5 802.796,-1068.5"/>
<text text-anchor="start" x="813.796" y="-1098.3" font-family="Arial" font-size="14.00">&#45; signer: SimpleSigner</text>
<text text-anchor="start" x="813.796" y="-1083.3" font-family="Arial" font-size="14.00">&#45; cache: Keys</text>
<polygon fill="white" stroke="none" points="802.796,-941.5 802.796,-1068.5 1370.8,-1068.5 1370.8,-941.5 802.796,-941.5"/>
<polygon fill="none" stroke="black" points="802.796,-941.5 802.796,-1068.5 1370.8,-1068.5 1370.8,-941.5 802.796,-941.5"/>
<text text-anchor="start" x="813.796" y="-1046.3" font-family="Arial" font-size="14.00">&#45; from(signer: SimpleSigner) &#45;&gt; Self</text>
<text text-anchor="start" x="813.796" y="-1031.3" font-family="Arial" font-size="14.00">&#45; add_known_key(&amp;mut self, key: PublicKey) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="813.796" y="-1016.3" font-family="Arial" font-size="14.00">&#45; public_key_set(&amp;self) &#45;&gt; Result&lt;PublicKeySet&gt;</text>
<text text-anchor="start" x="813.796" y="-1001.3" font-family="Arial" font-size="14.00">&#45; sign_with_child_key(&amp;self, index: &amp;[u8], tx_hash: &amp;Hash) &#45;&gt; Result&lt;NodeSignature&gt;</text>
<text text-anchor="start" x="813.796" y="-986.3" font-family="Arial" font-size="14.00">&#45; sign(&amp;self, msg_hash: &amp;Hash) &#45;&gt; Result&lt;NodeSignature&gt;</text>
<text text-anchor="start" x="813.796" y="-971.3" font-family="Arial" font-size="14.00">&#45; verify(&amp;self, msg_hash: &amp;Hash, key: &amp;PublicKey, signature: &amp;Signature) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="813.796" y="-956.3" font-family="Arial" font-size="14.00">&#45; verify_known_key(&amp;self, key: &amp;PublicKey) &#45;&gt; Result&lt;()&gt;</text>
<polygon fill="none" stroke="black" points="801.796,-940.5 801.796,-1158.5 1371.8,-1158.5 1371.8,-940.5 801.796,-940.5"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSimpleKeyManager -->
<g id="edge1" class="edge"><title>ndHash&#45;&gt;ndSimpleKeyManager</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2070.02,-1869.92C1793.73,-1852.4 1302.56,-1813.41 1246.8,-1755 1169.23,-1673.75 1242.08,-1357.98 1207.8,-1251 1199.14,-1223.99 1186.21,-1196.8 1171.99,-1171.55"/>
<polygon fill="black" stroke="black" points="1166.91,-1162.7 1175.79,-1169.13 1169.4,-1167.04 1171.89,-1171.37 1171.89,-1171.37 1171.89,-1171.37 1169.4,-1167.04 1167.98,-1173.61 1166.91,-1162.7 1166.91,-1162.7"/>
</g>
<!-- ndKeys -->
<g id="node7" class="node"><title>ndKeys</title>
<g id="a_node7_2"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/key_manager.rs#:~:text=struct%20Keys" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="699.796,-1544 699.796,-1581 1190.8,-1581 1190.8,-1544 699.796,-1544"/>
<polygon fill="none" stroke="black" points="699.796,-1544 699.796,-1581 1190.8,-1581 1190.8,-1544 699.796,-1544"/>
<text text-anchor="start" x="927.296" y="-1559.8" font-family="Arial" font-weight="bold" font-size="14.00">Keys</text>
<polygon fill="white" stroke="none" points="699.796,-1507 699.796,-1544 1190.8,-1544 1190.8,-1507 699.796,-1507"/>
<polygon fill="none" stroke="black" points="699.796,-1507 699.796,-1544 1190.8,-1544 1190.8,-1507 699.796,-1507"/>
<text text-anchor="start" x="710.796" y="-1521.8" font-family="Arial" font-size="14.00">&#45; HashSet&lt;PublicKey&gt;</text>
<polygon fill="white" stroke="none" points="699.796,-1425 699.796,-1507 1190.8,-1507 1190.8,-1425 699.796,-1425"/>
<polygon fill="none" stroke="black" points="699.796,-1425 699.796,-1507 1190.8,-1507 1190.8,-1425 699.796,-1425"/>
<text text-anchor="start" x="710.796" y="-1484.8" font-family="Arial" font-size="14.00">&#45; from(keys: Vec&lt;PublicKey&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="710.796" y="-1469.8" font-family="Arial" font-size="14.00">&#45; add_known_key(&amp;mut self, key: PublicKey)</text>
<text text-anchor="start" x="710.796" y="-1454.8" font-family="Arial" font-size="14.00">&#45; verify(&amp;self, msg: &amp;Hash, key: &amp;PublicKey, sig: &amp;Signature) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="710.796" y="-1439.8" font-family="Arial" font-size="14.00">&#45; verify_known_key(&amp;self, key: &amp;PublicKey) &#45;&gt; Result&lt;()&gt;</text>
<polygon fill="none" stroke="black" points="698.296,-1424 698.296,-1582 1191.3,-1582 1191.3,-1424 698.296,-1424"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndKeys -->
<g id="edge2" class="edge"><title>ndHash&#45;&gt;ndKeys</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2070.11,-1871.92C1812.13,-1857.71 1361.7,-1823.78 1213.8,-1755 1135.25,-1718.47 1064.43,-1650.2 1015.19,-1594.07"/>
<polygon fill="black" stroke="black" points="1008.39,-1586.24 1018.34,-1590.84 1011.67,-1590.02 1014.95,-1593.79 1014.95,-1593.79 1014.95,-1593.79 1011.67,-1590.02 1011.55,-1596.74 1008.39,-1586.24 1008.39,-1586.24"/>
</g>
<!-- ndDbcContent -->
<g id="node11" class="node"><title>ndDbcContent</title>
<g id="a_node11_3"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/dbc_content.rs#:~:text=struct%20DbcContent" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="4657.8,-1112.5 4657.8,-1149.5 5154.8,-1149.5 5154.8,-1112.5 4657.8,-1112.5"/>
<polygon fill="none" stroke="black" points="4657.8,-1112.5 4657.8,-1149.5 5154.8,-1149.5 5154.8,-1112.5 4657.8,-1112.5"/>
<text text-anchor="start" x="4864.8" y="-1128.3" font-family="Arial" font-weight="bold" font-size="14.00">DbcContent</text>
<polygon fill="white" stroke="none" points="4657.8,-1045.5 4657.8,-1112.5 5154.8,-1112.5 5154.8,-1045.5 4657.8,-1045.5"/>
<polygon fill="none" stroke="black" points="4657.8,-1045.5 4657.8,-1112.5 5154.8,-1112.5 5154.8,-1045.5 4657.8,-1045.5"/>
<text text-anchor="start" x="4668.8" y="-1090.3" font-family="Arial" font-size="14.00">+ owner_base: Owner</text>
<text text-anchor="start" x="4668.8" y="-1075.3" font-family="Arial" font-size="14.00">+ owner_derivation_cipher: Ciphertext</text>
<text text-anchor="start" x="4668.8" y="-1060.3" font-family="Arial" font-size="14.00">+ amount_secrets_cipher: Ciphertext</text>
<polygon fill="white" stroke="none" points="4657.8,-948.5 4657.8,-1045.5 5154.8,-1045.5 5154.8,-948.5 4657.8,-948.5"/>
<polygon fill="none" stroke="black" points="4657.8,-948.5 4657.8,-1045.5 5154.8,-1045.5 5154.8,-948.5 4657.8,-948.5"/>
<text text-anchor="start" x="4668.8" y="-1023.3" font-family="Arial" font-size="14.00">&#45; from(params: (Owner, Ciphertext, Ciphertext)) &#45;&gt; Self</text>
<text text-anchor="start" x="4668.8" y="-1008.3" font-family="Arial" font-size="14.00">&#45; from(params: (Owner, DerivationIndex, AmountSecrets)) &#45;&gt; Self</text>
<text text-anchor="start" x="4668.8" y="-993.3" font-family="Arial" font-size="14.00">&#45; derivation_index(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;DerivationIndex&gt;</text>
<text text-anchor="start" x="4668.8" y="-978.3" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="4668.8" y="-963.3" font-family="Arial" font-size="14.00">&#45; hash(&amp;self) &#45;&gt; Hash</text>
<polygon fill="none" stroke="black" points="4656.3,-948 4656.3,-1151 5155.3,-1151 5155.3,-948 4656.3,-948"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndDbcContent -->
<g id="edge3" class="edge"><title>ndHash&#45;&gt;ndDbcContent</title>
<path fill="none" stroke="black" d="M2443.68,-1879.64C2940.48,-1875.97 4267.55,-1856.65 4435.8,-1755 4659.5,-1619.84 4587.38,-1464.04 4738.8,-1251 4759.73,-1221.55 4783.82,-1190.99 4807.08,-1162.87"/>
<polygon fill="black" stroke="black" points="4813.62,-1155.01 4810.69,-1165.58 4810.42,-1158.85 4807.23,-1162.7 4807.23,-1162.7 4807.23,-1162.7 4810.42,-1158.85 4803.77,-1159.82 4813.62,-1155.01 4813.62,-1155.01"/>
</g>
<!-- ndPublicKeyBlstMappable -->
<g id="node13" class="node"><title>ndPublicKeyBlstMappable</title>
<g id="a_node13_4"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/blst.rs#:~:text=struct%20PublicKeyBlstMappable" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="97.7962,-1105.5 97.7962,-1142.5 426.796,-1142.5 426.796,-1105.5 97.7962,-1105.5"/>
<polygon fill="none" stroke="black" points="97.7962,-1105.5 97.7962,-1142.5 426.796,-1142.5 426.796,-1105.5 97.7962,-1105.5"/>
<text text-anchor="start" x="179.296" y="-1121.3" font-family="Arial" font-weight="bold" font-size="14.00">PublicKeyBlstMappable</text>
<polygon fill="white" stroke="none" points="97.7962,-1068.5 97.7962,-1105.5 426.796,-1105.5 426.796,-1068.5 97.7962,-1068.5"/>
<polygon fill="none" stroke="black" points="97.7962,-1068.5 97.7962,-1105.5 426.796,-1105.5 426.796,-1068.5 97.7962,-1068.5"/>
<text text-anchor="start" x="108.796" y="-1083.3" font-family="Arial" font-size="14.00">&#45; G1Affine</text>
<polygon fill="white" stroke="none" points="97.7962,-955.5 97.7962,-1068.5 426.796,-1068.5 426.796,-955.5 97.7962,-955.5"/>
<polygon fill="none" stroke="black" points="97.7962,-955.5 97.7962,-1068.5 426.796,-1068.5 426.796,-955.5 97.7962,-955.5"/>
<text text-anchor="start" x="108.796" y="-1046.3" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; [u8; 48]</text>
<text text-anchor="start" x="108.796" y="-1031.3" font-family="Arial" font-size="14.00">&#45; random(rng: &amp;mut impl rand8::RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="108.796" y="-999.5" font-family="Arial" font-size="14.00">&#45; cmp(&amp;self, other: &amp;Self) &#45;&gt; Ordering</text>
<text text-anchor="start" x="108.796" y="-984.5" font-family="Arial" font-size="14.00">&#45; hash(&amp;self, state: &amp;mut H)</text>
<text text-anchor="start" x="108.796" y="-969.5" font-family="Arial" font-size="14.00">&#45; from(k: G1Affine) &#45;&gt; Self</text>
<polygon fill="none" stroke="black" points="96.2962,-955 96.2962,-1144 427.296,-1144 427.296,-955 96.2962,-955"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndPublicKeyBlstMappable -->
<g id="edge4" class="edge"><title>ndHash&#45;&gt;ndPublicKeyBlstMappable</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2070.07,-1876.43C1561.35,-1864.42 184.313,-1825.53 117.796,-1755 79.3753,-1714.26 100.637,-1304.31 117.796,-1251 128.523,-1217.68 147.066,-1185.2 167.345,-1156.43"/>
<polygon fill="none" stroke="black" points="170.396,-1158.19 173.395,-1148.02 164.713,-1154.1 170.396,-1158.19"/>
</g>
<!-- ndSpentProofContent -->
<g id="node21" class="node"><title>ndSpentProofContent</title>
<g id="a_node21_5"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/spent_proof.rs#:~:text=struct%20SpentProofContent" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2293.8,-1559 2293.8,-1596 2656.8,-1596 2656.8,-1559 2293.8,-1559"/>
<polygon fill="none" stroke="black" points="2293.8,-1559 2293.8,-1596 2656.8,-1596 2656.8,-1559 2293.8,-1559"/>
<text text-anchor="start" x="2408.3" y="-1574.8" font-family="Arial" font-weight="bold" font-size="14.00">SpentProofContent</text>
<polygon fill="white" stroke="none" points="2293.8,-1492 2293.8,-1559 2656.8,-1559 2656.8,-1492 2293.8,-1492"/>
<polygon fill="none" stroke="black" points="2293.8,-1492 2293.8,-1559 2656.8,-1559 2656.8,-1492 2293.8,-1492"/>
<text text-anchor="start" x="2304.8" y="-1536.8" font-family="Arial" font-size="14.00">+ key_image: KeyImage</text>
<text text-anchor="start" x="2304.8" y="-1521.8" font-family="Arial" font-size="14.00">+ transaction_hash: Hash</text>
<text text-anchor="start" x="2304.8" y="-1506.8" font-family="Arial" font-size="14.00">+ public_commitments: Vec&lt;Commitment&gt;</text>
<polygon fill="white" stroke="none" points="2293.8,-1410 2293.8,-1492 2656.8,-1492 2656.8,-1410 2293.8,-1410"/>
<polygon fill="none" stroke="black" points="2293.8,-1410 2293.8,-1492 2656.8,-1492 2656.8,-1410 2293.8,-1410"/>
<text text-anchor="start" x="2304.8" y="-1469.8" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="2304.8" y="-1454.8" font-family="Arial" font-size="14.00">&#45; hash(&amp;self) &#45;&gt; Hash</text>
<text text-anchor="start" x="2304.8" y="-1439.8" font-family="Arial" font-size="14.00">&#45; partial_cmp(&amp;self, other: &amp;Self) &#45;&gt; Option&lt;Ordering&gt;</text>
<text text-anchor="start" x="2304.8" y="-1424.8" font-family="Arial" font-size="14.00">&#45; cmp(&amp;self, other: &amp;Self) &#45;&gt; Ordering</text>
<polygon fill="none" stroke="black" points="2292.3,-1409 2292.3,-1597 2657.3,-1597 2657.3,-1409 2292.3,-1409"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSpentProofContent -->
<g id="edge5" class="edge"><title>ndHash&#45;&gt;ndSpentProofContent</title>
<path fill="none" stroke="black" d="M2304.37,-1798.34C2336.04,-1743.64 2377.99,-1671.19 2412.34,-1611.86"/>
<polygon fill="black" stroke="black" points="2412.43,-1611.71 2411.98,-1604.51 2418.45,-1601.32 2418.9,-1608.52 2412.43,-1611.71"/>
</g>
<!-- ndSpentProofShare -->
<g id="node22" class="node"><title>ndSpentProofShare</title>
<g id="a_node22_6"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/spent_proof.rs#:~:text=struct%20SpentProofShare" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="1880.8,-1143.5 1880.8,-1180.5 2236.8,-1180.5 2236.8,-1143.5 1880.8,-1143.5"/>
<polygon fill="none" stroke="black" points="1880.8,-1143.5 1880.8,-1180.5 2236.8,-1180.5 2236.8,-1143.5 1880.8,-1143.5"/>
<text text-anchor="start" x="1998.3" y="-1159.3" font-family="Arial" font-weight="bold" font-size="14.00">SpentProofShare</text>
<polygon fill="white" stroke="none" points="1880.8,-1076.5 1880.8,-1143.5 2236.8,-1143.5 2236.8,-1076.5 1880.8,-1076.5"/>
<polygon fill="none" stroke="black" points="1880.8,-1076.5 1880.8,-1143.5 2236.8,-1143.5 2236.8,-1076.5 1880.8,-1076.5"/>
<text text-anchor="start" x="1891.8" y="-1121.3" font-family="Arial" font-size="14.00">+ content: SpentProofContent</text>
<text text-anchor="start" x="1891.8" y="-1106.3" font-family="Arial" font-size="14.00">+ spentbook_pks: PublicKeySet</text>
<text text-anchor="start" x="1891.8" y="-1091.3" font-family="Arial" font-size="14.00">+ spentbook_sig_share: NodeSignature</text>
<polygon fill="white" stroke="none" points="1880.8,-918.5 1880.8,-1076.5 2236.8,-1076.5 2236.8,-918.5 1880.8,-918.5"/>
<polygon fill="none" stroke="black" points="1880.8,-918.5 1880.8,-1076.5 2236.8,-1076.5 2236.8,-918.5 1880.8,-918.5"/>
<text text-anchor="start" x="1891.8" y="-1054.3" font-family="Arial" font-size="14.00">&#45; eq(&amp;self, other: &amp;Self) &#45;&gt; bool</text>
<text text-anchor="start" x="1891.8" y="-1022.5" font-family="Arial" font-size="14.00">&#45; hash(&amp;self, state: &amp;mut H)</text>
<text text-anchor="start" x="1891.8" y="-1007.5" font-family="Arial" font-size="14.00">&#45; key_image(&amp;self) &#45;&gt; &amp;KeyImage</text>
<text text-anchor="start" x="1891.8" y="-992.5" font-family="Arial" font-size="14.00">&#45; transaction_hash(&amp;self) &#45;&gt; Hash</text>
<text text-anchor="start" x="1891.8" y="-977.5" font-family="Arial" font-size="14.00">&#45; public_commitments(&amp;self) &#45;&gt; &amp;Vec&lt;Commitment&gt;</text>
<text text-anchor="start" x="1891.8" y="-962.5" font-family="Arial" font-size="14.00">&#45; spentbook_sig_share(&amp;self) &#45;&gt; &amp;NodeSignature</text>
<text text-anchor="start" x="1891.8" y="-947.5" font-family="Arial" font-size="14.00">&#45; spentbook_pks(&amp;self) &#45;&gt; &amp;PublicKeySet</text>
<text text-anchor="start" x="1891.8" y="-932.5" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<polygon fill="none" stroke="black" points="1879.8,-917.5 1879.8,-1181.5 2237.8,-1181.5 2237.8,-917.5 1879.8,-917.5"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSpentProofShare -->
<g id="edge6" class="edge"><title>ndHash&#45;&gt;ndSpentProofShare</title>
<path fill="none" stroke="black" d="M2261.21,-1798.41C2268,-1651.06 2276.5,-1348.05 2237.8,-1251 2229.89,-1231.17 2219.09,-1212.03 2206.69,-1193.96"/>
<polygon fill="black" stroke="black" points="2200.88,-1185.73 2210.33,-1191.31 2203.77,-1189.82 2206.65,-1193.9 2206.65,-1193.9 2206.65,-1193.9 2203.77,-1189.82 2202.97,-1196.5 2200.88,-1185.73 2200.88,-1185.73"/>
</g>
<!-- ndSpentProof -->
<g id="node23" class="node"><title>ndSpentProof</title>
<g id="a_node23_7"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/spent_proof.rs#:~:text=struct%20SpentProof" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2272.8,-1112.5 2272.8,-1149.5 2652.8,-1149.5 2652.8,-1112.5 2272.8,-1112.5"/>
<polygon fill="none" stroke="black" points="2272.8,-1112.5 2272.8,-1149.5 2652.8,-1149.5 2652.8,-1112.5 2272.8,-1112.5"/>
<text text-anchor="start" x="2423.3" y="-1128.3" font-family="Arial" font-weight="bold" font-size="14.00">SpentProof</text>
<polygon fill="white" stroke="none" points="2272.8,-1045.5 2272.8,-1112.5 2652.8,-1112.5 2652.8,-1045.5 2272.8,-1045.5"/>
<polygon fill="none" stroke="black" points="2272.8,-1045.5 2272.8,-1112.5 2652.8,-1112.5 2652.8,-1045.5 2272.8,-1045.5"/>
<text text-anchor="start" x="2283.8" y="-1090.3" font-family="Arial" font-size="14.00">+ content: SpentProofContent</text>
<text text-anchor="start" x="2283.8" y="-1075.3" font-family="Arial" font-size="14.00">+ spentbook_pub_key: PublicKey</text>
<text text-anchor="start" x="2283.8" y="-1060.3" font-family="Arial" font-size="14.00">+ spentbook_sig: Signature</text>
<polygon fill="white" stroke="none" points="2272.8,-948.5 2272.8,-1045.5 2652.8,-1045.5 2652.8,-948.5 2272.8,-948.5"/>
<polygon fill="none" stroke="black" points="2272.8,-948.5 2272.8,-1045.5 2652.8,-1045.5 2652.8,-948.5 2272.8,-948.5"/>
<text text-anchor="start" x="2283.8" y="-1023.3" font-family="Arial" font-size="14.00">&#45; key_image(&amp;self) &#45;&gt; &amp;KeyImage</text>
<text text-anchor="start" x="2283.8" y="-1008.3" font-family="Arial" font-size="14.00">&#45; transaction_hash(&amp;self) &#45;&gt; Hash</text>
<text text-anchor="start" x="2283.8" y="-993.3" font-family="Arial" font-size="14.00">&#45; public_commitments(&amp;self) &#45;&gt; &amp;Vec&lt;Commitment&gt;</text>
<text text-anchor="start" x="2283.8" y="-978.3" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="2283.8" y="-963.3" font-family="Arial" font-size="14.00">&#45; validate(&amp;self, tx_hash: Hash, verifier: &amp;K) &#45;&gt; Result&lt;()&gt;</text>
<polygon fill="none" stroke="black" points="2271.8,-948 2271.8,-1151 2653.8,-1151 2653.8,-948 2271.8,-948"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSpentProof -->
<g id="edge7" class="edge"><title>ndHash&#45;&gt;ndSpentProof</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2443.36,-1846.94C2540.48,-1825.27 2644.9,-1793.87 2673.8,-1755 2807.43,-1575.23 2762.15,-1456.84 2673.8,-1251 2659.77,-1218.32 2637.5,-1188.45 2612.59,-1162.32"/>
<polygon fill="black" stroke="black" points="2605.5,-1155.05 2615.71,-1159.07 2608.99,-1158.63 2612.48,-1162.21 2612.48,-1162.21 2612.48,-1162.21 2608.99,-1158.63 2609.26,-1165.35 2605.5,-1155.05 2605.5,-1155.05"/>
</g>
<!-- ndSpentBookNodeMock -->
<g id="node25" class="node"><title>ndSpentBookNodeMock</title>
<g id="a_node25_8"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/spentbook.rs#:~:text=struct%20SpentBookNodeMock" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="62.7962,-730.5 62.7962,-767.5 863.796,-767.5 863.796,-730.5 62.7962,-730.5"/>
<polygon fill="none" stroke="black" points="62.7962,-730.5 62.7962,-767.5 863.796,-767.5 863.796,-730.5 62.7962,-730.5"/>
<text text-anchor="start" x="387.296" y="-746.3" font-family="Arial" font-weight="bold" font-size="14.00">SpentBookNodeMock</text>
<polygon fill="white" stroke="none" points="62.7962,-633.5 62.7962,-730.5 863.796,-730.5 863.796,-633.5 62.7962,-633.5"/>
<polygon fill="none" stroke="black" points="62.7962,-633.5 62.7962,-730.5 863.796,-730.5 863.796,-633.5 62.7962,-633.5"/>
<text text-anchor="start" x="73.7962" y="-708.3" font-family="Arial" font-size="14.00">+ key_manager: SimpleKeyManager</text>
<text text-anchor="start" x="73.7962" y="-693.3" font-family="Arial" font-size="14.00">+ transactions: HashMap&lt;Hash, RingCtTransaction&gt;</text>
<text text-anchor="start" x="73.7962" y="-678.3" font-family="Arial" font-size="14.00">+ key_images: BTreeMap&lt;KeyImage, Hash&gt;</text>
<text text-anchor="start" x="73.7962" y="-663.3" font-family="Arial" font-size="14.00">+ outputs: BTreeMap&lt;PublicKeyBlstMappable, OutputProof&gt;</text>
<text text-anchor="start" x="73.7962" y="-648.3" font-family="Arial" font-size="14.00">+ genesis: (KeyImage, Commitment)</text>
<polygon fill="white" stroke="none" points="62.7962,-506.5 62.7962,-633.5 863.796,-633.5 863.796,-506.5 62.7962,-506.5"/>
<polygon fill="none" stroke="black" points="62.7962,-506.5 62.7962,-633.5 863.796,-633.5 863.796,-506.5 62.7962,-506.5"/>
<text text-anchor="start" x="73.7962" y="-611.3" font-family="Arial" font-size="14.00">&#45; from(key_manager: SimpleKeyManager) &#45;&gt; Self</text>
<text text-anchor="start" x="73.7962" y="-596.3" font-family="Arial" font-size="14.00">&#45; iter(&amp;self) &#45;&gt; impl Iterator&lt;Item = (&amp;KeyImage, &amp;RingCtTransaction)&gt; + &#39;_</text>
<text text-anchor="start" x="73.7962" y="-581.3" font-family="Arial" font-size="14.00">&#45; is_spent(&amp;self, key_image: &amp;KeyImage) &#45;&gt; bool</text>
<text text-anchor="start" x="73.7962" y="-566.3" font-family="Arial" font-size="14.00">&#45; log_spent(&amp;mut self, key_image: KeyImage, tx: RingCtTransaction) &#45;&gt; Result&lt;SpentProofShare&gt;</text>
<text text-anchor="start" x="73.7962" y="-551.3" font-family="Arial" font-size="14.00">&#45; log_spent_and_skip_tx_verification(&amp;mut self, key_image: KeyImage, tx: RingCtTransaction) &#45;&gt; Result&lt;SpentProofShare&gt;</text>
<text text-anchor="start" x="73.7962" y="-536.3" font-family="Arial" font-size="14.00">&#45; log_spent_worker(&amp;mut self, key_image: KeyImage, tx: RingCtTransaction, verify_tx: bool) &#45;&gt; Result&lt;SpentProofShare&gt;</text>
<text text-anchor="start" x="73.7962" y="-521.3" font-family="Arial" font-size="14.00">&#45; random_decoys(&amp;self, target_num: usize, rng: &amp;mut impl rand8::RngCore) &#45;&gt; Vec&lt;DecoyInput&gt;</text>
<polygon fill="none" stroke="black" points="61.2962,-506 61.2962,-769 864.296,-769 864.296,-506 61.2962,-506"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSpentBookNodeMock -->
<g id="edge8" class="edge"><title>ndHash&#45;&gt;ndSpentBookNodeMock</title>
<path fill="none" stroke="black" d="M2070.29,-1876.47C1557.75,-1864.51 161.133,-1825.56 92.7962,-1755 -41.8778,-1615.94 -14.178,-1053.79 78.7962,-884 100.513,-844.341 131.667,-810.154 166.965,-780.974"/>
<polygon fill="black" stroke="black" points="167.179,-780.801 169.341,-773.921 176.523,-773.271 174.361,-780.15 167.179,-780.801"/>
</g>
<!-- ndTransactionValidator -->
<g id="node26" class="node"><title>ndTransactionValidator</title>
<g id="a_node26_9"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/validation.rs#:~:text=struct%20TransactionValidator" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2688.8,-1064.5 2688.8,-1101.5 3854.8,-1101.5 3854.8,-1064.5 2688.8,-1064.5"/>
<polygon fill="none" stroke="black" points="2688.8,-1064.5 2688.8,-1101.5 3854.8,-1101.5 3854.8,-1064.5 2688.8,-1064.5"/>
<text text-anchor="start" x="3199.3" y="-1080.3" font-family="Arial" font-weight="bold" font-size="14.00">TransactionValidator</text>
<polygon fill="white" stroke="none" points="2688.8,-997.5 2688.8,-1064.5 3854.8,-1064.5 3854.8,-997.5 2688.8,-997.5"/>
<polygon fill="none" stroke="black" points="2688.8,-997.5 2688.8,-1064.5 3854.8,-1064.5 3854.8,-997.5 2688.8,-997.5"/>
<text text-anchor="start" x="2699.8" y="-1042.3" font-family="Arial" font-size="14.00">&#45; validate(mint_verifier: &amp;K, transaction: &amp;RingCtTransaction, mint_sigs: &amp;BTreeMap&lt;KeyImage, (PublicKey, Signature)&gt;, spent_proofs: &amp;BTreeSet&lt;SpentProof&gt;) &#45;&gt; Result&lt;(), Error&gt;</text>
<text text-anchor="start" x="2699.8" y="-1027.3" font-family="Arial" font-size="14.00">&#45; validate_without_sigs(mint_verifier: &amp;K, transaction: &amp;RingCtTransaction, spent_proofs: &amp;BTreeSet&lt;SpentProof&gt;) &#45;&gt; Result&lt;(), Error&gt;</text>
<text text-anchor="start" x="2699.8" y="-1012.3" font-family="Arial" font-size="14.00">&#45; validate_without_sigs_internal(mint_verifier: &amp;K, transaction: &amp;RingCtTransaction, transaction_hash: Hash, spent_proofs: &amp;BTreeSet&lt;SpentProof&gt;) &#45;&gt; Result&lt;(), Error&gt;</text>
<polygon fill="none" stroke="black" points="2687.8,-996.5 2687.8,-1102.5 3855.8,-1102.5 3855.8,-996.5 2687.8,-996.5"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndTransactionValidator -->
<g id="edge9" class="edge"><title>ndHash&#45;&gt;ndTransactionValidator</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2443.41,-1859.91C2535.84,-1842.85 2645.59,-1811.73 2730.8,-1755 2985.21,-1585.62 3169.96,-1256.24 3240.42,-1116.13"/>
<polygon fill="black" stroke="black" points="3245.09,-1106.77 3244.65,-1117.73 3242.86,-1111.25 3240.62,-1115.72 3240.62,-1115.72 3240.62,-1115.72 3242.86,-1111.25 3236.6,-1113.71 3245.09,-1106.77 3245.09,-1106.77"/>
</g>
<!-- ndError -->
<g id="node2" class="node"><title>ndError</title>
<g id="a_node2_10"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/error.rs#:~:text=enum%20Error" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="4055.8,-1713 4055.8,-1750 4417.8,-1750 4417.8,-1713 4055.8,-1713"/>
<polygon fill="none" stroke="black" points="4055.8,-1713 4055.8,-1750 4417.8,-1750 4417.8,-1713 4055.8,-1713"/>
<text text-anchor="start" x="4218.3" y="-1728.8" font-family="Arial" font-weight="bold" font-size="14.00">Error</text>
<polygon fill="white" stroke="none" points="4055.8,-1256 4055.8,-1713 4417.8,-1713 4417.8,-1256 4055.8,-1256"/>
<polygon fill="none" stroke="black" points="4055.8,-1256 4055.8,-1713 4417.8,-1713 4417.8,-1256 4055.8,-1256"/>
<text text-anchor="start" x="4066.8" y="-1690.8" font-family="Arial" font-size="14.00">Signing(String)</text>
<text text-anchor="start" x="4066.8" y="-1675.8" font-family="Arial" font-size="14.00">UnknownInput</text>
<text text-anchor="start" x="4066.8" y="-1660.8" font-family="Arial" font-size="14.00">FailedSignature</text>
<text text-anchor="start" x="4066.8" y="-1645.8" font-family="Arial" font-size="14.00">UnrecognisedAuthority</text>
<text text-anchor="start" x="4066.8" y="-1630.8" font-family="Arial" font-size="14.00">MissingSignatureForInput</text>
<text text-anchor="start" x="4066.8" y="-1615.8" font-family="Arial" font-size="14.00">InvalidSpentProofSignature(KeyImage)</text>
<text text-anchor="start" x="4066.8" y="-1600.8" font-family="Arial" font-size="14.00">InvalidTransactionHash</text>
<text text-anchor="start" x="4066.8" y="-1585.8" font-family="Arial" font-size="14.00">DbcContentNotPresentInTransactionOutput</text>
<text text-anchor="start" x="4066.8" y="-1570.8" font-family="Arial" font-size="14.00">OutputProofNotFound</text>
<text text-anchor="start" x="4066.8" y="-1555.8" font-family="Arial" font-size="14.00">PublicKeyNotUniqueAcrossOutputs</text>
<text text-anchor="start" x="4066.8" y="-1540.8" font-family="Arial" font-size="14.00">SpentProofInputMismatch</text>
<text text-anchor="start" x="4066.8" y="-1525.8" font-family="Arial" font-size="14.00">ReissueRequestPublicKeySetMismatch</text>
<text text-anchor="start" x="4066.8" y="-1510.8" font-family="Arial" font-size="14.00">ReissueRequestPublicCommitmentMismatch</text>
<text text-anchor="start" x="4066.8" y="-1495.8" font-family="Arial" font-size="14.00">ReissueRequestMissingSpentProofShare(KeyImage)</text>
<text text-anchor="start" x="4066.8" y="-1480.8" font-family="Arial" font-size="14.00">ReissueSharePublicKeySetMismatch</text>
<text text-anchor="start" x="4066.8" y="-1465.8" font-family="Arial" font-size="14.00">ReissueShareMintNodeSignaturesLenMismatch</text>
<text text-anchor="start" x="4066.8" y="-1450.8" font-family="Arial" font-size="14.00">ReissueShareMintNodeSignatureNotFoundForInput</text>
<text text-anchor="start" x="4066.8" y="-1435.8" font-family="Arial" font-size="14.00">NoReissueShares</text>
<text text-anchor="start" x="4066.8" y="-1420.8" font-family="Arial" font-size="14.00">DecryptionBySecretKeyFailed</text>
<text text-anchor="start" x="4066.8" y="-1405.8" font-family="Arial" font-size="14.00">AmountSecretsBytesInvalid</text>
<text text-anchor="start" x="4066.8" y="-1390.8" font-family="Arial" font-size="14.00">AmountCommitmentsDoNotMatch</text>
<text text-anchor="start" x="4066.8" y="-1375.8" font-family="Arial" font-size="14.00">SecretKeyUnavailable</text>
<text text-anchor="start" x="4066.8" y="-1360.8" font-family="Arial" font-size="14.00">PublicKeyNotFound</text>
<text text-anchor="start" x="4066.8" y="-1345.8" font-family="Arial" font-size="14.00">SecretKeyDoesNotMatchPublicKey</text>
<text text-anchor="start" x="4066.8" y="-1330.8" font-family="Arial" font-size="14.00">SpentbookKeyImageAlreadySpent</text>
<text text-anchor="start" x="4066.8" y="-1315.8" font-family="Arial" font-size="14.00">SpentbookRingSizeMismatch(usize, usize)</text>
<text text-anchor="start" x="4066.8" y="-1300.8" font-family="Arial" font-size="14.00">Blsttc(blsttc::error::Error)</text>
<text text-anchor="start" x="4066.8" y="-1285.8" font-family="Arial" font-size="14.00">RingCt(blst_ringct::Error)</text>
<text text-anchor="start" x="4066.8" y="-1270.8" font-family="Arial" font-size="14.00">Infallible(std::convert::Infallible)</text>
<polygon fill="none" stroke="black" points="4054.8,-1255 4054.8,-1751 4418.8,-1751 4418.8,-1255 4054.8,-1255"/>
</a>
</g>
</g>
<!-- ndDbc -->
<g id="node17" class="node"><title>ndDbc</title>
<g id="a_node17_11"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/dbc.rs#:~:text=struct%20Dbc" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="4292.8,-805.5 4292.8,-842.5 5080.8,-842.5 5080.8,-805.5 4292.8,-805.5"/>
<polygon fill="none" stroke="black" points="4292.8,-805.5 4292.8,-842.5 5080.8,-842.5 5080.8,-805.5 4292.8,-805.5"/>
<text text-anchor="start" x="4672.8" y="-821.3" font-family="Arial" font-weight="bold" font-size="14.00">Dbc</text>
<polygon fill="white" stroke="none" points="4292.8,-723.5 4292.8,-805.5 5080.8,-805.5 5080.8,-723.5 4292.8,-723.5"/>
<polygon fill="none" stroke="black" points="4292.8,-723.5 4292.8,-805.5 5080.8,-805.5 5080.8,-723.5 4292.8,-723.5"/>
<text text-anchor="start" x="4303.8" y="-783.3" font-family="Arial" font-size="14.00">+ content: DbcContent</text>
<text text-anchor="start" x="4303.8" y="-768.3" font-family="Arial" font-size="14.00">+ transaction: RingCtTransaction</text>
<text text-anchor="start" x="4303.8" y="-753.3" font-family="Arial" font-size="14.00">+ mint_sigs: BTreeMap&lt;KeyImage, (PublicKey, Signature)&gt;</text>
<text text-anchor="start" x="4303.8" y="-738.3" font-family="Arial" font-size="14.00">+ spent_proofs: BTreeSet&lt;SpentProof&gt;</text>
<polygon fill="white" stroke="none" points="4292.8,-431.5 4292.8,-723.5 5080.8,-723.5 5080.8,-431.5 4292.8,-431.5"/>
<polygon fill="none" stroke="black" points="4292.8,-431.5 4292.8,-723.5 5080.8,-723.5 5080.8,-431.5 4292.8,-431.5"/>
<text text-anchor="start" x="4303.8" y="-701.3" font-family="Arial" font-size="14.00">&#45; owner_base(&amp;self) &#45;&gt; &amp;Owner</text>
<text text-anchor="start" x="4303.8" y="-686.3" font-family="Arial" font-size="14.00">&#45; owner_once(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;Owner&gt;</text>
<text text-anchor="start" x="4303.8" y="-671.3" font-family="Arial" font-size="14.00">&#45; owner_once_bearer(&amp;self) &#45;&gt; Result&lt;Owner&gt;</text>
<text text-anchor="start" x="4303.8" y="-656.3" font-family="Arial" font-size="14.00">&#45; derivation_index(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;DerivationIndex&gt;</text>
<text text-anchor="start" x="4303.8" y="-641.3" font-family="Arial" font-size="14.00">&#45; derivation_index_bearer(&amp;self) &#45;&gt; Result&lt;DerivationIndex&gt;</text>
<text text-anchor="start" x="4303.8" y="-626.3" font-family="Arial" font-size="14.00">&#45; is_bearer(&amp;self) &#45;&gt; bool</text>
<text text-anchor="start" x="4303.8" y="-611.3" font-family="Arial" font-size="14.00">&#45; amount_secrets(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;AmountSecrets&gt;</text>
<text text-anchor="start" x="4303.8" y="-596.3" font-family="Arial" font-size="14.00">&#45; amount_secrets_bearer(&amp;self) &#45;&gt; Result&lt;AmountSecrets&gt;</text>
<text text-anchor="start" x="4303.8" y="-581.3" font-family="Arial" font-size="14.00">&#45; key_image(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;KeyImage&gt;</text>
<text text-anchor="start" x="4303.8" y="-566.3" font-family="Arial" font-size="14.00">&#45; key_image_bearer(&amp;self) &#45;&gt; Result&lt;KeyImage&gt;</text>
<text text-anchor="start" x="4303.8" y="-551.3" font-family="Arial" font-size="14.00">&#45; as_true_input(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;TrueInput&gt;</text>
<text text-anchor="start" x="4303.8" y="-536.3" font-family="Arial" font-size="14.00">&#45; as_true_input_bearer(&amp;self) &#45;&gt; Result&lt;TrueInput&gt;</text>
<text text-anchor="start" x="4303.8" y="-521.3" font-family="Arial" font-size="14.00">&#45; hash(&amp;self) &#45;&gt; [u8; 32]</text>
<text text-anchor="start" x="4303.8" y="-506.3" font-family="Arial" font-size="14.00">&#45; confirm_valid(&amp;self, base_sk: &amp;SecretKey, mint_verifier: &amp;K) &#45;&gt; Result&lt;(), Error&gt;</text>
<text text-anchor="start" x="4303.8" y="-491.3" font-family="Arial" font-size="14.00">&#45; confirm_valid_bearer(&amp;self, mint_verifier: &amp;K) &#45;&gt; Result&lt;(), Error&gt;</text>
<text text-anchor="start" x="4303.8" y="-476.3" font-family="Arial" font-size="14.00">&#45; confirm_provided_amount_matches_commitment(&amp;self, base_sk: &amp;SecretKey, amount: &amp;AmountSecrets) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="4303.8" y="-461.3" font-family="Arial" font-size="14.00">&#45; confirm_provided_amount_matches_commitment_bearer(&amp;self, amount: &amp;AmountSecrets) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="4303.8" y="-446.3" font-family="Arial" font-size="14.00">&#45; my_output_proof(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;&amp;OutputProof&gt;</text>
<polygon fill="none" stroke="black" points="4291.8,-431 4291.8,-844 5081.8,-844 5081.8,-431 4291.8,-431"/>
</a>
</g>
</g>
<!-- ndError&#45;&gt;ndDbc -->
<g id="edge10" class="edge"><title>ndError&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M4426.86,-1372.73C4503.11,-1316.86 4578.3,-1255.2 4600.8,-1215 4673.14,-1085.74 4617.19,-1030.39 4639.8,-884 4641.11,-875.509 4642.5,-866.863 4643.94,-858.136"/>
<polygon fill="black" stroke="black" points="4645.6,-848.254 4648.39,-858.861 4644.78,-853.185 4643.95,-858.116 4643.95,-858.116 4643.95,-858.116 4644.78,-853.185 4639.51,-857.371 4645.6,-848.254 4645.6,-848.254"/>
</g>
<!-- ndAmountSecrets -->
<g id="node24" class="node"><title>ndAmountSecrets</title>
<g id="a_node24_12"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/amount_secrets.rs#:~:text=struct%20AmountSecrets" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="3890.8,-1172.5 3890.8,-1209.5 4582.8,-1209.5 4582.8,-1172.5 3890.8,-1172.5"/>
<polygon fill="none" stroke="black" points="3890.8,-1172.5 3890.8,-1209.5 4582.8,-1209.5 4582.8,-1172.5 3890.8,-1172.5"/>
<text text-anchor="start" x="4182.8" y="-1188.3" font-family="Arial" font-weight="bold" font-size="14.00">AmountSecrets</text>
<polygon fill="white" stroke="none" points="3890.8,-1135.5 3890.8,-1172.5 4582.8,-1172.5 4582.8,-1135.5 3890.8,-1135.5"/>
<polygon fill="none" stroke="black" points="3890.8,-1135.5 3890.8,-1172.5 4582.8,-1172.5 4582.8,-1135.5 3890.8,-1135.5"/>
<text text-anchor="start" x="3901.8" y="-1150.3" font-family="Arial" font-size="14.00">&#45; RevealedCommitment</text>
<polygon fill="white" stroke="none" points="3890.8,-888.5 3890.8,-1135.5 4582.8,-1135.5 4582.8,-888.5 3890.8,-888.5"/>
<polygon fill="none" stroke="black" points="3890.8,-888.5 3890.8,-1135.5 4582.8,-1135.5 4582.8,-888.5 3890.8,-888.5"/>
<text text-anchor="start" x="3901.8" y="-1113.3" font-family="Arial" font-size="14.00">&#45; amount(&amp;self) &#45;&gt; Amount</text>
<text text-anchor="start" x="3901.8" y="-1098.3" font-family="Arial" font-size="14.00">&#45; blinding_factor(&amp;self) &#45;&gt; SecretKeyBlst</text>
<text text-anchor="start" x="3901.8" y="-1083.3" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="3901.8" y="-1068.3" font-family="Arial" font-size="14.00">&#45; from_bytes(bytes: [u8; AMT_SIZE + BF_SIZE]) &#45;&gt; Self</text>
<text text-anchor="start" x="3901.8" y="-1053.3" font-family="Arial" font-size="14.00">&#45; from_bytes_ref(bytes: &amp;[u8]) &#45;&gt; Result&lt;Self, Error&gt;</text>
<text text-anchor="start" x="3901.8" y="-1038.3" font-family="Arial" font-size="14.00">&#45; from_amount(amount: Amount, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="3901.8" y="-1023.3" font-family="Arial" font-size="14.00">&#45; encrypt(&amp;self, public_key: &amp;PublicKey) &#45;&gt; Ciphertext</text>
<text text-anchor="start" x="3901.8" y="-1008.3" font-family="Arial" font-size="14.00">&#45; from(revealed_commitment: RevealedCommitment) &#45;&gt; Self</text>
<text text-anchor="start" x="3901.8" y="-993.3" font-family="Arial" font-size="14.00">&#45; from(params: (Amount, BlindingFactor)) &#45;&gt; Self</text>
<text text-anchor="start" x="3901.8" y="-978.3" font-family="Arial" font-size="14.00">&#45; into(self) &#45;&gt; RevealedCommitment</text>
<text text-anchor="start" x="3901.8" y="-963.3" font-family="Arial" font-size="14.00">&#45; into(self) &#45;&gt; Amount</text>
<text text-anchor="start" x="3901.8" y="-948.3" font-family="Arial" font-size="14.00">&#45; try_from(params: (&amp;SecretKey, &amp;Ciphertext)) &#45;&gt; Result&lt;Self, Error&gt;</text>
<text text-anchor="start" x="3901.8" y="-933.3" font-family="Arial" font-size="14.00">&#45; try_from(params: (&amp;SecretKeySet, &amp;Ciphertext)) &#45;&gt; Result&lt;Self, Error&gt;</text>
<text text-anchor="start" x="3901.8" y="-918.3" font-family="Arial" font-size="14.00">&#45; try_from(params: (&amp;PublicKeySet, &amp;BTreeMap&lt;I, SecretKeyShare&gt;, &amp;Ciphertext)) &#45;&gt; Result&lt;Self, Error&gt;</text>
<text text-anchor="start" x="3901.8" y="-903.3" font-family="Arial" font-size="14.00">&#45; try_from(params: (&amp;PublicKeySet, &amp;BTreeMap&lt;I, DecryptionShare&gt;, &amp;Ciphertext)) &#45;&gt; Result&lt;Self, Error&gt;</text>
<polygon fill="none" stroke="black" points="3889.8,-888 3889.8,-1211 4583.8,-1211 4583.8,-888 3889.8,-888"/>
</a>
</g>
</g>
<!-- ndError&#45;&gt;ndAmountSecrets -->
<g id="edge11" class="edge"><title>ndError&#45;&gt;ndAmountSecrets</title>
<path fill="none" stroke="black" d="M4236.8,-1250.83C4236.8,-1242.26 4236.8,-1233.73 4236.8,-1225.31"/>
<polygon fill="black" stroke="black" points="4236.8,-1215.08 4241.3,-1225.08 4236.8,-1220.08 4236.8,-1225.08 4236.8,-1225.08 4236.8,-1225.08 4236.8,-1220.08 4232.3,-1225.08 4236.8,-1215.08 4236.8,-1215.08"/>
</g>
<!-- ndError&#45;&gt;ndTransactionValidator -->
<g id="edge12" class="edge"><title>ndError&#45;&gt;ndTransactionValidator</title>
<path fill="none" stroke="black" d="M4046.72,-1413.07C3855.81,-1323.75 3566.85,-1188.55 3401.03,-1110.97"/>
<polygon fill="black" stroke="black" points="3391.76,-1106.63 3402.72,-1106.79 3396.29,-1108.75 3400.82,-1110.87 3400.82,-1110.87 3400.82,-1110.87 3396.29,-1108.75 3398.91,-1114.94 3391.76,-1106.63 3391.76,-1106.63"/>
</g>
<!-- ndNodeSignature -->
<g id="node3" class="node"><title>ndNodeSignature</title>
<g id="a_node3_13"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/key_manager.rs#:~:text=struct%20NodeSignature" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="1873.8,-1544 1873.8,-1581 2220.8,-1581 2220.8,-1544 1873.8,-1544"/>
<polygon fill="none" stroke="black" points="1873.8,-1544 1873.8,-1581 2220.8,-1581 2220.8,-1544 1873.8,-1544"/>
<text text-anchor="start" x="1995.3" y="-1559.8" font-family="Arial" font-weight="bold" font-size="14.00">NodeSignature</text>
<polygon fill="white" stroke="none" points="1873.8,-1492 1873.8,-1544 2220.8,-1544 2220.8,-1492 1873.8,-1492"/>
<polygon fill="none" stroke="black" points="1873.8,-1492 1873.8,-1544 2220.8,-1544 2220.8,-1492 1873.8,-1492"/>
<text text-anchor="start" x="1884.8" y="-1521.8" font-family="Arial" font-size="14.00">&#45; index: u64</text>
<text text-anchor="start" x="1884.8" y="-1506.8" font-family="Arial" font-size="14.00">&#45; sig: SignatureShare</text>
<polygon fill="white" stroke="none" points="1873.8,-1425 1873.8,-1492 2220.8,-1492 2220.8,-1425 1873.8,-1425"/>
<polygon fill="none" stroke="black" points="1873.8,-1425 1873.8,-1492 2220.8,-1492 2220.8,-1425 1873.8,-1425"/>
<text text-anchor="start" x="1884.8" y="-1469.8" font-family="Arial" font-size="14.00">&#45; new(index: u64, sig: SignatureShare) &#45;&gt; Self</text>
<text text-anchor="start" x="1884.8" y="-1454.8" font-family="Arial" font-size="14.00">&#45; threshold_crypto(&amp;self) &#45;&gt; (u64, &amp;SignatureShare)</text>
<text text-anchor="start" x="1884.8" y="-1439.8" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<polygon fill="none" stroke="black" points="1872.3,-1424 1872.3,-1582 2221.3,-1582 2221.3,-1424 1872.3,-1424"/>
</a>
</g>
</g>
<!-- ndNodeSignature&#45;&gt;ndSimpleKeyManager -->
<g id="edge13" class="edge"><title>ndNodeSignature&#45;&gt;ndSimpleKeyManager</title>
<path fill="none" stroke="black" d="M2003.48,-1419.99C1970.01,-1364.34 1918.65,-1293.44 1854.8,-1251 1717.08,-1159.47 1539.74,-1109.7 1390.17,-1082.64"/>
<polygon fill="black" stroke="black" points="1379.91,-1080.81 1390.54,-1078.14 1384.83,-1081.69 1389.75,-1082.57 1389.75,-1082.57 1389.75,-1082.57 1384.83,-1081.69 1388.96,-1087 1379.91,-1080.81 1379.91,-1080.81"/>
</g>
<!-- ndNodeSignature&#45;&gt;ndSpentProofShare -->
<g id="edge14" class="edge"><title>ndNodeSignature&#45;&gt;ndSpentProofShare</title>
<path fill="none" stroke="black" d="M2048.98,-1419.97C2050.62,-1358.08 2052.92,-1271.51 2054.88,-1197.73"/>
<polygon fill="black" stroke="black" points="2054.89,-1197.53 2051.05,-1191.42 2055.21,-1185.53 2059.05,-1191.64 2054.89,-1197.53"/>
</g>
<!-- ndKeyManager -->
<g id="node4" class="node"><title>ndKeyManager</title>
<g id="a_node4_14"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/key_manager.rs#:~:text=trait%20KeyManager" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightgreen" stroke="none" points="136.796,-1540 136.796,-1577 663.796,-1577 663.796,-1540 136.796,-1540"/>
<polygon fill="none" stroke="black" points="136.796,-1540 136.796,-1577 663.796,-1577 663.796,-1540 136.796,-1540"/>
<text text-anchor="start" x="355.796" y="-1555.8" font-family="Arial" font-weight="bold" font-size="14.00">KeyManager</text>
<polygon fill="white" stroke="none" points="136.796,-1428 136.796,-1540 663.796,-1540 663.796,-1428 136.796,-1428"/>
<polygon fill="none" stroke="black" points="136.796,-1428 136.796,-1540 663.796,-1540 663.796,-1428 136.796,-1428"/>
<text text-anchor="start" x="147.796" y="-1517.8" font-family="Arial" font-size="14.00">add_known_key(&amp;mut Self, PublicKey) &#45;&gt; Result&lt;(), Self::Error&gt;</text>
<text text-anchor="start" x="147.796" y="-1502.8" font-family="Arial" font-size="14.00">sign_with_child_key(&amp;Self, &amp;[u8], &amp;Hash) &#45;&gt; Result&lt;NodeSignature, Self::Error&gt;</text>
<text text-anchor="start" x="147.796" y="-1487.8" font-family="Arial" font-size="14.00">sign(&amp;Self, &amp;Hash) &#45;&gt; Result&lt;NodeSignature, Self::Error&gt;</text>
<text text-anchor="start" x="147.796" y="-1472.8" font-family="Arial" font-size="14.00">public_key_set(&amp;Self) &#45;&gt; Result&lt;PublicKeySet, Self::Error&gt;</text>
<text text-anchor="start" x="147.796" y="-1457.8" font-family="Arial" font-size="14.00">verify(&amp;Self, &amp;Hash, &amp;PublicKey, &amp;Signature) &#45;&gt; Result&lt;(), Self::Error&gt;</text>
<text text-anchor="start" x="147.796" y="-1442.8" font-family="Arial" font-size="14.00">verify_known_key(&amp;Self, &amp;PublicKey) &#45;&gt; Result&lt;(), Self::Error&gt;</text>
<polygon fill="none" stroke="black" points="135.296,-1427.5 135.296,-1578.5 664.296,-1578.5 664.296,-1427.5 135.296,-1427.5"/>
</a>
</g>
</g>
<!-- ndKeyManager&#45;&gt;ndSimpleKeyManager -->
<g id="edge15" class="edge"><title>ndKeyManager&#45;&gt;ndSimpleKeyManager</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M476.18,-1423.37C530.173,-1370.51 605.983,-1301.51 680.796,-1251 725.34,-1220.92 775.05,-1192.61 823.989,-1167.27"/>
<polygon fill="none" stroke="black" points="825.827,-1170.26 833.117,-1162.57 822.623,-1164.03 825.827,-1170.26"/>
</g>
<!-- ndKeyManager&#45;&gt;ndSpentBookNodeMock -->
<g id="edge16" class="edge"><title>ndKeyManager&#45;&gt;ndSpentBookNodeMock</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M414.427,-1423.44C424.503,-1365.93 437.217,-1285.9 443.796,-1215 457.407,-1068.33 461.649,-899.891 462.796,-783.112"/>
<polygon fill="black" stroke="black" points="462.888,-773.035 467.296,-783.076 462.842,-778.034 462.797,-783.034 462.797,-783.034 462.797,-783.034 462.842,-778.034 458.297,-782.993 462.888,-773.035 462.888,-773.035"/>
</g>
<!-- ndSimpleSigner -->
<g id="node5" class="node"><title>ndSimpleSigner</title>
<g id="a_node5_15"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/key_manager.rs#:~:text=struct%20SimpleSigner" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="1264.8,-1566 1264.8,-1603 1836.8,-1603 1836.8,-1566 1264.8,-1566"/>
<polygon fill="none" stroke="black" points="1264.8,-1566 1264.8,-1603 1836.8,-1603 1836.8,-1566 1264.8,-1566"/>
<text text-anchor="start" x="1503.8" y="-1581.8" font-family="Arial" font-weight="bold" font-size="14.00">SimpleSigner</text>
<polygon fill="white" stroke="none" points="1264.8,-1514 1264.8,-1566 1836.8,-1566 1836.8,-1514 1264.8,-1514"/>
<polygon fill="none" stroke="black" points="1264.8,-1514 1264.8,-1566 1836.8,-1566 1836.8,-1514 1264.8,-1514"/>
<text text-anchor="start" x="1275.8" y="-1543.8" font-family="Arial" font-size="14.00">&#45; public_key_set: PublicKeySet</text>
<text text-anchor="start" x="1275.8" y="-1528.8" font-family="Arial" font-size="14.00">&#45; secret_key_share: (u64, SerdeSecret&lt;SecretKeyShare&gt;)</text>
<polygon fill="white" stroke="none" points="1264.8,-1402 1264.8,-1514 1836.8,-1514 1836.8,-1402 1264.8,-1402"/>
<polygon fill="none" stroke="black" points="1264.8,-1402 1264.8,-1514 1836.8,-1514 1836.8,-1402 1264.8,-1402"/>
<text text-anchor="start" x="1275.8" y="-1491.8" font-family="Arial" font-size="14.00">&#45; from(outcome: bls_dkg::outcome::Outcome) &#45;&gt; Self</text>
<text text-anchor="start" x="1275.8" y="-1476.8" font-family="Arial" font-size="14.00">&#45; new(public_key_set: PublicKeySet, secret_key_share: (u64, SecretKeyShare)) &#45;&gt; Self</text>
<text text-anchor="start" x="1275.8" y="-1461.8" font-family="Arial" font-size="14.00">&#45; index(&amp;self) &#45;&gt; u64</text>
<text text-anchor="start" x="1275.8" y="-1446.8" font-family="Arial" font-size="14.00">&#45; public_key_set(&amp;self) &#45;&gt; PublicKeySet</text>
<text text-anchor="start" x="1275.8" y="-1431.8" font-family="Arial" font-size="14.00">&#45; sign(&amp;self, msg: M) &#45;&gt; blsttc::SignatureShare</text>
<text text-anchor="start" x="1275.8" y="-1416.8" font-family="Arial" font-size="14.00">&#45; derive_child(&amp;self, index: &amp;[u8]) &#45;&gt; Self</text>
<polygon fill="none" stroke="black" points="1263.8,-1401.5 1263.8,-1604.5 1837.8,-1604.5 1837.8,-1401.5 1263.8,-1401.5"/>
</a>
</g>
</g>
<!-- ndSimpleSigner&#45;&gt;ndSimpleKeyManager -->
<g id="edge17" class="edge"><title>ndSimpleSigner&#45;&gt;ndSimpleKeyManager</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1443.18,-1397.28C1373.72,-1329.69 1283.14,-1241.56 1210.68,-1171.05"/>
<polygon fill="black" stroke="black" points="1210.54,-1170.91 1203.45,-1169.59 1201.94,-1162.54 1209.03,-1163.86 1210.54,-1170.91"/>
</g>
<!-- ndSimpleKeyManager&#45;&gt;ndSpentBookNodeMock -->
<g id="edge18" class="edge"><title>ndSimpleKeyManager&#45;&gt;ndSpentBookNodeMock</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M916.285,-936.466C842.813,-888.191 756.061,-831.19 678.209,-780.037"/>
<polygon fill="black" stroke="black" points="677.808,-779.774 670.597,-779.822 667.779,-773.184 674.99,-773.136 677.808,-779.774"/>
</g>
<!-- ndKeys&#45;&gt;ndSimpleKeyManager -->
<g id="edge19" class="edge"><title>ndKeys&#45;&gt;ndSimpleKeyManager</title>
<path fill="none" stroke="black" d="M970.594,-1419.97C992.155,-1351.42 1023.24,-1252.59 1047.83,-1174.39"/>
<polygon fill="black" stroke="black" points="1047.97,-1173.96 1045.95,-1167.04 1051.57,-1162.52 1053.58,-1169.44 1047.97,-1173.96"/>
</g>
<!-- ndReissueRequest -->
<g id="node8" class="node"><title>ndReissueRequest</title>
<g id="a_node8_16"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/mint.rs#:~:text=struct%20ReissueRequest" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2288.8,-644.5 2288.8,-681.5 2565.8,-681.5 2565.8,-644.5 2288.8,-644.5"/>
<polygon fill="none" stroke="black" points="2288.8,-644.5 2288.8,-681.5 2565.8,-681.5 2565.8,-644.5 2288.8,-644.5"/>
<text text-anchor="start" x="2370.8" y="-660.3" font-family="Arial" font-weight="bold" font-size="14.00">ReissueRequest</text>
<polygon fill="white" stroke="none" points="2288.8,-592.5 2288.8,-644.5 2565.8,-644.5 2565.8,-592.5 2288.8,-592.5"/>
<polygon fill="none" stroke="black" points="2288.8,-592.5 2288.8,-644.5 2565.8,-644.5 2565.8,-592.5 2288.8,-592.5"/>
<text text-anchor="start" x="2299.8" y="-622.3" font-family="Arial" font-size="14.00">+ transaction: RingCtTransaction</text>
<text text-anchor="start" x="2299.8" y="-607.3" font-family="Arial" font-size="14.00">+ spent_proofs: BTreeSet&lt;SpentProof&gt;</text>
<polygon fill="none" stroke="black" points="2287.3,-592 2287.3,-683 2566.3,-683 2566.3,-592 2287.3,-592"/>
</a>
</g>
</g>
<!-- ndMintNode -->
<g id="node10" class="node"><title>ndMintNode</title>
<g id="a_node10_17"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/mint.rs#:~:text=struct%20MintNode" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2407.8,-251.5 2407.8,-288.5 3032.8,-288.5 3032.8,-251.5 2407.8,-251.5"/>
<polygon fill="none" stroke="black" points="2407.8,-251.5 2407.8,-288.5 3032.8,-288.5 3032.8,-251.5 2407.8,-251.5"/>
<text text-anchor="start" x="2686.8" y="-267.3" font-family="Arial" font-weight="bold" font-size="14.00">MintNode</text>
<polygon fill="white" stroke="none" points="2407.8,-214.5 2407.8,-251.5 3032.8,-251.5 3032.8,-214.5 2407.8,-214.5"/>
<polygon fill="none" stroke="black" points="2407.8,-214.5 2407.8,-251.5 3032.8,-251.5 3032.8,-214.5 2407.8,-214.5"/>
<text text-anchor="start" x="2418.8" y="-229.3" font-family="Arial" font-size="14.00">+ key_manager: K</text>
<polygon fill="white" stroke="none" points="2407.8,-102.5 2407.8,-214.5 3032.8,-214.5 3032.8,-102.5 2407.8,-102.5"/>
<polygon fill="none" stroke="black" points="2407.8,-102.5 2407.8,-214.5 3032.8,-214.5 3032.8,-102.5 2407.8,-102.5"/>
<text text-anchor="start" x="2418.8" y="-192.3" font-family="Arial" font-size="14.00">&#45; new(key_manager: K) &#45;&gt; Self</text>
<text text-anchor="start" x="2418.8" y="-177.3" font-family="Arial" font-size="14.00">&#45; trust_spentbook_public_key(mut self, public_key: PublicKey) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="2418.8" y="-162.3" font-family="Arial" font-size="14.00">&#45; key_manager(&amp;self) &#45;&gt; &amp;K</text>
<text text-anchor="start" x="2418.8" y="-147.3" font-family="Arial" font-size="14.00">&#45; spend(_key_image: KeyImage, _transaction: RingCtTransaction) &#45;&gt; Result&lt;SpentProofShare&gt;</text>
<text text-anchor="start" x="2418.8" y="-132.3" font-family="Arial" font-size="14.00">&#45; reissue(&amp;self, reissue_req: ReissueRequest) &#45;&gt; Result&lt;ReissueShare&gt;</text>
<text text-anchor="start" x="2418.8" y="-117.3" font-family="Arial" font-size="14.00">&#45; sign_transaction(&amp;self, transaction: &amp;RingCtTransaction) &#45;&gt; Result&lt;MintNodeSignatures&gt;</text>
<polygon fill="none" stroke="black" points="2406.3,-101.5 2406.3,-289.5 3033.3,-289.5 3033.3,-101.5 2406.3,-101.5"/>
</a>
</g>
</g>
<!-- ndReissueRequest&#45;&gt;ndMintNode -->
<g id="edge20" class="edge"><title>ndReissueRequest&#45;&gt;ndMintNode</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2459.27,-587.731C2504.93,-519.167 2589.26,-392.533 2649.61,-301.9"/>
<polygon fill="black" stroke="black" points="2655.19,-293.519 2653.39,-304.337 2652.42,-297.681 2649.65,-301.843 2649.65,-301.843 2649.65,-301.843 2652.42,-297.681 2645.9,-299.349 2655.19,-293.519 2655.19,-293.519"/>
</g>
<!-- ndReissueRequestBuilder -->
<g id="node19" class="node"><title>ndReissueRequestBuilder</title>
<g id="a_node19_18"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/builder.rs#:~:text=struct%20ReissueRequestBuilder" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="1746.8,-243.5 1746.8,-280.5 2370.8,-280.5 2370.8,-243.5 1746.8,-243.5"/>
<polygon fill="none" stroke="black" points="1746.8,-243.5 1746.8,-280.5 2370.8,-280.5 2370.8,-243.5 1746.8,-243.5"/>
<text text-anchor="start" x="1977.3" y="-259.3" font-family="Arial" font-weight="bold" font-size="14.00">ReissueRequestBuilder</text>
<polygon fill="white" stroke="none" points="1746.8,-191.5 1746.8,-243.5 2370.8,-243.5 2370.8,-191.5 1746.8,-191.5"/>
<polygon fill="none" stroke="black" points="1746.8,-191.5 1746.8,-243.5 2370.8,-243.5 2370.8,-191.5 1746.8,-191.5"/>
<text text-anchor="start" x="1757.8" y="-221.3" font-family="Arial" font-size="14.00">+ transaction: RingCtTransaction</text>
<text text-anchor="start" x="1757.8" y="-206.3" font-family="Arial" font-size="14.00">+ spent_proof_shares: BTreeMap&lt;KeyImage, HashSet&lt;SpentProofShare&gt;&gt;</text>
<polygon fill="white" stroke="none" points="1746.8,-109.5 1746.8,-191.5 2370.8,-191.5 2370.8,-109.5 1746.8,-109.5"/>
<polygon fill="none" stroke="black" points="1746.8,-109.5 1746.8,-191.5 2370.8,-191.5 2370.8,-109.5 1746.8,-109.5"/>
<text text-anchor="start" x="1757.8" y="-169.3" font-family="Arial" font-size="14.00">&#45; new(transaction: RingCtTransaction) &#45;&gt; Self</text>
<text text-anchor="start" x="1757.8" y="-154.3" font-family="Arial" font-size="14.00">&#45; add_spent_proof_share(mut self, share: SpentProofShare) &#45;&gt; Self</text>
<text text-anchor="start" x="1757.8" y="-139.3" font-family="Arial" font-size="14.00">&#45; add_spent_proof_shares(mut self, shares: impl IntoIterator&lt;Item = SpentProofShare&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="1757.8" y="-124.3" font-family="Arial" font-size="14.00">&#45; build(&amp;self) &#45;&gt; Result&lt;ReissueRequest&gt;</text>
<polygon fill="none" stroke="black" points="1745.8,-109 1745.8,-282 2371.8,-282 2371.8,-109 1745.8,-109"/>
</a>
</g>
</g>
<!-- ndReissueRequest&#45;&gt;ndReissueRequestBuilder -->
<g id="edge21" class="edge"><title>ndReissueRequest&#45;&gt;ndReissueRequestBuilder</title>
<path fill="none" stroke="black" d="M2386.01,-587.731C2327,-517.181 2216.57,-385.148 2140.44,-294.116"/>
<polygon fill="black" stroke="black" points="2133.87,-286.264 2143.74,-291.048 2137.08,-290.099 2140.29,-293.935 2140.29,-293.935 2140.29,-293.935 2137.08,-290.099 2136.84,-296.822 2133.87,-286.264 2133.87,-286.264"/>
</g>
<!-- ndReissueShare -->
<g id="node9" class="node"><title>ndReissueShare</title>
<g id="a_node9_19"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/mint.rs#:~:text=struct%20ReissueShare" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2601.8,-652.5 2601.8,-689.5 2911.8,-689.5 2911.8,-652.5 2601.8,-652.5"/>
<polygon fill="none" stroke="black" points="2601.8,-652.5 2601.8,-689.5 2911.8,-689.5 2911.8,-652.5 2601.8,-652.5"/>
<text text-anchor="start" x="2708.3" y="-668.3" font-family="Arial" font-weight="bold" font-size="14.00">ReissueShare</text>
<polygon fill="white" stroke="none" points="2601.8,-585.5 2601.8,-652.5 2911.8,-652.5 2911.8,-585.5 2601.8,-585.5"/>
<polygon fill="none" stroke="black" points="2601.8,-585.5 2601.8,-652.5 2911.8,-652.5 2911.8,-585.5 2601.8,-585.5"/>
<text text-anchor="start" x="2612.8" y="-630.3" font-family="Arial" font-size="14.00">+ transaction: RingCtTransaction</text>
<text text-anchor="start" x="2612.8" y="-615.3" font-family="Arial" font-size="14.00">+ spent_proofs: BTreeSet&lt;SpentProof&gt;</text>
<text text-anchor="start" x="2612.8" y="-600.3" font-family="Arial" font-size="14.00">+ mint_node_signatures: MintNodeSignatures</text>
<polygon fill="none" stroke="black" points="2600.8,-584.5 2600.8,-690.5 2912.8,-690.5 2912.8,-584.5 2600.8,-584.5"/>
</a>
</g>
</g>
<!-- ndReissueShare&#45;&gt;ndMintNode -->
<g id="edge22" class="edge"><title>ndReissueShare&#45;&gt;ndMintNode</title>
<path fill="none" stroke="black" d="M2752.07,-580.327C2746.24,-510.908 2736.18,-391.284 2728.84,-303.992"/>
<polygon fill="black" stroke="black" points="2727.98,-293.781 2733.3,-303.369 2728.4,-298.763 2728.81,-303.746 2728.81,-303.746 2728.81,-303.746 2728.4,-298.763 2724.33,-304.123 2727.98,-293.781 2727.98,-293.781"/>
</g>
<!-- ndDbcBuilder -->
<g id="node20" class="node"><title>ndDbcBuilder</title>
<g id="a_node20_20"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/builder.rs#:~:text=struct%20DbcBuilder" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="3883.8,-251.5 3883.8,-288.5 4551.8,-288.5 4551.8,-251.5 3883.8,-251.5"/>
<polygon fill="none" stroke="black" points="3883.8,-251.5 3883.8,-288.5 4551.8,-288.5 4551.8,-251.5 3883.8,-251.5"/>
<text text-anchor="start" x="4178.3" y="-267.3" font-family="Arial" font-weight="bold" font-size="14.00">DbcBuilder</text>
<polygon fill="white" stroke="none" points="3883.8,-184.5 3883.8,-251.5 4551.8,-251.5 4551.8,-184.5 3883.8,-184.5"/>
<polygon fill="none" stroke="black" points="3883.8,-184.5 3883.8,-251.5 4551.8,-251.5 4551.8,-184.5 3883.8,-184.5"/>
<text text-anchor="start" x="3894.8" y="-229.3" font-family="Arial" font-size="14.00">+ revealed_commitments: Vec&lt;RevealedCommitment&gt;</text>
<text text-anchor="start" x="3894.8" y="-214.3" font-family="Arial" font-size="14.00">+ output_owners: OutputOwnerMap</text>
<text text-anchor="start" x="3894.8" y="-199.3" font-family="Arial" font-size="14.00">+ reissue_shares: Vec&lt;ReissueShare&gt;</text>
<polygon fill="white" stroke="none" points="3883.8,-102.5 3883.8,-184.5 4551.8,-184.5 4551.8,-102.5 3883.8,-102.5"/>
<polygon fill="none" stroke="black" points="3883.8,-102.5 3883.8,-184.5 4551.8,-184.5 4551.8,-102.5 3883.8,-102.5"/>
<text text-anchor="start" x="3894.8" y="-162.3" font-family="Arial" font-size="14.00">&#45; new(revealed_commitments: Vec&lt;RevealedCommitment&gt;, output_owners: OutputOwnerMap) &#45;&gt; Self</text>
<text text-anchor="start" x="3894.8" y="-147.3" font-family="Arial" font-size="14.00">&#45; add_reissue_share(mut self, reissue_share: ReissueShare) &#45;&gt; Self</text>
<text text-anchor="start" x="3894.8" y="-132.3" font-family="Arial" font-size="14.00">&#45; add_reissue_shares(mut self, shares: impl IntoIterator&lt;Item = ReissueShare&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="3894.8" y="-117.3" font-family="Arial" font-size="14.00">&#45; build(self) &#45;&gt; Result&lt;Vec&lt;(Dbc, OwnerOnce, AmountSecrets)&gt;&gt;</text>
<polygon fill="none" stroke="black" points="3882.8,-101.5 3882.8,-289.5 4552.8,-289.5 4552.8,-101.5 3882.8,-101.5"/>
</a>
</g>
</g>
<!-- ndReissueShare&#45;&gt;ndDbcBuilder -->
<g id="edge23" class="edge"><title>ndReissueShare&#45;&gt;ndDbcBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2920.84,-587.095C3153.14,-517.136 3583.1,-387.648 3884.07,-297.007"/>
<polygon fill="black" stroke="black" points="3884.12,-296.99 3888.71,-291.43 3895.61,-293.53 3891.02,-299.09 3884.12,-296.99"/>
</g>
<!-- ndDbcContent&#45;&gt;ndDbc -->
<g id="edge24" class="edge"><title>ndDbcContent&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M4849.97,-943.979C4835.97,-917.777 4820.42,-888.667 4804.64,-859.12"/>
<polygon fill="black" stroke="black" points="4804.47,-858.805 4798.12,-855.397 4798.82,-848.22 4805.17,-851.628 4804.47,-858.805"/>
</g>
<!-- ndGenesisMaterial -->
<g id="node12" class="node"><title>ndGenesisMaterial</title>
<g id="a_node12_21"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/genesis.rs#:~:text=struct%20GenesisMaterial" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="5267.8,-1544 5267.8,-1581 5494.8,-1581 5494.8,-1544 5267.8,-1544"/>
<polygon fill="none" stroke="black" points="5267.8,-1544 5267.8,-1581 5494.8,-1581 5494.8,-1544 5267.8,-1544"/>
<text text-anchor="start" x="5324.8" y="-1559.8" font-family="Arial" font-weight="bold" font-size="14.00">GenesisMaterial</text>
<polygon fill="white" stroke="none" points="5267.8,-1477 5267.8,-1544 5494.8,-1544 5494.8,-1477 5267.8,-1477"/>
<polygon fill="none" stroke="black" points="5267.8,-1477 5267.8,-1544 5494.8,-1544 5494.8,-1477 5267.8,-1477"/>
<text text-anchor="start" x="5278.8" y="-1521.8" font-family="Arial" font-size="14.00">+ ringct_material: RingCtMaterial</text>
<text text-anchor="start" x="5278.8" y="-1506.8" font-family="Arial" font-size="14.00">+ owner_once: OwnerOnce</text>
<text text-anchor="start" x="5278.8" y="-1491.8" font-family="Arial" font-size="14.00">+ input_key_image: KeyImage</text>
<polygon fill="white" stroke="none" points="5267.8,-1424 5267.8,-1477 5494.8,-1477 5494.8,-1424 5267.8,-1424"/>
<polygon fill="none" stroke="black" points="5267.8,-1424 5267.8,-1477 5494.8,-1477 5494.8,-1424 5267.8,-1424"/>
<text text-anchor="start" x="5278.8" y="-1439.8" font-family="Arial" font-size="14.00">&#45; default() &#45;&gt; Self</text>
<polygon fill="none" stroke="black" points="5266.3,-1423.5 5266.3,-1582.5 5495.3,-1582.5 5495.3,-1423.5 5266.3,-1423.5"/>
</a>
</g>
</g>
<!-- ndPublicKeyBlstMappable&#45;&gt;ndSpentBookNodeMock -->
<g id="edge25" class="edge"><title>ndPublicKeyBlstMappable&#45;&gt;ndSpentBookNodeMock</title>
<path fill="none" stroke="black" d="M309.685,-950.816C334.124,-900.965 364.343,-839.324 391.461,-784.009"/>
<polygon fill="black" stroke="black" points="391.558,-783.811 390.608,-776.663 396.841,-773.036 397.791,-780.184 391.558,-783.811"/>
</g>
<!-- ndBlsHelper -->
<g id="node14" class="node"><title>ndBlsHelper</title>
<g id="a_node14_22"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/blst.rs#:~:text=struct%20BlsHelper" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="5530.8,-1903.5 5530.8,-1940.5 5946.8,-1940.5 5946.8,-1903.5 5530.8,-1903.5"/>
<polygon fill="none" stroke="black" points="5530.8,-1903.5 5530.8,-1940.5 5946.8,-1940.5 5946.8,-1903.5 5530.8,-1903.5"/>
<text text-anchor="start" x="5704.8" y="-1919.3" font-family="Arial" font-weight="bold" font-size="14.00">BlsHelper</text>
<polygon fill="white" stroke="none" points="5530.8,-1821.5 5530.8,-1903.5 5946.8,-1903.5 5946.8,-1821.5 5530.8,-1821.5"/>
<polygon fill="none" stroke="black" points="5530.8,-1821.5 5530.8,-1903.5 5946.8,-1903.5 5946.8,-1821.5 5530.8,-1821.5"/>
<text text-anchor="start" x="5541.8" y="-1881.3" font-family="Arial" font-size="14.00">&#45; blsttc_to_blstrs_secret_key(sk: SecretKey) &#45;&gt; SecretKeyBlst</text>
<text text-anchor="start" x="5541.8" y="-1866.3" font-family="Arial" font-size="14.00">&#45; blsttc_to_blstrs_public_key(pk: &amp;PublicKey) &#45;&gt; PublicKeyBlst</text>
<text text-anchor="start" x="5541.8" y="-1851.3" font-family="Arial" font-size="14.00">&#45; blstrs_to_blsttc_public_key(pk: &amp;PublicKeyBlst) &#45;&gt; PublicKey</text>
<text text-anchor="start" x="5541.8" y="-1836.3" font-family="Arial" font-size="14.00">&#45; blstrs_to_blsttc_secret_key(sk: SecretKeyBlst) &#45;&gt; SecretKey</text>
<polygon fill="none" stroke="black" points="5529.8,-1821 5529.8,-1942 5947.8,-1942 5947.8,-1821 5529.8,-1821"/>
</a>
</g>
</g>
<!-- ndOwner -->
<g id="node15" class="node"><title>ndOwner</title>
<g id="a_node15_23"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/owner.rs#:~:text=enum%20Owner" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="4756.8,-1627 4756.8,-1664 5193.8,-1664 5193.8,-1627 4756.8,-1627"/>
<polygon fill="none" stroke="black" points="4756.8,-1627 4756.8,-1664 5193.8,-1664 5193.8,-1627 4756.8,-1627"/>
<text text-anchor="start" x="4952.3" y="-1642.8" font-family="Arial" font-weight="bold" font-size="14.00">Owner</text>
<polygon fill="white" stroke="none" points="4756.8,-1575 4756.8,-1627 5193.8,-1627 5193.8,-1575 4756.8,-1575"/>
<polygon fill="none" stroke="black" points="4756.8,-1575 4756.8,-1627 5193.8,-1627 5193.8,-1575 4756.8,-1575"/>
<text text-anchor="start" x="4767.8" y="-1604.8" font-family="Arial" font-size="14.00">SecretKey(SerdeSecret&lt;SecretKey&gt;)</text>
<text text-anchor="start" x="4767.8" y="-1589.8" font-family="Arial" font-size="14.00">PublicKey(PublicKey)</text>
<polygon fill="white" stroke="none" points="4756.8,-1342 4756.8,-1575 5193.8,-1575 5193.8,-1342 4756.8,-1342"/>
<polygon fill="none" stroke="black" points="4756.8,-1342 4756.8,-1575 5193.8,-1575 5193.8,-1342 4756.8,-1342"/>
<text text-anchor="start" x="4767.8" y="-1552.8" font-family="Arial" font-size="14.00">&#45; fmt(&amp;self, f: &amp;mut fmt::Formatter&lt;&#39;_&gt;) &#45;&gt; fmt::Result</text>
<text text-anchor="start" x="4767.8" y="-1537.8" font-family="Arial" font-size="14.00">&#45; from(s: SecretKey) &#45;&gt; Self</text>
<text text-anchor="start" x="4767.8" y="-1522.8" font-family="Arial" font-size="14.00">&#45; from(p: PublicKey) &#45;&gt; Self</text>
<text text-anchor="start" x="4767.8" y="-1507.8" font-family="Arial" font-size="14.00">&#45; eq(&amp;self, other: &amp;Self) &#45;&gt; bool</text>
<text text-anchor="start" x="4767.8" y="-1476" font-family="Arial" font-size="14.00">&#45; public_key(&amp;self) &#45;&gt; PublicKey</text>
<text text-anchor="start" x="4767.8" y="-1461" font-family="Arial" font-size="14.00">&#45; secret_key(&amp;self) &#45;&gt; Result&lt;SecretKey&gt;</text>
<text text-anchor="start" x="4767.8" y="-1446" font-family="Arial" font-size="14.00">&#45; public_key_blst(&amp;self) &#45;&gt; PublicKeyBlst</text>
<text text-anchor="start" x="4767.8" y="-1431" font-family="Arial" font-size="14.00">&#45; secret_key_blst(&amp;self) &#45;&gt; Result&lt;SecretKeyBlst&gt;</text>
<text text-anchor="start" x="4767.8" y="-1416" font-family="Arial" font-size="14.00">&#45; derive(&amp;self, i: &amp;DerivationIndex) &#45;&gt; Self</text>
<text text-anchor="start" x="4767.8" y="-1401" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="4767.8" y="-1386" font-family="Arial" font-size="14.00">&#45; has_secret_key(&amp;self) &#45;&gt; bool</text>
<text text-anchor="start" x="4767.8" y="-1371" font-family="Arial" font-size="14.00">&#45; from_random_secret_key(rng: &amp;mut impl rand::RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="4767.8" y="-1356" font-family="Arial" font-size="14.00">&#45; from(o: OwnerOnce) &#45;&gt; Self</text>
<polygon fill="none" stroke="black" points="4755.3,-1341 4755.3,-1665 5194.3,-1665 5194.3,-1341 4755.3,-1341"/>
</a>
</g>
</g>
<!-- ndOwner&#45;&gt;ndDbcContent -->
<g id="edge26" class="edge"><title>ndOwner&#45;&gt;ndDbcContent</title>
<path fill="none" stroke="black" d="M4949.54,-1336.76C4940.94,-1280.47 4931.51,-1218.75 4923.61,-1167.08"/>
<polygon fill="black" stroke="black" points="4923.61,-1167.06 4918.75,-1161.73 4921.8,-1155.2 4926.66,-1160.52 4923.61,-1167.06"/>
</g>
<!-- ndOwnerOnce -->
<g id="node16" class="node"><title>ndOwnerOnce</title>
<g id="a_node16_24"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/owner.rs#:~:text=struct%20OwnerOnce" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="4964.8,-1929.5 4964.8,-1966.5 5494.8,-1966.5 5494.8,-1929.5 4964.8,-1929.5"/>
<polygon fill="none" stroke="black" points="4964.8,-1929.5 4964.8,-1966.5 5494.8,-1966.5 5494.8,-1929.5 4964.8,-1929.5"/>
<text text-anchor="start" x="5188.3" y="-1945.3" font-family="Arial" font-weight="bold" font-size="14.00">OwnerOnce</text>
<polygon fill="white" stroke="none" points="4964.8,-1877.5 4964.8,-1929.5 5494.8,-1929.5 5494.8,-1877.5 4964.8,-1877.5"/>
<polygon fill="none" stroke="black" points="4964.8,-1877.5 4964.8,-1929.5 5494.8,-1929.5 5494.8,-1877.5 4964.8,-1877.5"/>
<text text-anchor="start" x="4975.8" y="-1907.3" font-family="Arial" font-size="14.00">+ owner_base: Owner</text>
<text text-anchor="start" x="4975.8" y="-1892.3" font-family="Arial" font-size="14.00">+ derivation_index: DerivationIndex</text>
<polygon fill="white" stroke="none" points="4964.8,-1795.5 4964.8,-1877.5 5494.8,-1877.5 5494.8,-1795.5 4964.8,-1795.5"/>
<polygon fill="none" stroke="black" points="4964.8,-1795.5 4964.8,-1877.5 5494.8,-1877.5 5494.8,-1795.5 4964.8,-1795.5"/>
<text text-anchor="start" x="4975.8" y="-1855.3" font-family="Arial" font-size="14.00">&#45; owner_base(&amp;self) &#45;&gt; &amp;Owner</text>
<text text-anchor="start" x="4975.8" y="-1840.3" font-family="Arial" font-size="14.00">&#45; as_owner(&amp;self) &#45;&gt; Owner</text>
<text text-anchor="start" x="4975.8" y="-1825.3" font-family="Arial" font-size="14.00">&#45; from_owner_base(owner_base: Owner, rng: &amp;mut impl rand8::RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="4975.8" y="-1810.3" font-family="Arial" font-size="14.00">&#45; random_derivation_index(rng: &amp;mut impl rand8::RngCore) &#45;&gt; [u8; 32]</text>
<polygon fill="none" stroke="black" points="4963.8,-1795 4963.8,-1968 5495.8,-1968 5495.8,-1795 4963.8,-1795"/>
</a>
</g>
</g>
<!-- ndOwner&#45;&gt;ndOwnerOnce -->
<g id="edge27" class="edge"><title>ndOwner&#45;&gt;ndOwnerOnce</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M5093.47,-1669.32C5119.25,-1707.16 5145.51,-1746.26 5168.03,-1780.38"/>
<polygon fill="black" stroke="black" points="5168.29,-1780.78 5174.93,-1783.59 5174.89,-1790.8 5168.25,-1787.99 5168.29,-1780.78"/>
</g>
<!-- ndOwner&#45;&gt;ndDbc -->
<g id="edge28" class="edge"><title>ndOwner&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M5113.28,-1336.77C5137.76,-1298.94 5159.61,-1257.33 5172.8,-1215 5194.67,-1144.77 5211.34,-946.649 5172.8,-884 5152.79,-851.48 5127,-823.111 5097.75,-798.392"/>
<polygon fill="black" stroke="black" points="5089.82,-791.852 5100.4,-794.747 5093.68,-795.035 5097.53,-798.218 5097.53,-798.218 5097.53,-798.218 5093.68,-795.035 5094.67,-801.688 5089.82,-791.852 5089.82,-791.852"/>
</g>
<!-- ndOwnerOnce&#45;&gt;ndGenesisMaterial -->
<g id="edge29" class="edge"><title>ndOwnerOnce&#45;&gt;ndGenesisMaterial</title>
<path fill="none" stroke="black" d="M5265.77,-1790.8C5289.13,-1732.56 5319.51,-1656.81 5343.19,-1597.78"/>
<polygon fill="black" stroke="black" points="5343.21,-1597.72 5341.73,-1590.66 5347.68,-1586.58 5349.15,-1593.64 5343.21,-1597.72"/>
</g>
<!-- ndOwnerOnce&#45;&gt;ndOwner -->
<g id="edge30" class="edge"><title>ndOwnerOnce&#45;&gt;ndOwner</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M5163.19,-1790.8C5139.47,-1756.78 5112.09,-1716.8 5085.68,-1677.65"/>
<polygon fill="black" stroke="black" points="5080.06,-1669.32 5089.38,-1675.09 5082.85,-1673.46 5085.65,-1677.61 5085.65,-1677.61 5085.65,-1677.61 5082.85,-1673.46 5081.92,-1680.12 5080.06,-1669.32 5080.06,-1669.32"/>
</g>
<!-- ndTransactionBuilder -->
<g id="node18" class="node"><title>ndTransactionBuilder</title>
<g id="a_node18_25"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/builder.rs#:~:text=struct%20TransactionBuilder" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="4587.8,-348.5 4587.8,-385.5 5627.8,-385.5 5627.8,-348.5 4587.8,-348.5"/>
<polygon fill="none" stroke="black" points="4587.8,-348.5 4587.8,-385.5 5627.8,-385.5 5627.8,-348.5 4587.8,-348.5"/>
<text text-anchor="start" x="5040.8" y="-364.3" font-family="Arial" font-weight="bold" font-size="14.00">TransactionBuilder</text>
<polygon fill="white" stroke="none" points="4587.8,-296.5 4587.8,-348.5 5627.8,-348.5 5627.8,-296.5 4587.8,-296.5"/>
<polygon fill="none" stroke="black" points="4587.8,-296.5 4587.8,-348.5 5627.8,-348.5 5627.8,-296.5 4587.8,-296.5"/>
<text text-anchor="start" x="4598.8" y="-326.3" font-family="Arial" font-size="14.00">&#45; material: RingCtMaterial</text>
<text text-anchor="start" x="4598.8" y="-311.3" font-family="Arial" font-size="14.00">&#45; output_owners: OutputOwnerMap</text>
<polygon fill="white" stroke="none" points="4587.8,-4.5 4587.8,-296.5 5627.8,-296.5 5627.8,-4.5 4587.8,-4.5"/>
<polygon fill="none" stroke="black" points="4587.8,-4.5 4587.8,-296.5 5627.8,-296.5 5627.8,-4.5 4587.8,-4.5"/>
<text text-anchor="start" x="4598.8" y="-274.3" font-family="Arial" font-size="14.00">&#45; add_input(mut self, mlsag: MlsagMaterial) &#45;&gt; Self</text>
<text text-anchor="start" x="4598.8" y="-259.3" font-family="Arial" font-size="14.00">&#45; add_inputs(mut self, inputs: impl IntoIterator&lt;Item = MlsagMaterial&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="4598.8" y="-244.3" font-family="Arial" font-size="14.00">&#45; add_input_by_true_input(mut self, true_input: TrueInput, decoy_inputs: Vec&lt;DecoyInput&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="4598.8" y="-229.3" font-family="Arial" font-size="14.00">&#45; add_inputs_by_true_inputs(mut self, inputs: impl IntoIterator&lt;Item = (TrueInput, Vec&lt;DecoyInput&gt;)&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="4598.8" y="-214.3" font-family="Arial" font-size="14.00">&#45; add_input_dbc(mut self, dbc: &amp;Dbc, base_sk: &amp;SecretKey, decoy_inputs: Vec&lt;DecoyInput&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="4598.8" y="-199.3" font-family="Arial" font-size="14.00">&#45; add_inputs_dbc(mut self, dbcs: impl IntoIterator&lt;Item = (Dbc, SecretKey, Vec&lt;DecoyInput&gt;)&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="4598.8" y="-184.3" font-family="Arial" font-size="14.00">&#45; add_input_dbc_bearer(mut self, dbc: &amp;Dbc, decoy_inputs: Vec&lt;DecoyInput&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="4598.8" y="-169.3" font-family="Arial" font-size="14.00">&#45; add_inputs_dbc_bearer(mut self, dbcs: impl IntoIterator&lt;Item = (Dbc, Vec&lt;DecoyInput&gt;)&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="4598.8" y="-154.3" font-family="Arial" font-size="14.00">&#45; add_input_by_secrets(mut self, secret_key: SecretKeyBlst, amount_secrets: AmountSecrets, decoy_inputs: Vec&lt;DecoyInput&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="4598.8" y="-139.3" font-family="Arial" font-size="14.00">&#45; add_inputs_by_secrets(mut self, secrets: Vec&lt;(SecretKeyBlst, AmountSecrets, Vec&lt;DecoyInput&gt;)&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="4598.8" y="-124.3" font-family="Arial" font-size="14.00">&#45; add_output(mut self, output: Output, owner: OwnerOnce) &#45;&gt; Self</text>
<text text-anchor="start" x="4598.8" y="-109.3" font-family="Arial" font-size="14.00">&#45; add_outputs(mut self, outputs: impl IntoIterator&lt;Item = (Output, OwnerOnce)&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="4598.8" y="-94.3" font-family="Arial" font-size="14.00">&#45; input_owners(&amp;self) &#45;&gt; Vec&lt;PublicKeyBlst&gt;</text>
<text text-anchor="start" x="4598.8" y="-79.3" font-family="Arial" font-size="14.00">&#45; inputs_amount_sum(&amp;self) &#45;&gt; Amount</text>
<text text-anchor="start" x="4598.8" y="-64.3" font-family="Arial" font-size="14.00">&#45; outputs_amount_sum(&amp;self) &#45;&gt; Amount</text>
<text text-anchor="start" x="4598.8" y="-49.3" font-family="Arial" font-size="14.00">&#45; inputs(&amp;self) &#45;&gt; &amp;Vec&lt;MlsagMaterial&gt;</text>
<text text-anchor="start" x="4598.8" y="-34.3" font-family="Arial" font-size="14.00">&#45; outputs(&amp;self) &#45;&gt; &amp;Vec&lt;Output&gt;</text>
<text text-anchor="start" x="4598.8" y="-19.3" font-family="Arial" font-size="14.00">&#45; build(self, rng: impl RngCore + rand_core::CryptoRng) &#45;&gt; Result&lt;(RingCtTransaction, Vec&lt;RevealedCommitment&gt;, RingCtMaterial, &#160;&#160;&#160;&#160;&#160;&#160;&#160;OutputOwnerMap)&gt;</text>
<polygon fill="none" stroke="black" points="4586.8,-4 4586.8,-387 5628.8,-387 5628.8,-4 4586.8,-4"/>
</a>
</g>
</g>
<!-- ndOwnerOnce&#45;&gt;ndTransactionBuilder -->
<g id="edge31" class="edge"><title>ndOwnerOnce&#45;&gt;ndTransactionBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M5482.09,-1790.83C5493.74,-1780.19 5504.15,-1768.29 5512.8,-1755 5634.93,-1567.23 5547.99,-1472.22 5512.8,-1251 5452.27,-870.542 5402.39,-778.083 5243.8,-427 5239.78,-418.108 5235.51,-409.123 5231.05,-400.122"/>
<polygon fill="black" stroke="black" points="5226.53,-391.117 5235.03,-398.036 5228.77,-395.586 5231.01,-400.055 5231.01,-400.055 5231.01,-400.055 5228.77,-395.586 5226.99,-402.073 5226.53,-391.117 5226.53,-391.117"/>
</g>
<!-- ndOwnerOnce&#45;&gt;ndDbcBuilder -->
<g id="edge32" class="edge"><title>ndOwnerOnce&#45;&gt;ndDbcBuilder</title>
<path fill="none" stroke="black" d="M5227.5,-1790.84C5224.32,-1668.74 5218.21,-1443.32 5211.8,-1251 5205.63,-1066.28 5238.63,-547.854 5098.8,-427 5054.22,-388.477 4626.31,-407.642 4569.8,-391 4500.05,-370.463 4428.81,-334.453 4368.82,-298.956"/>
<polygon fill="black" stroke="black" points="4360.06,-293.724 4370.95,-294.984 4364.35,-296.286 4368.64,-298.849 4368.64,-298.849 4368.64,-298.849 4364.35,-296.286 4366.34,-302.713 4360.06,-293.724 4360.06,-293.724"/>
</g>
<!-- ndDbc&#45;&gt;ndTransactionBuilder -->
<g id="edge33" class="edge"><title>ndDbc&#45;&gt;ndTransactionBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M4887.43,-426.809C4896.37,-417.465 4905.34,-408.097 4914.26,-398.771"/>
<polygon fill="black" stroke="black" points="4921.41,-391.302 4917.74,-401.638 4917.95,-394.914 4914.49,-398.527 4914.49,-398.527 4914.49,-398.527 4917.95,-394.914 4911.24,-395.416 4921.41,-391.302 4921.41,-391.302"/>
</g>
<!-- ndDbc&#45;&gt;ndDbcBuilder -->
<g id="edge34" class="edge"><title>ndDbc&#45;&gt;ndDbcBuilder</title>
<path fill="none" stroke="black" d="M4463.28,-426.809C4416.53,-382.947 4369.19,-338.537 4328.73,-300.574"/>
<polygon fill="black" stroke="black" points="4321.26,-293.562 4331.63,-297.122 4324.9,-296.983 4328.55,-300.404 4328.55,-300.404 4328.55,-300.404 4324.9,-296.983 4325.47,-303.686 4321.26,-293.562 4321.26,-293.562"/>
</g>
<!-- ndSpentProofContent&#45;&gt;ndSpentProofShare -->
<g id="edge35" class="edge"><title>ndSpentProofContent&#45;&gt;ndSpentProofShare</title>
<path fill="none" stroke="black" d="M2400.63,-1404.78C2363.12,-1357.19 2316.05,-1299.78 2270.8,-1251 2253.32,-1232.16 2234.44,-1212.91 2215.41,-1194.16"/>
<polygon fill="black" stroke="black" points="2215.23,-1193.98 2208.14,-1192.64 2206.66,-1185.58 2213.74,-1186.92 2215.23,-1193.98"/>
</g>
<!-- ndSpentProofContent&#45;&gt;ndSpentProof -->
<g id="edge36" class="edge"><title>ndSpentProofContent&#45;&gt;ndSpentProof</title>
<path fill="none" stroke="black" d="M2472.21,-1404.86C2470.36,-1335.26 2467.86,-1241.19 2465.9,-1167.46"/>
<polygon fill="black" stroke="black" points="2465.9,-1167.33 2461.74,-1161.44 2465.58,-1155.34 2469.74,-1161.23 2465.9,-1167.33"/>
</g>
<!-- ndSpentProofShare&#45;&gt;ndMintNode -->
<g id="edge37" class="edge"><title>ndSpentProofShare&#45;&gt;ndMintNode</title>
<path fill="none" stroke="black" d="M2069.2,-913.472C2087.17,-773.105 2136.18,-556.214 2269.8,-427 2309.52,-388.588 2338.18,-413.153 2388.8,-391 2447.77,-365.191 2509.36,-331.172 2563.2,-298.811"/>
<polygon fill="black" stroke="black" points="2571.77,-293.633 2565.54,-302.655 2567.49,-296.218 2563.21,-298.803 2563.21,-298.803 2563.21,-298.803 2567.49,-296.218 2560.88,-294.951 2571.77,-293.633 2571.77,-293.633"/>
</g>
<!-- ndSpentProofShare&#45;&gt;ndReissueRequestBuilder -->
<g id="edge38" class="edge"><title>ndSpentProofShare&#45;&gt;ndReissueRequestBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2058.8,-913.498C2058.8,-742.523 2058.8,-451.753 2058.8,-298.298"/>
<polygon fill="black" stroke="black" points="2058.8,-298.138 2054.8,-292.138 2058.8,-286.138 2062.8,-292.138 2058.8,-298.138"/>
</g>
<!-- ndSpentProofShare&#45;&gt;ndSpentBookNodeMock -->
<g id="edge39" class="edge"><title>ndSpentProofShare&#45;&gt;ndSpentBookNodeMock</title>
<path fill="none" stroke="black" d="M1871.41,-1000.36C1629.93,-938.328 1203.06,-828.668 882.333,-746.276"/>
<polygon fill="black" stroke="black" points="872.4,-743.724 883.205,-741.854 877.242,-744.968 882.085,-746.212 882.085,-746.212 882.085,-746.212 877.242,-744.968 880.965,-750.571 872.4,-743.724 872.4,-743.724"/>
</g>
<!-- ndSpentProof&#45;&gt;ndReissueRequest -->
<g id="edge40" class="edge"><title>ndSpentProof&#45;&gt;ndReissueRequest</title>
<path fill="none" stroke="black" d="M2453.62,-943.979C2446.82,-866.576 2437.8,-763.782 2432.14,-699.384"/>
<polygon fill="black" stroke="black" points="2432.11,-698.989 2427.6,-693.362 2431.06,-687.035 2435.57,-692.662 2432.11,-698.989"/>
</g>
<!-- ndSpentProof&#45;&gt;ndReissueShare -->
<g id="edge41" class="edge"><title>ndSpentProof&#45;&gt;ndReissueShare</title>
<path fill="none" stroke="black" d="M2537.75,-943.979C2591.76,-868.648 2663.03,-769.269 2709.37,-704.638"/>
<polygon fill="black" stroke="black" points="2709.59,-704.325 2709.84,-697.118 2716.59,-694.573 2716.34,-701.78 2709.59,-704.325"/>
</g>
<!-- ndSpentProof&#45;&gt;ndDbc -->
<g id="edge42" class="edge"><title>ndSpentProof&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M2572.16,-943.963C2602.09,-920.634 2635.95,-898.533 2670.8,-884 2689.18,-876.332 3687.01,-757.059 4271.75,-687.636"/>
<polygon fill="black" stroke="black" points="4271.85,-687.625 4277.34,-682.945 4283.77,-686.21 4278.28,-690.889 4271.85,-687.625"/>
</g>
<!-- ndAmountSecrets&#45;&gt;ndDbc -->
<g id="edge43" class="edge"><title>ndAmountSecrets&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M4417.56,-883.805C4428.08,-874.217 4438.74,-864.506 4449.44,-854.762"/>
<polygon fill="black" stroke="black" points="4456.84,-848.012 4452.48,-858.073 4453.15,-851.379 4449.45,-854.747 4449.45,-854.747 4449.45,-854.747 4453.15,-851.379 4446.42,-851.42 4456.84,-848.012 4456.84,-848.012"/>
</g>
<!-- ndAmountSecrets&#45;&gt;ndTransactionBuilder -->
<g id="edge44" class="edge"><title>ndAmountSecrets&#45;&gt;ndTransactionBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M4241.69,-883.734C4247.77,-705.241 4259.26,-443.505 4274.8,-427 4318.12,-380.98 4489.87,-404.108 4568.5,-390.903"/>
<polygon fill="black" stroke="black" points="4578.51,-388.895 4569.59,-395.274 4573.61,-389.878 4568.7,-390.862 4568.7,-390.862 4568.7,-390.862 4573.61,-389.878 4567.82,-386.45 4578.51,-388.895 4578.51,-388.895"/>
</g>
<!-- ndAmountSecrets&#45;&gt;ndDbcBuilder -->
<g id="edge45" class="edge"><title>ndAmountSecrets&#45;&gt;ndDbcBuilder</title>
<path fill="none" stroke="black" d="M4233.13,-883.973C4229.31,-712.878 4223.45,-450.019 4220.19,-303.882"/>
<polygon fill="black" stroke="black" points="4219.96,-293.565 4224.68,-303.462 4220.07,-298.564 4220.18,-303.563 4220.18,-303.563 4220.18,-303.563 4220.07,-298.564 4215.68,-303.663 4219.96,-293.565 4219.96,-293.565"/>
</g>
</g>
</svg>
