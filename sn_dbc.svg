<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.38.0 (20140413.2041)
 -->
<!-- Title: ml Pages: 1 -->
<svg width="5974pt" height="2167pt"
 viewBox="0.00 0.00 5974.19 2167.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2163)">
<title>ml</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-2163 5970.19,-2163 5970.19,4 -4,4"/>
<!-- ndHash -->
<g id="node1" class="node"><title>ndHash</title>
<g id="a_node1_0"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/lib.rs#:~:text=struct%20Hash" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2099.19,-2109.5 2099.19,-2146.5 2454.19,-2146.5 2454.19,-2109.5 2099.19,-2109.5"/>
<polygon fill="none" stroke="black" points="2099.19,-2109.5 2099.19,-2146.5 2454.19,-2146.5 2454.19,-2109.5 2099.19,-2109.5"/>
<text text-anchor="start" x="2258.69" y="-2125.3" font-family="Arial" font-weight="bold" font-size="14.00">Hash</text>
<polygon fill="white" stroke="none" points="2099.19,-2072.5 2099.19,-2109.5 2454.19,-2109.5 2454.19,-2072.5 2099.19,-2072.5"/>
<polygon fill="none" stroke="black" points="2099.19,-2072.5 2099.19,-2109.5 2454.19,-2109.5 2454.19,-2072.5 2099.19,-2072.5"/>
<text text-anchor="start" x="2110.19" y="-2087.3" font-family="Arial" font-size="14.00">&#45; [u8; 32]</text>
<polygon fill="white" stroke="none" points="2099.19,-1990.5 2099.19,-2072.5 2454.19,-2072.5 2454.19,-1990.5 2099.19,-1990.5"/>
<polygon fill="none" stroke="black" points="2099.19,-1990.5 2099.19,-2072.5 2454.19,-2072.5 2454.19,-1990.5 2099.19,-1990.5"/>
<text text-anchor="start" x="2110.19" y="-2050.3" font-family="Arial" font-size="14.00">&#45; hash(input: &amp;[u8]) &#45;&gt; Self</text>
<text text-anchor="start" x="2110.19" y="-2035.3" font-family="Arial" font-size="14.00">&#45; from(val: [u8; 32]) &#45;&gt; Hash</text>
<text text-anchor="start" x="2110.19" y="-2020.3" font-family="Arial" font-size="14.00">&#45; fmt(&amp;self, f: &amp;mut fmt::Formatter&lt;&#39;_&gt;) &#45;&gt; fmt::Result</text>
<text text-anchor="start" x="2110.19" y="-2005.3" font-family="Arial" font-size="14.00">&#45; as_ref(&amp;self) &#45;&gt; &amp;[u8]</text>
<polygon fill="none" stroke="black" points="2097.69,-1989.5 2097.69,-2147.5 2454.69,-2147.5 2454.69,-1989.5 2097.69,-1989.5"/>
</a>
</g>
</g>
<!-- ndSimpleKeyManager -->
<g id="node6" class="node"><title>ndSimpleKeyManager</title>
<g id="a_node6_1"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/key_manager.rs#:~:text=struct%20SimpleKeyManager" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="950.193,-1322.5 950.193,-1359.5 1518.19,-1359.5 1518.19,-1322.5 950.193,-1322.5"/>
<polygon fill="none" stroke="black" points="950.193,-1322.5 950.193,-1359.5 1518.19,-1359.5 1518.19,-1322.5 950.193,-1322.5"/>
<text text-anchor="start" x="1166.19" y="-1338.3" font-family="Arial" font-weight="bold" font-size="14.00">SimpleKeyManager</text>
<polygon fill="white" stroke="none" points="950.193,-1270.5 950.193,-1322.5 1518.19,-1322.5 1518.19,-1270.5 950.193,-1270.5"/>
<polygon fill="none" stroke="black" points="950.193,-1270.5 950.193,-1322.5 1518.19,-1322.5 1518.19,-1270.5 950.193,-1270.5"/>
<text text-anchor="start" x="961.193" y="-1300.3" font-family="Arial" font-size="14.00">&#45; signer: SimpleSigner</text>
<text text-anchor="start" x="961.193" y="-1285.3" font-family="Arial" font-size="14.00">&#45; cache: Keys</text>
<polygon fill="white" stroke="none" points="950.193,-1143.5 950.193,-1270.5 1518.19,-1270.5 1518.19,-1143.5 950.193,-1143.5"/>
<polygon fill="none" stroke="black" points="950.193,-1143.5 950.193,-1270.5 1518.19,-1270.5 1518.19,-1143.5 950.193,-1143.5"/>
<text text-anchor="start" x="961.193" y="-1248.3" font-family="Arial" font-size="14.00">&#45; from(signer: SimpleSigner) &#45;&gt; Self</text>
<text text-anchor="start" x="961.193" y="-1233.3" font-family="Arial" font-size="14.00">&#45; add_known_key(&amp;mut self, key: PublicKey) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="961.193" y="-1218.3" font-family="Arial" font-size="14.00">&#45; public_key_set(&amp;self) &#45;&gt; Result&lt;PublicKeySet&gt;</text>
<text text-anchor="start" x="961.193" y="-1203.3" font-family="Arial" font-size="14.00">&#45; sign_with_child_key(&amp;self, index: &amp;[u8], tx_hash: &amp;Hash) &#45;&gt; Result&lt;NodeSignature&gt;</text>
<text text-anchor="start" x="961.193" y="-1188.3" font-family="Arial" font-size="14.00">&#45; sign(&amp;self, msg_hash: &amp;Hash) &#45;&gt; Result&lt;NodeSignature&gt;</text>
<text text-anchor="start" x="961.193" y="-1173.3" font-family="Arial" font-size="14.00">&#45; verify(&amp;self, msg_hash: &amp;Hash, key: &amp;PublicKey, signature: &amp;Signature) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="961.193" y="-1158.3" font-family="Arial" font-size="14.00">&#45; verify_known_key(&amp;self, key: &amp;PublicKey) &#45;&gt; Result&lt;()&gt;</text>
<polygon fill="none" stroke="black" points="949.193,-1142.5 949.193,-1360.5 1519.19,-1360.5 1519.19,-1142.5 949.193,-1142.5"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSimpleKeyManager -->
<g id="edge1" class="edge"><title>ndHash&#45;&gt;ndSimpleKeyManager</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2089.53,-2036.9C1983.61,-2015.45 1865.65,-1983.26 1832.19,-1942 1761.49,-1854.81 1874.78,-1520.07 1798.19,-1438 1758.1,-1395.03 1592.37,-1419.26 1536.19,-1402 1506.92,-1393.01 1477,-1381.44 1447.92,-1368.73"/>
<polygon fill="black" stroke="black" points="1438.5,-1364.57 1449.47,-1364.5 1443.08,-1366.59 1447.65,-1368.62 1447.65,-1368.62 1447.65,-1368.62 1443.08,-1366.59 1445.83,-1372.73 1438.5,-1364.57 1438.5,-1364.57"/>
</g>
<!-- ndKeys -->
<g id="node7" class="node"><title>ndKeys</title>
<g id="a_node7_2"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/key_manager.rs#:~:text=struct%20Keys" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="1290.19,-1731 1290.19,-1768 1781.19,-1768 1781.19,-1731 1290.19,-1731"/>
<polygon fill="none" stroke="black" points="1290.19,-1731 1290.19,-1768 1781.19,-1768 1781.19,-1731 1290.19,-1731"/>
<text text-anchor="start" x="1517.69" y="-1746.8" font-family="Arial" font-weight="bold" font-size="14.00">Keys</text>
<polygon fill="white" stroke="none" points="1290.19,-1694 1290.19,-1731 1781.19,-1731 1781.19,-1694 1290.19,-1694"/>
<polygon fill="none" stroke="black" points="1290.19,-1694 1290.19,-1731 1781.19,-1731 1781.19,-1694 1290.19,-1694"/>
<text text-anchor="start" x="1301.19" y="-1708.8" font-family="Arial" font-size="14.00">&#45; HashSet&lt;PublicKey&gt;</text>
<polygon fill="white" stroke="none" points="1290.19,-1612 1290.19,-1694 1781.19,-1694 1781.19,-1612 1290.19,-1612"/>
<polygon fill="none" stroke="black" points="1290.19,-1612 1290.19,-1694 1781.19,-1694 1781.19,-1612 1290.19,-1612"/>
<text text-anchor="start" x="1301.19" y="-1671.8" font-family="Arial" font-size="14.00">&#45; from(keys: Vec&lt;PublicKey&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="1301.19" y="-1656.8" font-family="Arial" font-size="14.00">&#45; add_known_key(&amp;mut self, key: PublicKey)</text>
<text text-anchor="start" x="1301.19" y="-1641.8" font-family="Arial" font-size="14.00">&#45; verify(&amp;self, msg: &amp;Hash, key: &amp;PublicKey, sig: &amp;Signature) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="1301.19" y="-1626.8" font-family="Arial" font-size="14.00">&#45; verify_known_key(&amp;self, key: &amp;PublicKey) &#45;&gt; Result&lt;()&gt;</text>
<polygon fill="none" stroke="black" points="1288.69,-1611 1288.69,-1769 1781.69,-1769 1781.69,-1611 1288.69,-1611"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndKeys -->
<g id="edge2" class="edge"><title>ndHash&#45;&gt;ndKeys</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2089.49,-2039.76C1999.32,-2021.01 1891.93,-1990.54 1804.19,-1942 1729.86,-1900.88 1660.16,-1834.74 1610.34,-1780.68"/>
<polygon fill="black" stroke="black" points="1603.45,-1773.13 1613.51,-1777.48 1606.82,-1776.82 1610.19,-1780.51 1610.19,-1780.51 1610.19,-1780.51 1606.82,-1776.82 1606.87,-1783.55 1603.45,-1773.13 1603.45,-1773.13"/>
</g>
<!-- ndDbcContent -->
<g id="node11" class="node"><title>ndDbcContent</title>
<g id="a_node11_3"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/dbc_content.rs#:~:text=struct%20DbcContent" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="4668.19,-1314.5 4668.19,-1351.5 5165.19,-1351.5 5165.19,-1314.5 4668.19,-1314.5"/>
<polygon fill="none" stroke="black" points="4668.19,-1314.5 4668.19,-1351.5 5165.19,-1351.5 5165.19,-1314.5 4668.19,-1314.5"/>
<text text-anchor="start" x="4875.19" y="-1330.3" font-family="Arial" font-weight="bold" font-size="14.00">DbcContent</text>
<polygon fill="white" stroke="none" points="4668.19,-1247.5 4668.19,-1314.5 5165.19,-1314.5 5165.19,-1247.5 4668.19,-1247.5"/>
<polygon fill="none" stroke="black" points="4668.19,-1247.5 4668.19,-1314.5 5165.19,-1314.5 5165.19,-1247.5 4668.19,-1247.5"/>
<text text-anchor="start" x="4679.19" y="-1292.3" font-family="Arial" font-size="14.00">+ owner_base: Owner</text>
<text text-anchor="start" x="4679.19" y="-1277.3" font-family="Arial" font-size="14.00">+ owner_derivation_cipher: Ciphertext</text>
<text text-anchor="start" x="4679.19" y="-1262.3" font-family="Arial" font-size="14.00">+ amount_secrets_cipher: Ciphertext</text>
<polygon fill="white" stroke="none" points="4668.19,-1150.5 4668.19,-1247.5 5165.19,-1247.5 5165.19,-1150.5 4668.19,-1150.5"/>
<polygon fill="none" stroke="black" points="4668.19,-1150.5 4668.19,-1247.5 5165.19,-1247.5 5165.19,-1150.5 4668.19,-1150.5"/>
<text text-anchor="start" x="4679.19" y="-1225.3" font-family="Arial" font-size="14.00">&#45; from(params: (Owner, Ciphertext, Ciphertext)) &#45;&gt; Self</text>
<text text-anchor="start" x="4679.19" y="-1210.3" font-family="Arial" font-size="14.00">&#45; from(params: (Owner, DerivationIndex, AmountSecrets)) &#45;&gt; Self</text>
<text text-anchor="start" x="4679.19" y="-1195.3" font-family="Arial" font-size="14.00">&#45; derivation_index(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;DerivationIndex&gt;</text>
<text text-anchor="start" x="4679.19" y="-1180.3" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="4679.19" y="-1165.3" font-family="Arial" font-size="14.00">&#45; hash(&amp;self) &#45;&gt; Hash</text>
<polygon fill="none" stroke="black" points="4666.69,-1150 4666.69,-1353 5165.69,-1353 5165.69,-1150 4666.69,-1150"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndDbcContent -->
<g id="edge3" class="edge"><title>ndHash&#45;&gt;ndDbcContent</title>
<path fill="none" stroke="black" d="M2462.75,-2066.59C2957.85,-2062.81 4278.71,-2043.23 4446.19,-1942 4669.88,-1806.81 4593.71,-1648.09 4749.19,-1438 4767.34,-1413.48 4788.13,-1388.43 4808.74,-1364.98"/>
<polygon fill="black" stroke="black" points="4815.42,-1357.43 4812.16,-1367.9 4812.11,-1361.17 4808.79,-1364.92 4808.79,-1364.92 4808.79,-1364.92 4812.11,-1361.17 4805.42,-1361.94 4815.42,-1357.43 4815.42,-1357.43"/>
</g>
<!-- ndPublicKeyBlstMappable -->
<g id="node13" class="node"><title>ndPublicKeyBlstMappable</title>
<g id="a_node13_4"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/blst.rs#:~:text=struct%20PublicKeyBlstMappable" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="1555.19,-1307.5 1555.19,-1344.5 1884.19,-1344.5 1884.19,-1307.5 1555.19,-1307.5"/>
<polygon fill="none" stroke="black" points="1555.19,-1307.5 1555.19,-1344.5 1884.19,-1344.5 1884.19,-1307.5 1555.19,-1307.5"/>
<text text-anchor="start" x="1636.69" y="-1323.3" font-family="Arial" font-weight="bold" font-size="14.00">PublicKeyBlstMappable</text>
<polygon fill="white" stroke="none" points="1555.19,-1270.5 1555.19,-1307.5 1884.19,-1307.5 1884.19,-1270.5 1555.19,-1270.5"/>
<polygon fill="none" stroke="black" points="1555.19,-1270.5 1555.19,-1307.5 1884.19,-1307.5 1884.19,-1270.5 1555.19,-1270.5"/>
<text text-anchor="start" x="1566.19" y="-1285.3" font-family="Arial" font-size="14.00">&#45; G1Affine</text>
<polygon fill="white" stroke="none" points="1555.19,-1157.5 1555.19,-1270.5 1884.19,-1270.5 1884.19,-1157.5 1555.19,-1157.5"/>
<polygon fill="none" stroke="black" points="1555.19,-1157.5 1555.19,-1270.5 1884.19,-1270.5 1884.19,-1157.5 1555.19,-1157.5"/>
<text text-anchor="start" x="1566.19" y="-1248.3" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; [u8; 48]</text>
<text text-anchor="start" x="1566.19" y="-1233.3" font-family="Arial" font-size="14.00">&#45; random(rng: &amp;mut impl rand8::RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="1566.19" y="-1201.5" font-family="Arial" font-size="14.00">&#45; cmp(&amp;self, other: &amp;Self) &#45;&gt; Ordering</text>
<text text-anchor="start" x="1566.19" y="-1186.5" font-family="Arial" font-size="14.00">&#45; hash(&amp;self, state: &amp;mut H)</text>
<text text-anchor="start" x="1566.19" y="-1171.5" font-family="Arial" font-size="14.00">&#45; from(k: G1Affine) &#45;&gt; Self</text>
<polygon fill="none" stroke="black" points="1553.69,-1157 1553.69,-1346 1884.69,-1346 1884.69,-1157 1553.69,-1157"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndPublicKeyBlstMappable -->
<g id="edge4" class="edge"><title>ndHash&#45;&gt;ndPublicKeyBlstMappable</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2089.69,-2054.37C2011.18,-2038.83 1926.15,-2006.82 1874.19,-1942 1803.9,-1854.3 1867.03,-1544.85 1832.19,-1438 1823.41,-1411.06 1810.05,-1383.95 1795.55,-1359.1"/>
<polygon fill="none" stroke="black" points="1798.5,-1357.21 1790.38,-1350.41 1792.48,-1360.79 1798.5,-1357.21"/>
</g>
<!-- ndSpentProofContent -->
<g id="node21" class="node"><title>ndSpentProofContent</title>
<g id="a_node21_5"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/spent_proof.rs#:~:text=struct%20SpentProofContent" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2313.19,-1746 2313.19,-1783 2676.19,-1783 2676.19,-1746 2313.19,-1746"/>
<polygon fill="none" stroke="black" points="2313.19,-1746 2313.19,-1783 2676.19,-1783 2676.19,-1746 2313.19,-1746"/>
<text text-anchor="start" x="2427.69" y="-1761.8" font-family="Arial" font-weight="bold" font-size="14.00">SpentProofContent</text>
<polygon fill="white" stroke="none" points="2313.19,-1679 2313.19,-1746 2676.19,-1746 2676.19,-1679 2313.19,-1679"/>
<polygon fill="none" stroke="black" points="2313.19,-1679 2313.19,-1746 2676.19,-1746 2676.19,-1679 2313.19,-1679"/>
<text text-anchor="start" x="2324.19" y="-1723.8" font-family="Arial" font-size="14.00">+ key_image: KeyImage</text>
<text text-anchor="start" x="2324.19" y="-1708.8" font-family="Arial" font-size="14.00">+ transaction_hash: Hash</text>
<text text-anchor="start" x="2324.19" y="-1693.8" font-family="Arial" font-size="14.00">+ public_commitments: Vec&lt;Commitment&gt;</text>
<polygon fill="white" stroke="none" points="2313.19,-1597 2313.19,-1679 2676.19,-1679 2676.19,-1597 2313.19,-1597"/>
<polygon fill="none" stroke="black" points="2313.19,-1597 2313.19,-1679 2676.19,-1679 2676.19,-1597 2313.19,-1597"/>
<text text-anchor="start" x="2324.19" y="-1656.8" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="2324.19" y="-1641.8" font-family="Arial" font-size="14.00">&#45; hash(&amp;self) &#45;&gt; Hash</text>
<text text-anchor="start" x="2324.19" y="-1626.8" font-family="Arial" font-size="14.00">&#45; partial_cmp(&amp;self, other: &amp;Self) &#45;&gt; Option&lt;Ordering&gt;</text>
<text text-anchor="start" x="2324.19" y="-1611.8" font-family="Arial" font-size="14.00">&#45; cmp(&amp;self, other: &amp;Self) &#45;&gt; Ordering</text>
<polygon fill="none" stroke="black" points="2311.69,-1596 2311.69,-1784 2676.69,-1784 2676.69,-1596 2311.69,-1596"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSpentProofContent -->
<g id="edge5" class="edge"><title>ndHash&#45;&gt;ndSpentProofContent</title>
<path fill="none" stroke="black" d="M2323.76,-1985.34C2355.44,-1930.64 2397.39,-1858.19 2431.74,-1798.86"/>
<polygon fill="black" stroke="black" points="2431.83,-1798.71 2431.37,-1791.51 2437.84,-1788.32 2438.3,-1795.52 2431.83,-1798.71"/>
</g>
<!-- ndSpentProofShare -->
<g id="node22" class="node"><title>ndSpentProofShare</title>
<g id="a_node22_6"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/spent_proof.rs#:~:text=struct%20SpentProofShare" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="1919.19,-1345.5 1919.19,-1382.5 2275.19,-1382.5 2275.19,-1345.5 1919.19,-1345.5"/>
<polygon fill="none" stroke="black" points="1919.19,-1345.5 1919.19,-1382.5 2275.19,-1382.5 2275.19,-1345.5 1919.19,-1345.5"/>
<text text-anchor="start" x="2036.69" y="-1361.3" font-family="Arial" font-weight="bold" font-size="14.00">SpentProofShare</text>
<polygon fill="white" stroke="none" points="1919.19,-1278.5 1919.19,-1345.5 2275.19,-1345.5 2275.19,-1278.5 1919.19,-1278.5"/>
<polygon fill="none" stroke="black" points="1919.19,-1278.5 1919.19,-1345.5 2275.19,-1345.5 2275.19,-1278.5 1919.19,-1278.5"/>
<text text-anchor="start" x="1930.19" y="-1323.3" font-family="Arial" font-size="14.00">+ content: SpentProofContent</text>
<text text-anchor="start" x="1930.19" y="-1308.3" font-family="Arial" font-size="14.00">+ spentbook_pks: PublicKeySet</text>
<text text-anchor="start" x="1930.19" y="-1293.3" font-family="Arial" font-size="14.00">+ spentbook_sig_share: NodeSignature</text>
<polygon fill="white" stroke="none" points="1919.19,-1120.5 1919.19,-1278.5 2275.19,-1278.5 2275.19,-1120.5 1919.19,-1120.5"/>
<polygon fill="none" stroke="black" points="1919.19,-1120.5 1919.19,-1278.5 2275.19,-1278.5 2275.19,-1120.5 1919.19,-1120.5"/>
<text text-anchor="start" x="1930.19" y="-1256.3" font-family="Arial" font-size="14.00">&#45; eq(&amp;self, other: &amp;Self) &#45;&gt; bool</text>
<text text-anchor="start" x="1930.19" y="-1224.5" font-family="Arial" font-size="14.00">&#45; hash(&amp;self, state: &amp;mut H)</text>
<text text-anchor="start" x="1930.19" y="-1209.5" font-family="Arial" font-size="14.00">&#45; key_image(&amp;self) &#45;&gt; &amp;KeyImage</text>
<text text-anchor="start" x="1930.19" y="-1194.5" font-family="Arial" font-size="14.00">&#45; transaction_hash(&amp;self) &#45;&gt; Hash</text>
<text text-anchor="start" x="1930.19" y="-1179.5" font-family="Arial" font-size="14.00">&#45; public_commitments(&amp;self) &#45;&gt; &amp;Vec&lt;Commitment&gt;</text>
<text text-anchor="start" x="1930.19" y="-1164.5" font-family="Arial" font-size="14.00">&#45; spentbook_sig_share(&amp;self) &#45;&gt; &amp;NodeSignature</text>
<text text-anchor="start" x="1930.19" y="-1149.5" font-family="Arial" font-size="14.00">&#45; spentbook_pks(&amp;self) &#45;&gt; &amp;PublicKeySet</text>
<text text-anchor="start" x="1930.19" y="-1134.5" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<polygon fill="none" stroke="black" points="1918.19,-1119.5 1918.19,-1383.5 2276.19,-1383.5 2276.19,-1119.5 1918.19,-1119.5"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSpentProofShare -->
<g id="edge6" class="edge"><title>ndHash&#45;&gt;ndSpentProofShare</title>
<path fill="none" stroke="black" d="M2280.45,-1985.47C2286.98,-1838.23 2295.07,-1535.38 2257.19,-1438 2251.63,-1423.69 2244.45,-1409.73 2236.23,-1396.31"/>
<polygon fill="black" stroke="black" points="2230.68,-1387.56 2239.84,-1393.6 2233.36,-1391.79 2236.04,-1396.01 2236.04,-1396.01 2236.04,-1396.01 2233.36,-1391.79 2232.24,-1398.42 2230.68,-1387.56 2230.68,-1387.56"/>
</g>
<!-- ndSpentProof -->
<g id="node23" class="node"><title>ndSpentProof</title>
<g id="a_node23_7"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/spent_proof.rs#:~:text=struct%20SpentProof" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2311.19,-1314.5 2311.19,-1351.5 2677.19,-1351.5 2677.19,-1314.5 2311.19,-1314.5"/>
<polygon fill="none" stroke="black" points="2311.19,-1314.5 2311.19,-1351.5 2677.19,-1351.5 2677.19,-1314.5 2311.19,-1314.5"/>
<text text-anchor="start" x="2454.69" y="-1330.3" font-family="Arial" font-weight="bold" font-size="14.00">SpentProof</text>
<polygon fill="white" stroke="none" points="2311.19,-1247.5 2311.19,-1314.5 2677.19,-1314.5 2677.19,-1247.5 2311.19,-1247.5"/>
<polygon fill="none" stroke="black" points="2311.19,-1247.5 2311.19,-1314.5 2677.19,-1314.5 2677.19,-1247.5 2311.19,-1247.5"/>
<text text-anchor="start" x="2322.19" y="-1292.3" font-family="Arial" font-size="14.00">+ content: SpentProofContent</text>
<text text-anchor="start" x="2322.19" y="-1277.3" font-family="Arial" font-size="14.00">+ spentbook_pub_key: PublicKey</text>
<text text-anchor="start" x="2322.19" y="-1262.3" font-family="Arial" font-size="14.00">+ spentbook_sig: Signature</text>
<polygon fill="white" stroke="none" points="2311.19,-1150.5 2311.19,-1247.5 2677.19,-1247.5 2677.19,-1150.5 2311.19,-1150.5"/>
<polygon fill="none" stroke="black" points="2311.19,-1150.5 2311.19,-1247.5 2677.19,-1247.5 2677.19,-1150.5 2311.19,-1150.5"/>
<text text-anchor="start" x="2322.19" y="-1225.3" font-family="Arial" font-size="14.00">&#45; key_image(&amp;self) &#45;&gt; &amp;KeyImage</text>
<text text-anchor="start" x="2322.19" y="-1210.3" font-family="Arial" font-size="14.00">&#45; transaction_hash(&amp;self) &#45;&gt; Hash</text>
<text text-anchor="start" x="2322.19" y="-1195.3" font-family="Arial" font-size="14.00">&#45; public_commitments(&amp;self) &#45;&gt; &amp;Vec&lt;Commitment&gt;</text>
<text text-anchor="start" x="2322.19" y="-1180.3" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="2322.19" y="-1165.3" font-family="Arial" font-size="14.00">&#45; verify(&amp;self, tx_hash: Hash, verifier: &amp;K) &#45;&gt; Result&lt;()&gt;</text>
<polygon fill="none" stroke="black" points="2310.19,-1150 2310.19,-1353 2678.19,-1353 2678.19,-1150 2310.19,-1150"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSpentProof -->
<g id="edge7" class="edge"><title>ndHash&#45;&gt;ndSpentProof</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2462.76,-2033.94C2559.87,-2012.27 2664.3,-1980.87 2693.19,-1942 2826.83,-1762.23 2782.53,-1643.41 2693.19,-1438 2681.56,-1411.25 2663.95,-1386.61 2643.93,-1364.61"/>
<polygon fill="black" stroke="black" points="2637.06,-1357.26 2647.17,-1361.49 2640.47,-1360.91 2643.89,-1364.56 2643.89,-1364.56 2643.89,-1364.56 2640.47,-1360.91 2640.6,-1367.64 2637.06,-1357.26 2637.06,-1357.26"/>
</g>
<!-- ndSpentBookNodeMock -->
<g id="node25" class="node"><title>ndSpentBookNodeMock</title>
<g id="a_node25_8"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/spentbook.rs#:~:text=struct%20SpentBookNodeMock" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="834.193,-955 834.193,-992 1635.19,-992 1635.19,-955 834.193,-955"/>
<polygon fill="none" stroke="black" points="834.193,-955 834.193,-992 1635.19,-992 1635.19,-955 834.193,-955"/>
<text text-anchor="start" x="1158.69" y="-970.8" font-family="Arial" font-weight="bold" font-size="14.00">SpentBookNodeMock</text>
<polygon fill="white" stroke="none" points="834.193,-858 834.193,-955 1635.19,-955 1635.19,-858 834.193,-858"/>
<polygon fill="none" stroke="black" points="834.193,-858 834.193,-955 1635.19,-955 1635.19,-858 834.193,-858"/>
<text text-anchor="start" x="845.193" y="-932.8" font-family="Arial" font-size="14.00">+ key_manager: SimpleKeyManager</text>
<text text-anchor="start" x="845.193" y="-917.8" font-family="Arial" font-size="14.00">+ transactions: HashMap&lt;Hash, RingCtTransaction&gt;</text>
<text text-anchor="start" x="845.193" y="-902.8" font-family="Arial" font-size="14.00">+ key_images: BTreeMap&lt;KeyImage, Hash&gt;</text>
<text text-anchor="start" x="845.193" y="-887.8" font-family="Arial" font-size="14.00">+ outputs: BTreeMap&lt;PublicKeyBlstMappable, OutputProof&gt;</text>
<text text-anchor="start" x="845.193" y="-872.8" font-family="Arial" font-size="14.00">+ genesis: (KeyImage, Commitment)</text>
<polygon fill="white" stroke="none" points="834.193,-731 834.193,-858 1635.19,-858 1635.19,-731 834.193,-731"/>
<polygon fill="none" stroke="black" points="834.193,-731 834.193,-858 1635.19,-858 1635.19,-731 834.193,-731"/>
<text text-anchor="start" x="845.193" y="-835.8" font-family="Arial" font-size="14.00">&#45; from(key_manager: SimpleKeyManager) &#45;&gt; Self</text>
<text text-anchor="start" x="845.193" y="-820.8" font-family="Arial" font-size="14.00">&#45; iter(&amp;self) &#45;&gt; impl Iterator&lt;Item = (&amp;KeyImage, &amp;RingCtTransaction)&gt; + &#39;_</text>
<text text-anchor="start" x="845.193" y="-805.8" font-family="Arial" font-size="14.00">&#45; is_spent(&amp;self, key_image: &amp;KeyImage) &#45;&gt; bool</text>
<text text-anchor="start" x="845.193" y="-790.8" font-family="Arial" font-size="14.00">&#45; log_spent(&amp;mut self, key_image: KeyImage, tx: RingCtTransaction) &#45;&gt; Result&lt;SpentProofShare&gt;</text>
<text text-anchor="start" x="845.193" y="-775.8" font-family="Arial" font-size="14.00">&#45; log_spent_and_skip_tx_verification(&amp;mut self, key_image: KeyImage, tx: RingCtTransaction) &#45;&gt; Result&lt;SpentProofShare&gt;</text>
<text text-anchor="start" x="845.193" y="-760.8" font-family="Arial" font-size="14.00">&#45; log_spent_worker(&amp;mut self, key_image: KeyImage, tx: RingCtTransaction, verify_tx: bool) &#45;&gt; Result&lt;SpentProofShare&gt;</text>
<text text-anchor="start" x="845.193" y="-745.8" font-family="Arial" font-size="14.00">&#45; random_decoys(&amp;self, target_num: usize, rng: &amp;mut impl rand8::RngCore) &#45;&gt; Vec&lt;DecoyInput&gt;</text>
<polygon fill="none" stroke="black" points="832.693,-730.5 832.693,-993.5 1635.69,-993.5 1635.69,-730.5 832.693,-730.5"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSpentBookNodeMock -->
<g id="edge8" class="edge"><title>ndHash&#45;&gt;ndSpentBookNodeMock</title>
<path fill="none" stroke="black" d="M2089.4,-2063.62C1574.29,-2052.03 167.066,-2013.9 99.1927,-1942 -54.5738,-1779.11 -9.13298,-1634.07 99.1927,-1438 243.988,-1175.93 553.649,-1030.18 812.995,-951.042"/>
<polygon fill="black" stroke="black" points="813.041,-951.028 817.627,-945.463 824.528,-947.556 819.942,-953.121 813.041,-951.028"/>
</g>
<!-- ndTransactionVerifier -->
<g id="node26" class="node"><title>ndTransactionVerifier</title>
<g id="a_node26_9"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/verification.rs#:~:text=struct%20TransactionVerifier" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2713.19,-1266.5 2713.19,-1303.5 3865.19,-1303.5 3865.19,-1266.5 2713.19,-1266.5"/>
<polygon fill="none" stroke="black" points="2713.19,-1266.5 2713.19,-1303.5 3865.19,-1303.5 3865.19,-1266.5 2713.19,-1266.5"/>
<text text-anchor="start" x="3222.69" y="-1282.3" font-family="Arial" font-weight="bold" font-size="14.00">TransactionVerifier</text>
<polygon fill="white" stroke="none" points="2713.19,-1199.5 2713.19,-1266.5 3865.19,-1266.5 3865.19,-1199.5 2713.19,-1199.5"/>
<polygon fill="none" stroke="black" points="2713.19,-1199.5 2713.19,-1266.5 3865.19,-1266.5 3865.19,-1199.5 2713.19,-1199.5"/>
<text text-anchor="start" x="2724.19" y="-1244.3" font-family="Arial" font-size="14.00">&#45; verify(mint_verifier: &amp;K, transaction: &amp;RingCtTransaction, mint_sigs: &amp;BTreeMap&lt;KeyImage, (PublicKey, Signature)&gt;, spent_proofs: &amp;BTreeSet&lt;SpentProof&gt;) &#45;&gt; Result&lt;(), Error&gt;</text>
<text text-anchor="start" x="2724.19" y="-1229.3" font-family="Arial" font-size="14.00">&#45; verify_without_sigs(mint_verifier: &amp;K, transaction: &amp;RingCtTransaction, spent_proofs: &amp;BTreeSet&lt;SpentProof&gt;) &#45;&gt; Result&lt;(), Error&gt;</text>
<text text-anchor="start" x="2724.19" y="-1214.3" font-family="Arial" font-size="14.00">&#45; verify_without_sigs_internal(mint_verifier: &amp;K, transaction: &amp;RingCtTransaction, transaction_hash: Hash, spent_proofs: &amp;BTreeSet&lt;SpentProof&gt;) &#45;&gt; Result&lt;(), Error&gt;</text>
<polygon fill="none" stroke="black" points="2712.19,-1198.5 2712.19,-1304.5 3866.19,-1304.5 3866.19,-1198.5 2712.19,-1198.5"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndTransactionVerifier -->
<g id="edge9" class="edge"><title>ndHash&#45;&gt;ndTransactionVerifier</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2462.89,-2046.55C2555.21,-2029.4 2664.83,-1998.3 2750.19,-1942 3000.96,-1776.61 3185.87,-1455.43 3257.09,-1317.74"/>
<polygon fill="black" stroke="black" points="3261.81,-1308.55 3261.24,-1319.5 3259.53,-1312.99 3257.24,-1317.44 3257.24,-1317.44 3257.24,-1317.44 3259.53,-1312.99 3253.24,-1315.38 3261.81,-1308.55 3261.81,-1308.55"/>
</g>
<!-- ndError -->
<g id="node2" class="node"><title>ndError</title>
<g id="a_node2_10"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/error.rs#:~:text=enum%20Error" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="4066.19,-1900 4066.19,-1937 4428.19,-1937 4428.19,-1900 4066.19,-1900"/>
<polygon fill="none" stroke="black" points="4066.19,-1900 4066.19,-1937 4428.19,-1937 4428.19,-1900 4066.19,-1900"/>
<text text-anchor="start" x="4228.69" y="-1915.8" font-family="Arial" font-weight="bold" font-size="14.00">Error</text>
<polygon fill="white" stroke="none" points="4066.19,-1443 4066.19,-1900 4428.19,-1900 4428.19,-1443 4066.19,-1443"/>
<polygon fill="none" stroke="black" points="4066.19,-1443 4066.19,-1900 4428.19,-1900 4428.19,-1443 4066.19,-1443"/>
<text text-anchor="start" x="4077.19" y="-1877.8" font-family="Arial" font-size="14.00">Signing(String)</text>
<text text-anchor="start" x="4077.19" y="-1862.8" font-family="Arial" font-size="14.00">UnknownInput</text>
<text text-anchor="start" x="4077.19" y="-1847.8" font-family="Arial" font-size="14.00">FailedSignature</text>
<text text-anchor="start" x="4077.19" y="-1832.8" font-family="Arial" font-size="14.00">UnrecognisedAuthority</text>
<text text-anchor="start" x="4077.19" y="-1817.8" font-family="Arial" font-size="14.00">MissingSignatureForInput</text>
<text text-anchor="start" x="4077.19" y="-1802.8" font-family="Arial" font-size="14.00">InvalidSpentProofSignature(KeyImage)</text>
<text text-anchor="start" x="4077.19" y="-1787.8" font-family="Arial" font-size="14.00">InvalidTransactionHash</text>
<text text-anchor="start" x="4077.19" y="-1772.8" font-family="Arial" font-size="14.00">DbcContentNotPresentInTransactionOutput</text>
<text text-anchor="start" x="4077.19" y="-1757.8" font-family="Arial" font-size="14.00">OutputProofNotFound</text>
<text text-anchor="start" x="4077.19" y="-1742.8" font-family="Arial" font-size="14.00">PublicKeyNotUniqueAcrossOutputs</text>
<text text-anchor="start" x="4077.19" y="-1727.8" font-family="Arial" font-size="14.00">SpentProofInputMismatch</text>
<text text-anchor="start" x="4077.19" y="-1712.8" font-family="Arial" font-size="14.00">ReissueRequestPublicKeySetMismatch</text>
<text text-anchor="start" x="4077.19" y="-1697.8" font-family="Arial" font-size="14.00">ReissueRequestPublicCommitmentMismatch</text>
<text text-anchor="start" x="4077.19" y="-1682.8" font-family="Arial" font-size="14.00">ReissueRequestMissingSpentProofShare(KeyImage)</text>
<text text-anchor="start" x="4077.19" y="-1667.8" font-family="Arial" font-size="14.00">ReissueSharePublicKeySetMismatch</text>
<text text-anchor="start" x="4077.19" y="-1652.8" font-family="Arial" font-size="14.00">ReissueShareMintNodeSignaturesLenMismatch</text>
<text text-anchor="start" x="4077.19" y="-1637.8" font-family="Arial" font-size="14.00">ReissueShareMintNodeSignatureNotFoundForInput</text>
<text text-anchor="start" x="4077.19" y="-1622.8" font-family="Arial" font-size="14.00">NoReissueShares</text>
<text text-anchor="start" x="4077.19" y="-1607.8" font-family="Arial" font-size="14.00">DecryptionBySecretKeyFailed</text>
<text text-anchor="start" x="4077.19" y="-1592.8" font-family="Arial" font-size="14.00">AmountSecretsBytesInvalid</text>
<text text-anchor="start" x="4077.19" y="-1577.8" font-family="Arial" font-size="14.00">AmountCommitmentsDoNotMatch</text>
<text text-anchor="start" x="4077.19" y="-1562.8" font-family="Arial" font-size="14.00">SecretKeyUnavailable</text>
<text text-anchor="start" x="4077.19" y="-1547.8" font-family="Arial" font-size="14.00">PublicKeyNotFound</text>
<text text-anchor="start" x="4077.19" y="-1532.8" font-family="Arial" font-size="14.00">SecretKeyDoesNotMatchPublicKey</text>
<text text-anchor="start" x="4077.19" y="-1517.8" font-family="Arial" font-size="14.00">SpentbookKeyImageAlreadySpent</text>
<text text-anchor="start" x="4077.19" y="-1502.8" font-family="Arial" font-size="14.00">SpentbookRingSizeMismatch(usize, usize)</text>
<text text-anchor="start" x="4077.19" y="-1487.8" font-family="Arial" font-size="14.00">Blsttc(blsttc::error::Error)</text>
<text text-anchor="start" x="4077.19" y="-1472.8" font-family="Arial" font-size="14.00">RingCt(blst_ringct::Error)</text>
<text text-anchor="start" x="4077.19" y="-1457.8" font-family="Arial" font-size="14.00">Infallible(std::convert::Infallible)</text>
<polygon fill="none" stroke="black" points="4065.19,-1442 4065.19,-1938 4429.19,-1938 4429.19,-1442 4065.19,-1442"/>
</a>
</g>
</g>
<!-- ndDbc -->
<g id="node17" class="node"><title>ndDbc</title>
<g id="a_node17_11"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/dbc.rs#:~:text=struct%20Dbc" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="4359.19,-1023 4359.19,-1060 4901.19,-1060 4901.19,-1023 4359.19,-1023"/>
<polygon fill="none" stroke="black" points="4359.19,-1023 4359.19,-1060 4901.19,-1060 4901.19,-1023 4359.19,-1023"/>
<text text-anchor="start" x="4616.19" y="-1038.8" font-family="Arial" font-weight="bold" font-size="14.00">Dbc</text>
<polygon fill="white" stroke="none" points="4359.19,-941 4359.19,-1023 4901.19,-1023 4901.19,-941 4359.19,-941"/>
<polygon fill="none" stroke="black" points="4359.19,-941 4359.19,-1023 4901.19,-1023 4901.19,-941 4359.19,-941"/>
<text text-anchor="start" x="4370.19" y="-1000.8" font-family="Arial" font-size="14.00">+ content: DbcContent</text>
<text text-anchor="start" x="4370.19" y="-985.8" font-family="Arial" font-size="14.00">+ transaction: RingCtTransaction</text>
<text text-anchor="start" x="4370.19" y="-970.8" font-family="Arial" font-size="14.00">+ mint_sigs: BTreeMap&lt;KeyImage, (PublicKey, Signature)&gt;</text>
<text text-anchor="start" x="4370.19" y="-955.8" font-family="Arial" font-size="14.00">+ spent_proofs: BTreeSet&lt;SpentProof&gt;</text>
<polygon fill="white" stroke="none" points="4359.19,-664 4359.19,-941 4901.19,-941 4901.19,-664 4359.19,-664"/>
<polygon fill="none" stroke="black" points="4359.19,-664 4359.19,-941 4901.19,-941 4901.19,-664 4359.19,-664"/>
<text text-anchor="start" x="4370.19" y="-918.8" font-family="Arial" font-size="14.00">&#45; owner_base(&amp;self) &#45;&gt; &amp;Owner</text>
<text text-anchor="start" x="4370.19" y="-903.8" font-family="Arial" font-size="14.00">&#45; owner_once(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;Owner&gt;</text>
<text text-anchor="start" x="4370.19" y="-888.8" font-family="Arial" font-size="14.00">&#45; owner_once_bearer(&amp;self) &#45;&gt; Result&lt;Owner&gt;</text>
<text text-anchor="start" x="4370.19" y="-873.8" font-family="Arial" font-size="14.00">&#45; derivation_index(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;DerivationIndex&gt;</text>
<text text-anchor="start" x="4370.19" y="-858.8" font-family="Arial" font-size="14.00">&#45; derivation_index_bearer(&amp;self) &#45;&gt; Result&lt;DerivationIndex&gt;</text>
<text text-anchor="start" x="4370.19" y="-843.8" font-family="Arial" font-size="14.00">&#45; is_bearer(&amp;self) &#45;&gt; bool</text>
<text text-anchor="start" x="4370.19" y="-828.8" font-family="Arial" font-size="14.00">&#45; amount_secrets(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;AmountSecrets&gt;</text>
<text text-anchor="start" x="4370.19" y="-813.8" font-family="Arial" font-size="14.00">&#45; amount_secrets_bearer(&amp;self) &#45;&gt; Result&lt;AmountSecrets&gt;</text>
<text text-anchor="start" x="4370.19" y="-798.8" font-family="Arial" font-size="14.00">&#45; key_image(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;KeyImage&gt;</text>
<text text-anchor="start" x="4370.19" y="-783.8" font-family="Arial" font-size="14.00">&#45; key_image_bearer(&amp;self) &#45;&gt; Result&lt;KeyImage&gt;</text>
<text text-anchor="start" x="4370.19" y="-768.8" font-family="Arial" font-size="14.00">&#45; as_true_input(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;TrueInput&gt;</text>
<text text-anchor="start" x="4370.19" y="-753.8" font-family="Arial" font-size="14.00">&#45; as_true_input_bearer(&amp;self) &#45;&gt; Result&lt;TrueInput&gt;</text>
<text text-anchor="start" x="4370.19" y="-738.8" font-family="Arial" font-size="14.00">&#45; hash(&amp;self) &#45;&gt; [u8; 32]</text>
<text text-anchor="start" x="4370.19" y="-723.8" font-family="Arial" font-size="14.00">&#45; verify(&amp;self, base_sk: &amp;SecretKey, mint_verifier: &amp;K) &#45;&gt; Result&lt;(), Error&gt;</text>
<text text-anchor="start" x="4370.19" y="-708.8" font-family="Arial" font-size="14.00">&#45; verify_bearer(&amp;self, mint_verifier: &amp;K) &#45;&gt; Result&lt;(), Error&gt;</text>
<text text-anchor="start" x="4370.19" y="-693.8" font-family="Arial" font-size="14.00">&#45; verify_amount_matches_commitment(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="4370.19" y="-678.8" font-family="Arial" font-size="14.00">&#45; my_output_proof(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;&amp;OutputProof&gt;</text>
<polygon fill="none" stroke="black" points="4358.19,-663 4358.19,-1061 4902.19,-1061 4902.19,-663 4358.19,-663"/>
</a>
</g>
</g>
<!-- ndError&#45;&gt;ndDbc -->
<g id="edge10" class="edge"><title>ndError&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M4437.25,-1550.1C4519.78,-1487.81 4600.29,-1423.51 4611.19,-1402 4639.56,-1346.05 4643.43,-1201 4640.69,-1075.45"/>
<polygon fill="black" stroke="black" points="4640.45,-1065.3 4645.18,-1075.19 4640.57,-1070.29 4640.68,-1075.29 4640.68,-1075.29 4640.68,-1075.29 4640.57,-1070.29 4636.18,-1075.4 4640.45,-1065.3 4640.45,-1065.3"/>
</g>
<!-- ndAmountSecrets -->
<g id="node24" class="node"><title>ndAmountSecrets</title>
<g id="a_node24_12"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/amount_secrets.rs#:~:text=struct%20AmountSecrets" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="3901.19,-1359.5 3901.19,-1396.5 4593.19,-1396.5 4593.19,-1359.5 3901.19,-1359.5"/>
<polygon fill="none" stroke="black" points="3901.19,-1359.5 3901.19,-1396.5 4593.19,-1396.5 4593.19,-1359.5 3901.19,-1359.5"/>
<text text-anchor="start" x="4193.19" y="-1375.3" font-family="Arial" font-weight="bold" font-size="14.00">AmountSecrets</text>
<polygon fill="white" stroke="none" points="3901.19,-1322.5 3901.19,-1359.5 4593.19,-1359.5 4593.19,-1322.5 3901.19,-1322.5"/>
<polygon fill="none" stroke="black" points="3901.19,-1322.5 3901.19,-1359.5 4593.19,-1359.5 4593.19,-1322.5 3901.19,-1322.5"/>
<text text-anchor="start" x="3912.19" y="-1337.3" font-family="Arial" font-size="14.00">&#45; RevealedCommitment</text>
<polygon fill="white" stroke="none" points="3901.19,-1105.5 3901.19,-1322.5 4593.19,-1322.5 4593.19,-1105.5 3901.19,-1105.5"/>
<polygon fill="none" stroke="black" points="3901.19,-1105.5 3901.19,-1322.5 4593.19,-1322.5 4593.19,-1105.5 3901.19,-1105.5"/>
<text text-anchor="start" x="3912.19" y="-1300.3" font-family="Arial" font-size="14.00">&#45; amount(&amp;self) &#45;&gt; Amount</text>
<text text-anchor="start" x="3912.19" y="-1285.3" font-family="Arial" font-size="14.00">&#45; blinding_factor(&amp;self) &#45;&gt; SecretKeyBlst</text>
<text text-anchor="start" x="3912.19" y="-1270.3" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="3912.19" y="-1255.3" font-family="Arial" font-size="14.00">&#45; from_bytes(bytes: [u8; AMT_SIZE + BF_SIZE]) &#45;&gt; Self</text>
<text text-anchor="start" x="3912.19" y="-1240.3" font-family="Arial" font-size="14.00">&#45; from_bytes_ref(bytes: &amp;[u8]) &#45;&gt; Result&lt;Self, Error&gt;</text>
<text text-anchor="start" x="3912.19" y="-1225.3" font-family="Arial" font-size="14.00">&#45; from_amount(amount: Amount, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="3912.19" y="-1210.3" font-family="Arial" font-size="14.00">&#45; encrypt(&amp;self, public_key: &amp;PublicKey) &#45;&gt; Ciphertext</text>
<text text-anchor="start" x="3912.19" y="-1195.3" font-family="Arial" font-size="14.00">&#45; from(revealed_commitment: RevealedCommitment) &#45;&gt; Self</text>
<text text-anchor="start" x="3912.19" y="-1180.3" font-family="Arial" font-size="14.00">&#45; from(params: (Amount, BlindingFactor)) &#45;&gt; Self</text>
<text text-anchor="start" x="3912.19" y="-1165.3" font-family="Arial" font-size="14.00">&#45; try_from(params: (&amp;SecretKey, &amp;Ciphertext)) &#45;&gt; Result&lt;Self, Error&gt;</text>
<text text-anchor="start" x="3912.19" y="-1150.3" font-family="Arial" font-size="14.00">&#45; try_from(params: (&amp;SecretKeySet, &amp;Ciphertext)) &#45;&gt; Result&lt;Self, Error&gt;</text>
<text text-anchor="start" x="3912.19" y="-1135.3" font-family="Arial" font-size="14.00">&#45; try_from(params: (&amp;PublicKeySet, &amp;BTreeMap&lt;I, SecretKeyShare&gt;, &amp;Ciphertext)) &#45;&gt; Result&lt;Self, Error&gt;</text>
<text text-anchor="start" x="3912.19" y="-1120.3" font-family="Arial" font-size="14.00">&#45; try_from(params: (&amp;PublicKeySet, &amp;BTreeMap&lt;I, DecryptionShare&gt;, &amp;Ciphertext)) &#45;&gt; Result&lt;Self, Error&gt;</text>
<polygon fill="none" stroke="black" points="3900.19,-1105 3900.19,-1398 4594.19,-1398 4594.19,-1105 3900.19,-1105"/>
</a>
</g>
</g>
<!-- ndError&#45;&gt;ndAmountSecrets -->
<g id="edge11" class="edge"><title>ndError&#45;&gt;ndAmountSecrets</title>
<path fill="none" stroke="black" d="M4247.19,-1437.93C4247.19,-1429.3 4247.19,-1420.73 4247.19,-1412.3"/>
<polygon fill="black" stroke="black" points="4247.19,-1402.07 4251.69,-1412.07 4247.19,-1407.07 4247.19,-1412.07 4247.19,-1412.07 4247.19,-1412.07 4247.19,-1407.07 4242.69,-1412.07 4247.19,-1402.07 4247.19,-1402.07"/>
</g>
<!-- ndError&#45;&gt;ndTransactionVerifier -->
<g id="edge12" class="edge"><title>ndError&#45;&gt;ndTransactionVerifier</title>
<path fill="none" stroke="black" d="M4057.06,-1602.37C3869.12,-1516.74 3586.47,-1387.95 3421.64,-1312.85"/>
<polygon fill="black" stroke="black" points="3412.42,-1308.65 3423.38,-1308.7 3416.97,-1310.72 3421.52,-1312.79 3421.52,-1312.79 3421.52,-1312.79 3416.97,-1310.72 3419.65,-1316.89 3412.42,-1308.65 3412.42,-1308.65"/>
</g>
<!-- ndNodeSignature -->
<g id="node3" class="node"><title>ndNodeSignature</title>
<g id="a_node3_13"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/key_manager.rs#:~:text=struct%20NodeSignature" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="1893.19,-1731 1893.19,-1768 2240.19,-1768 2240.19,-1731 1893.19,-1731"/>
<polygon fill="none" stroke="black" points="1893.19,-1731 1893.19,-1768 2240.19,-1768 2240.19,-1731 1893.19,-1731"/>
<text text-anchor="start" x="2014.69" y="-1746.8" font-family="Arial" font-weight="bold" font-size="14.00">NodeSignature</text>
<polygon fill="white" stroke="none" points="1893.19,-1679 1893.19,-1731 2240.19,-1731 2240.19,-1679 1893.19,-1679"/>
<polygon fill="none" stroke="black" points="1893.19,-1679 1893.19,-1731 2240.19,-1731 2240.19,-1679 1893.19,-1679"/>
<text text-anchor="start" x="1904.19" y="-1708.8" font-family="Arial" font-size="14.00">&#45; index: u64</text>
<text text-anchor="start" x="1904.19" y="-1693.8" font-family="Arial" font-size="14.00">&#45; sig: SignatureShare</text>
<polygon fill="white" stroke="none" points="1893.19,-1612 1893.19,-1679 2240.19,-1679 2240.19,-1612 1893.19,-1612"/>
<polygon fill="none" stroke="black" points="1893.19,-1612 1893.19,-1679 2240.19,-1679 2240.19,-1612 1893.19,-1612"/>
<text text-anchor="start" x="1904.19" y="-1656.8" font-family="Arial" font-size="14.00">&#45; new(index: u64, sig: SignatureShare) &#45;&gt; Self</text>
<text text-anchor="start" x="1904.19" y="-1641.8" font-family="Arial" font-size="14.00">&#45; threshold_crypto(&amp;self) &#45;&gt; (u64, &amp;SignatureShare)</text>
<text text-anchor="start" x="1904.19" y="-1626.8" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<polygon fill="none" stroke="black" points="1891.69,-1611 1891.69,-1769 2240.69,-1769 2240.69,-1611 1891.69,-1611"/>
</a>
</g>
</g>
<!-- ndNodeSignature&#45;&gt;ndSimpleKeyManager -->
<g id="edge13" class="edge"><title>ndNodeSignature&#45;&gt;ndSimpleKeyManager</title>
<path fill="none" stroke="black" d="M2013.17,-1606.83C1971.34,-1549.4 1907.59,-1476.37 1832.19,-1438 1714.08,-1377.89 1663.17,-1439.94 1536.19,-1402 1506.6,-1393.16 1476.38,-1381.61 1447.03,-1368.84"/>
<polygon fill="black" stroke="black" points="1437.54,-1364.65 1448.5,-1364.57 1442.11,-1366.67 1446.69,-1368.69 1446.69,-1368.69 1446.69,-1368.69 1442.11,-1366.67 1444.87,-1372.8 1437.54,-1364.65 1437.54,-1364.65"/>
</g>
<!-- ndNodeSignature&#45;&gt;ndSpentProofShare -->
<g id="edge14" class="edge"><title>ndNodeSignature&#45;&gt;ndSpentProofShare</title>
<path fill="none" stroke="black" d="M2072.02,-1606.9C2076.15,-1548.77 2081.8,-1469.19 2086.71,-1400.17"/>
<polygon fill="black" stroke="black" points="2086.73,-1399.83 2083.16,-1393.56 2087.58,-1387.86 2091.14,-1394.13 2086.73,-1399.83"/>
</g>
<!-- ndKeyManager -->
<g id="node4" class="node"><title>ndKeyManager</title>
<g id="a_node4_14"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/key_manager.rs#:~:text=trait%20KeyManager" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightgreen" stroke="none" points="118.193,-1727 118.193,-1764 645.193,-1764 645.193,-1727 118.193,-1727"/>
<polygon fill="none" stroke="black" points="118.193,-1727 118.193,-1764 645.193,-1764 645.193,-1727 118.193,-1727"/>
<text text-anchor="start" x="337.193" y="-1742.8" font-family="Arial" font-weight="bold" font-size="14.00">KeyManager</text>
<polygon fill="white" stroke="none" points="118.193,-1615 118.193,-1727 645.193,-1727 645.193,-1615 118.193,-1615"/>
<polygon fill="none" stroke="black" points="118.193,-1615 118.193,-1727 645.193,-1727 645.193,-1615 118.193,-1615"/>
<text text-anchor="start" x="129.193" y="-1704.8" font-family="Arial" font-size="14.00">add_known_key(&amp;mut Self, PublicKey) &#45;&gt; Result&lt;(), Self::Error&gt;</text>
<text text-anchor="start" x="129.193" y="-1689.8" font-family="Arial" font-size="14.00">sign_with_child_key(&amp;Self, &amp;[u8], &amp;Hash) &#45;&gt; Result&lt;NodeSignature, Self::Error&gt;</text>
<text text-anchor="start" x="129.193" y="-1674.8" font-family="Arial" font-size="14.00">sign(&amp;Self, &amp;Hash) &#45;&gt; Result&lt;NodeSignature, Self::Error&gt;</text>
<text text-anchor="start" x="129.193" y="-1659.8" font-family="Arial" font-size="14.00">public_key_set(&amp;Self) &#45;&gt; Result&lt;PublicKeySet, Self::Error&gt;</text>
<text text-anchor="start" x="129.193" y="-1644.8" font-family="Arial" font-size="14.00">verify(&amp;Self, &amp;Hash, &amp;PublicKey, &amp;Signature) &#45;&gt; Result&lt;(), Self::Error&gt;</text>
<text text-anchor="start" x="129.193" y="-1629.8" font-family="Arial" font-size="14.00">verify_known_key(&amp;Self, &amp;PublicKey) &#45;&gt; Result&lt;(), Self::Error&gt;</text>
<polygon fill="none" stroke="black" points="116.693,-1614.5 116.693,-1765.5 645.693,-1765.5 645.693,-1614.5 116.693,-1614.5"/>
</a>
</g>
</g>
<!-- ndKeyManager&#45;&gt;ndSimpleKeyManager -->
<g id="edge15" class="edge"><title>ndKeyManager&#45;&gt;ndSimpleKeyManager</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M452.254,-1610.39C505.62,-1555.45 583.026,-1483.98 663.193,-1438 745.634,-1390.72 841.782,-1353.59 931.416,-1325.37"/>
<polygon fill="none" stroke="black" points="932.684,-1328.64 941.188,-1322.32 930.599,-1321.96 932.684,-1328.64"/>
</g>
<!-- ndKeyManager&#45;&gt;ndSpentBookNodeMock -->
<g id="edge16" class="edge"><title>ndKeyManager&#45;&gt;ndSpentBookNodeMock</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M448.16,-1610.29C548.546,-1494.04 746.168,-1271.76 932.193,-1101 967.774,-1068.34 1007.37,-1035.13 1045.86,-1004.29"/>
<polygon fill="black" stroke="black" points="1054.06,-997.742 1049.05,-1007.5 1050.15,-1000.86 1046.24,-1003.98 1046.24,-1003.98 1046.24,-1003.98 1050.15,-1000.86 1043.43,-1000.47 1054.06,-997.742 1054.06,-997.742"/>
</g>
<!-- ndSimpleSigner -->
<g id="node5" class="node"><title>ndSimpleSigner</title>
<g id="a_node5_15"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/key_manager.rs#:~:text=struct%20SimpleSigner" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="681.193,-1753 681.193,-1790 1253.19,-1790 1253.19,-1753 681.193,-1753"/>
<polygon fill="none" stroke="black" points="681.193,-1753 681.193,-1790 1253.19,-1790 1253.19,-1753 681.193,-1753"/>
<text text-anchor="start" x="920.193" y="-1768.8" font-family="Arial" font-weight="bold" font-size="14.00">SimpleSigner</text>
<polygon fill="white" stroke="none" points="681.193,-1701 681.193,-1753 1253.19,-1753 1253.19,-1701 681.193,-1701"/>
<polygon fill="none" stroke="black" points="681.193,-1701 681.193,-1753 1253.19,-1753 1253.19,-1701 681.193,-1701"/>
<text text-anchor="start" x="692.193" y="-1730.8" font-family="Arial" font-size="14.00">&#45; public_key_set: PublicKeySet</text>
<text text-anchor="start" x="692.193" y="-1715.8" font-family="Arial" font-size="14.00">&#45; secret_key_share: (u64, SerdeSecret&lt;SecretKeyShare&gt;)</text>
<polygon fill="white" stroke="none" points="681.193,-1589 681.193,-1701 1253.19,-1701 1253.19,-1589 681.193,-1589"/>
<polygon fill="none" stroke="black" points="681.193,-1589 681.193,-1701 1253.19,-1701 1253.19,-1589 681.193,-1589"/>
<text text-anchor="start" x="692.193" y="-1678.8" font-family="Arial" font-size="14.00">&#45; from(outcome: bls_dkg::outcome::Outcome) &#45;&gt; Self</text>
<text text-anchor="start" x="692.193" y="-1663.8" font-family="Arial" font-size="14.00">&#45; new(public_key_set: PublicKeySet, secret_key_share: (u64, SecretKeyShare)) &#45;&gt; Self</text>
<text text-anchor="start" x="692.193" y="-1648.8" font-family="Arial" font-size="14.00">&#45; index(&amp;self) &#45;&gt; u64</text>
<text text-anchor="start" x="692.193" y="-1633.8" font-family="Arial" font-size="14.00">&#45; public_key_set(&amp;self) &#45;&gt; PublicKeySet</text>
<text text-anchor="start" x="692.193" y="-1618.8" font-family="Arial" font-size="14.00">&#45; sign(&amp;self, msg: M) &#45;&gt; blsttc::SignatureShare</text>
<text text-anchor="start" x="692.193" y="-1603.8" font-family="Arial" font-size="14.00">&#45; derive_child(&amp;self, index: &amp;[u8]) &#45;&gt; Self</text>
<polygon fill="none" stroke="black" points="680.193,-1588.5 680.193,-1791.5 1254.19,-1791.5 1254.19,-1588.5 680.193,-1588.5"/>
</a>
</g>
</g>
<!-- ndSimpleSigner&#45;&gt;ndSimpleKeyManager -->
<g id="edge17" class="edge"><title>ndSimpleSigner&#45;&gt;ndSimpleKeyManager</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1031.15,-1584.45C1069.66,-1521.48 1118.89,-1441 1159.23,-1375.06"/>
<polygon fill="black" stroke="black" points="1159.36,-1374.84 1159.08,-1367.63 1165.62,-1364.6 1165.9,-1371.81 1159.36,-1374.84"/>
</g>
<!-- ndSimpleKeyManager&#45;&gt;ndSpentBookNodeMock -->
<g id="edge18" class="edge"><title>ndSimpleKeyManager&#45;&gt;ndSpentBookNodeMock</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1234.19,-1138.42C1234.19,-1098.36 1234.19,-1052.59 1234.19,-1010.03"/>
<polygon fill="black" stroke="black" points="1234.19,-1009.82 1230.19,-1003.82 1234.19,-997.821 1238.19,-1003.82 1234.19,-1009.82"/>
</g>
<!-- ndKeys&#45;&gt;ndSimpleKeyManager -->
<g id="edge19" class="edge"><title>ndKeys&#45;&gt;ndSimpleKeyManager</title>
<path fill="none" stroke="black" d="M1478.58,-1606.9C1433.52,-1541.56 1369.78,-1449.13 1318.69,-1375.04"/>
<polygon fill="black" stroke="black" points="1318.38,-1374.59 1311.68,-1371.92 1311.57,-1364.71 1318.27,-1367.38 1318.38,-1374.59"/>
</g>
<!-- ndReissueRequest -->
<g id="node8" class="node"><title>ndReissueRequest</title>
<g id="a_node8_16"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/mint.rs#:~:text=struct%20ReissueRequest" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2330.19,-869 2330.19,-906 2607.19,-906 2607.19,-869 2330.19,-869"/>
<polygon fill="none" stroke="black" points="2330.19,-869 2330.19,-906 2607.19,-906 2607.19,-869 2330.19,-869"/>
<text text-anchor="start" x="2412.19" y="-884.8" font-family="Arial" font-weight="bold" font-size="14.00">ReissueRequest</text>
<polygon fill="white" stroke="none" points="2330.19,-817 2330.19,-869 2607.19,-869 2607.19,-817 2330.19,-817"/>
<polygon fill="none" stroke="black" points="2330.19,-817 2330.19,-869 2607.19,-869 2607.19,-817 2330.19,-817"/>
<text text-anchor="start" x="2341.19" y="-846.8" font-family="Arial" font-size="14.00">+ transaction: RingCtTransaction</text>
<text text-anchor="start" x="2341.19" y="-831.8" font-family="Arial" font-size="14.00">+ spent_proofs: BTreeSet&lt;SpentProof&gt;</text>
<polygon fill="none" stroke="black" points="2328.69,-816.5 2328.69,-907.5 2607.69,-907.5 2607.69,-816.5 2328.69,-816.5"/>
</a>
</g>
</g>
<!-- ndMintNode -->
<g id="node10" class="node"><title>ndMintNode</title>
<g id="a_node10_17"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/mint.rs#:~:text=struct%20MintNode" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2472.19,-581 2472.19,-618 3097.19,-618 3097.19,-581 2472.19,-581"/>
<polygon fill="none" stroke="black" points="2472.19,-581 2472.19,-618 3097.19,-618 3097.19,-581 2472.19,-581"/>
<text text-anchor="start" x="2751.19" y="-596.8" font-family="Arial" font-weight="bold" font-size="14.00">MintNode</text>
<polygon fill="white" stroke="none" points="2472.19,-544 2472.19,-581 3097.19,-581 3097.19,-544 2472.19,-544"/>
<polygon fill="none" stroke="black" points="2472.19,-544 2472.19,-581 3097.19,-581 3097.19,-544 2472.19,-544"/>
<text text-anchor="start" x="2483.19" y="-558.8" font-family="Arial" font-size="14.00">+ key_manager: K</text>
<polygon fill="white" stroke="none" points="2472.19,-432 2472.19,-544 3097.19,-544 3097.19,-432 2472.19,-432"/>
<polygon fill="none" stroke="black" points="2472.19,-432 2472.19,-544 3097.19,-544 3097.19,-432 2472.19,-432"/>
<text text-anchor="start" x="2483.19" y="-521.8" font-family="Arial" font-size="14.00">&#45; new(key_manager: K) &#45;&gt; Self</text>
<text text-anchor="start" x="2483.19" y="-506.8" font-family="Arial" font-size="14.00">&#45; trust_spentbook_public_key(mut self, public_key: PublicKey) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="2483.19" y="-491.8" font-family="Arial" font-size="14.00">&#45; key_manager(&amp;self) &#45;&gt; &amp;K</text>
<text text-anchor="start" x="2483.19" y="-476.8" font-family="Arial" font-size="14.00">&#45; spend(_key_image: KeyImage, _transaction: RingCtTransaction) &#45;&gt; Result&lt;SpentProofShare&gt;</text>
<text text-anchor="start" x="2483.19" y="-461.8" font-family="Arial" font-size="14.00">&#45; reissue(&amp;self, reissue_req: ReissueRequest) &#45;&gt; Result&lt;ReissueShare&gt;</text>
<text text-anchor="start" x="2483.19" y="-446.8" font-family="Arial" font-size="14.00">&#45; sign_transaction(&amp;self, transaction: &amp;RingCtTransaction) &#45;&gt; Result&lt;MintNodeSignatures&gt;</text>
<polygon fill="none" stroke="black" points="2470.69,-431 2470.69,-619 3097.69,-619 3097.69,-431 2470.69,-431"/>
</a>
</g>
</g>
<!-- ndReissueRequest&#45;&gt;ndMintNode -->
<g id="edge20" class="edge"><title>ndReissueRequest&#45;&gt;ndMintNode</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2503.2,-812.427C2534.55,-770.179 2582.76,-708.188 2630.19,-659 2639.47,-649.382 2649.36,-639.703 2659.49,-630.191"/>
<polygon fill="black" stroke="black" points="2666.9,-623.298 2662.65,-633.403 2663.24,-626.703 2659.58,-630.108 2659.58,-630.108 2659.58,-630.108 2663.24,-626.703 2656.52,-626.813 2666.9,-623.298 2666.9,-623.298"/>
</g>
<!-- ndReissueRequestBuilder -->
<g id="node19" class="node"><title>ndReissueRequestBuilder</title>
<g id="a_node19_18"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/builder.rs#:~:text=struct%20ReissueRequestBuilder" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="1811.19,-581 1811.19,-618 2435.19,-618 2435.19,-581 1811.19,-581"/>
<polygon fill="none" stroke="black" points="1811.19,-581 1811.19,-618 2435.19,-618 2435.19,-581 1811.19,-581"/>
<text text-anchor="start" x="2041.69" y="-596.8" font-family="Arial" font-weight="bold" font-size="14.00">ReissueRequestBuilder</text>
<polygon fill="white" stroke="none" points="1811.19,-529 1811.19,-581 2435.19,-581 2435.19,-529 1811.19,-529"/>
<polygon fill="none" stroke="black" points="1811.19,-529 1811.19,-581 2435.19,-581 2435.19,-529 1811.19,-529"/>
<text text-anchor="start" x="1822.19" y="-558.8" font-family="Arial" font-size="14.00">+ transaction: RingCtTransaction</text>
<text text-anchor="start" x="1822.19" y="-543.8" font-family="Arial" font-size="14.00">+ spent_proof_shares: BTreeMap&lt;KeyImage, HashSet&lt;SpentProofShare&gt;&gt;</text>
<polygon fill="white" stroke="none" points="1811.19,-432 1811.19,-529 2435.19,-529 2435.19,-432 1811.19,-432"/>
<polygon fill="none" stroke="black" points="1811.19,-432 1811.19,-529 2435.19,-529 2435.19,-432 1811.19,-432"/>
<text text-anchor="start" x="1822.19" y="-506.8" font-family="Arial" font-size="14.00">&#45; new(transaction: RingCtTransaction) &#45;&gt; Self</text>
<text text-anchor="start" x="1822.19" y="-491.8" font-family="Arial" font-size="14.00">&#45; add_spent_proof_share(mut self, share: SpentProofShare) &#45;&gt; Self</text>
<text text-anchor="start" x="1822.19" y="-476.8" font-family="Arial" font-size="14.00">&#45; add_spent_proof_shares(mut self, shares: impl IntoIterator&lt;Item = SpentProofShare&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="1822.19" y="-461.8" font-family="Arial" font-size="14.00">&#45; inputs(&amp;self) &#45;&gt; Vec&lt;(KeyImage, RingCtTransaction)&gt;</text>
<text text-anchor="start" x="1822.19" y="-446.8" font-family="Arial" font-size="14.00">&#45; build(self) &#45;&gt; Result&lt;ReissueRequest&gt;</text>
<polygon fill="none" stroke="black" points="1810.19,-431 1810.19,-619 2436.19,-619 2436.19,-431 1810.19,-431"/>
</a>
</g>
</g>
<!-- ndReissueRequest&#45;&gt;ndReissueRequestBuilder -->
<g id="edge21" class="edge"><title>ndReissueRequest&#45;&gt;ndReissueRequestBuilder</title>
<path fill="none" stroke="black" d="M2418.03,-812.288C2369.18,-764.857 2293.37,-691.244 2230.85,-630.541"/>
<polygon fill="black" stroke="black" points="2223.3,-623.205 2233.61,-626.943 2226.89,-626.688 2230.47,-630.172 2230.47,-630.172 2230.47,-630.172 2226.89,-626.688 2227.34,-633.4 2223.3,-623.205 2223.3,-623.205"/>
</g>
<!-- ndReissueShare -->
<g id="node9" class="node"><title>ndReissueShare</title>
<g id="a_node9_19"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/mint.rs#:~:text=struct%20ReissueShare" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2681.19,-877 2681.19,-914 2991.19,-914 2991.19,-877 2681.19,-877"/>
<polygon fill="none" stroke="black" points="2681.19,-877 2681.19,-914 2991.19,-914 2991.19,-877 2681.19,-877"/>
<text text-anchor="start" x="2787.69" y="-892.8" font-family="Arial" font-weight="bold" font-size="14.00">ReissueShare</text>
<polygon fill="white" stroke="none" points="2681.19,-810 2681.19,-877 2991.19,-877 2991.19,-810 2681.19,-810"/>
<polygon fill="none" stroke="black" points="2681.19,-810 2681.19,-877 2991.19,-877 2991.19,-810 2681.19,-810"/>
<text text-anchor="start" x="2692.19" y="-854.8" font-family="Arial" font-size="14.00">+ transaction: RingCtTransaction</text>
<text text-anchor="start" x="2692.19" y="-839.8" font-family="Arial" font-size="14.00">+ spent_proofs: BTreeSet&lt;SpentProof&gt;</text>
<text text-anchor="start" x="2692.19" y="-824.8" font-family="Arial" font-size="14.00">+ mint_node_signatures: MintNodeSignatures</text>
<polygon fill="none" stroke="black" points="2680.19,-809 2680.19,-915 2992.19,-915 2992.19,-809 2680.19,-809"/>
</a>
</g>
</g>
<!-- ndReissueShare&#45;&gt;ndMintNode -->
<g id="edge22" class="edge"><title>ndReissueShare&#45;&gt;ndMintNode</title>
<path fill="none" stroke="black" d="M2827.49,-804.929C2820.25,-758.277 2809.73,-690.52 2800.87,-633.47"/>
<polygon fill="black" stroke="black" points="2799.3,-623.317 2805.28,-632.508 2800.07,-628.258 2800.83,-633.199 2800.83,-633.199 2800.83,-633.199 2800.07,-628.258 2796.39,-633.889 2799.3,-623.317 2799.3,-623.317"/>
</g>
<!-- ndDbcBuilder -->
<g id="node20" class="node"><title>ndDbcBuilder</title>
<g id="a_node20_20"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/builder.rs#:~:text=struct%20DbcBuilder" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="4109.19,-581 4109.19,-618 4806.19,-618 4806.19,-581 4109.19,-581"/>
<polygon fill="none" stroke="black" points="4109.19,-581 4109.19,-618 4806.19,-618 4806.19,-581 4109.19,-581"/>
<text text-anchor="start" x="4418.19" y="-596.8" font-family="Arial" font-weight="bold" font-size="14.00">DbcBuilder</text>
<polygon fill="white" stroke="none" points="4109.19,-514 4109.19,-581 4806.19,-581 4806.19,-514 4109.19,-514"/>
<polygon fill="none" stroke="black" points="4109.19,-514 4109.19,-581 4806.19,-581 4806.19,-514 4109.19,-514"/>
<text text-anchor="start" x="4120.19" y="-558.8" font-family="Arial" font-size="14.00">+ revealed_commitments: Vec&lt;RevealedCommitment&gt;</text>
<text text-anchor="start" x="4120.19" y="-543.8" font-family="Arial" font-size="14.00">+ output_owner_map: OutputOwnerMap</text>
<text text-anchor="start" x="4120.19" y="-528.8" font-family="Arial" font-size="14.00">+ reissue_shares: Vec&lt;ReissueShare&gt;</text>
<polygon fill="white" stroke="none" points="4109.19,-432 4109.19,-514 4806.19,-514 4806.19,-432 4109.19,-432"/>
<polygon fill="none" stroke="black" points="4109.19,-432 4109.19,-514 4806.19,-514 4806.19,-432 4109.19,-432"/>
<text text-anchor="start" x="4120.19" y="-491.8" font-family="Arial" font-size="14.00">&#45; new(revealed_commitments: Vec&lt;RevealedCommitment&gt;, output_owner_map: OutputOwnerMap) &#45;&gt; Self</text>
<text text-anchor="start" x="4120.19" y="-476.8" font-family="Arial" font-size="14.00">&#45; add_reissue_share(mut self, reissue_share: ReissueShare) &#45;&gt; Self</text>
<text text-anchor="start" x="4120.19" y="-461.8" font-family="Arial" font-size="14.00">&#45; add_reissue_shares(mut self, shares: impl IntoIterator&lt;Item = ReissueShare&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="4120.19" y="-446.8" font-family="Arial" font-size="14.00">&#45; build(self) &#45;&gt; Result&lt;Vec&lt;(Dbc, OwnerOnce, AmountSecrets)&gt;&gt;</text>
<polygon fill="none" stroke="black" points="4107.69,-431 4107.69,-619 4806.69,-619 4806.69,-431 4107.69,-431"/>
</a>
</g>
</g>
<!-- ndReissueShare&#45;&gt;ndDbcBuilder -->
<g id="edge23" class="edge"><title>ndReissueShare&#45;&gt;ndDbcBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M3000.54,-827.035C3253.76,-774.704 3745.76,-673.027 4087.49,-602.403"/>
<polygon fill="black" stroke="black" points="4087.58,-602.385 4092.65,-597.254 4099.33,-599.957 4094.26,-605.088 4087.58,-602.385"/>
</g>
<!-- ndDbcContent&#45;&gt;ndDbc -->
<g id="edge24" class="edge"><title>ndDbcContent&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M4838.99,-1145.89C4822.63,-1123.73 4804.8,-1099.58 4786.68,-1075.03"/>
<polygon fill="black" stroke="black" points="4786.58,-1074.89 4779.8,-1072.44 4779.46,-1065.24 4786.24,-1067.69 4786.58,-1074.89"/>
</g>
<!-- ndGenesisMaterial -->
<g id="node12" class="node"><title>ndGenesisMaterial</title>
<g id="a_node12_21"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/genesis.rs#:~:text=struct%20GenesisMaterial" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="5278.19,-1731 5278.19,-1768 5505.19,-1768 5505.19,-1731 5278.19,-1731"/>
<polygon fill="none" stroke="black" points="5278.19,-1731 5278.19,-1768 5505.19,-1768 5505.19,-1731 5278.19,-1731"/>
<text text-anchor="start" x="5335.19" y="-1746.8" font-family="Arial" font-weight="bold" font-size="14.00">GenesisMaterial</text>
<polygon fill="white" stroke="none" points="5278.19,-1664 5278.19,-1731 5505.19,-1731 5505.19,-1664 5278.19,-1664"/>
<polygon fill="none" stroke="black" points="5278.19,-1664 5278.19,-1731 5505.19,-1731 5505.19,-1664 5278.19,-1664"/>
<text text-anchor="start" x="5289.19" y="-1708.8" font-family="Arial" font-size="14.00">+ ringct_material: RingCtMaterial</text>
<text text-anchor="start" x="5289.19" y="-1693.8" font-family="Arial" font-size="14.00">+ owner_once: OwnerOnce</text>
<text text-anchor="start" x="5289.19" y="-1678.8" font-family="Arial" font-size="14.00">+ input_key_image: KeyImage</text>
<polygon fill="white" stroke="none" points="5278.19,-1611 5278.19,-1664 5505.19,-1664 5505.19,-1611 5278.19,-1611"/>
<polygon fill="none" stroke="black" points="5278.19,-1611 5278.19,-1664 5505.19,-1664 5505.19,-1611 5278.19,-1611"/>
<text text-anchor="start" x="5289.19" y="-1626.8" font-family="Arial" font-size="14.00">&#45; default() &#45;&gt; Self</text>
<polygon fill="none" stroke="black" points="5276.69,-1610.5 5276.69,-1769.5 5505.69,-1769.5 5505.69,-1610.5 5276.69,-1610.5"/>
</a>
</g>
</g>
<!-- ndPublicKeyBlstMappable&#45;&gt;ndSpentBookNodeMock -->
<g id="edge25" class="edge"><title>ndPublicKeyBlstMappable&#45;&gt;ndSpentBookNodeMock</title>
<path fill="none" stroke="black" d="M1600.33,-1152.89C1579.03,-1135.54 1556.99,-1117.69 1536.19,-1101 1497.39,-1069.86 1455.59,-1036.69 1415.82,-1005.3"/>
<polygon fill="black" stroke="black" points="1415.71,-1005.21 1408.53,-1004.64 1406.29,-997.782 1413.48,-998.358 1415.71,-1005.21"/>
</g>
<!-- ndBlsHelper -->
<g id="node14" class="node"><title>ndBlsHelper</title>
<g id="a_node14_22"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/blst.rs#:~:text=struct%20BlsHelper" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="5541.19,-2090.5 5541.19,-2127.5 5957.19,-2127.5 5957.19,-2090.5 5541.19,-2090.5"/>
<polygon fill="none" stroke="black" points="5541.19,-2090.5 5541.19,-2127.5 5957.19,-2127.5 5957.19,-2090.5 5541.19,-2090.5"/>
<text text-anchor="start" x="5715.19" y="-2106.3" font-family="Arial" font-weight="bold" font-size="14.00">BlsHelper</text>
<polygon fill="white" stroke="none" points="5541.19,-2008.5 5541.19,-2090.5 5957.19,-2090.5 5957.19,-2008.5 5541.19,-2008.5"/>
<polygon fill="none" stroke="black" points="5541.19,-2008.5 5541.19,-2090.5 5957.19,-2090.5 5957.19,-2008.5 5541.19,-2008.5"/>
<text text-anchor="start" x="5552.19" y="-2068.3" font-family="Arial" font-size="14.00">&#45; blsttc_to_blstrs_secret_key(sk: SecretKey) &#45;&gt; SecretKeyBlst</text>
<text text-anchor="start" x="5552.19" y="-2053.3" font-family="Arial" font-size="14.00">&#45; blsttc_to_blstrs_public_key(pk: &amp;PublicKey) &#45;&gt; PublicKeyBlst</text>
<text text-anchor="start" x="5552.19" y="-2038.3" font-family="Arial" font-size="14.00">&#45; blstrs_to_blsttc_public_key(pk: &amp;PublicKeyBlst) &#45;&gt; PublicKey</text>
<text text-anchor="start" x="5552.19" y="-2023.3" font-family="Arial" font-size="14.00">&#45; blstrs_to_blsttc_secret_key(sk: SecretKeyBlst) &#45;&gt; SecretKey</text>
<polygon fill="none" stroke="black" points="5540.19,-2008 5540.19,-2129 5958.19,-2129 5958.19,-2008 5540.19,-2008"/>
</a>
</g>
</g>
<!-- ndOwner -->
<g id="node15" class="node"><title>ndOwner</title>
<g id="a_node15_23"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/owner.rs#:~:text=enum%20Owner" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="4767.19,-1814 4767.19,-1851 5204.19,-1851 5204.19,-1814 4767.19,-1814"/>
<polygon fill="none" stroke="black" points="4767.19,-1814 4767.19,-1851 5204.19,-1851 5204.19,-1814 4767.19,-1814"/>
<text text-anchor="start" x="4962.69" y="-1829.8" font-family="Arial" font-weight="bold" font-size="14.00">Owner</text>
<polygon fill="white" stroke="none" points="4767.19,-1762 4767.19,-1814 5204.19,-1814 5204.19,-1762 4767.19,-1762"/>
<polygon fill="none" stroke="black" points="4767.19,-1762 4767.19,-1814 5204.19,-1814 5204.19,-1762 4767.19,-1762"/>
<text text-anchor="start" x="4778.19" y="-1791.8" font-family="Arial" font-size="14.00">SecretKey(SerdeSecret&lt;SecretKey&gt;)</text>
<text text-anchor="start" x="4778.19" y="-1776.8" font-family="Arial" font-size="14.00">PublicKey(PublicKey)</text>
<polygon fill="white" stroke="none" points="4767.19,-1529 4767.19,-1762 5204.19,-1762 5204.19,-1529 4767.19,-1529"/>
<polygon fill="none" stroke="black" points="4767.19,-1529 4767.19,-1762 5204.19,-1762 5204.19,-1529 4767.19,-1529"/>
<text text-anchor="start" x="4778.19" y="-1739.8" font-family="Arial" font-size="14.00">&#45; fmt(&amp;self, f: &amp;mut fmt::Formatter&lt;&#39;_&gt;) &#45;&gt; fmt::Result</text>
<text text-anchor="start" x="4778.19" y="-1724.8" font-family="Arial" font-size="14.00">&#45; from(s: SecretKey) &#45;&gt; Self</text>
<text text-anchor="start" x="4778.19" y="-1709.8" font-family="Arial" font-size="14.00">&#45; from(p: PublicKey) &#45;&gt; Self</text>
<text text-anchor="start" x="4778.19" y="-1694.8" font-family="Arial" font-size="14.00">&#45; eq(&amp;self, other: &amp;Self) &#45;&gt; bool</text>
<text text-anchor="start" x="4778.19" y="-1663" font-family="Arial" font-size="14.00">&#45; public_key(&amp;self) &#45;&gt; PublicKey</text>
<text text-anchor="start" x="4778.19" y="-1648" font-family="Arial" font-size="14.00">&#45; secret_key(&amp;self) &#45;&gt; Result&lt;SecretKey&gt;</text>
<text text-anchor="start" x="4778.19" y="-1633" font-family="Arial" font-size="14.00">&#45; public_key_blst(&amp;self) &#45;&gt; PublicKeyBlst</text>
<text text-anchor="start" x="4778.19" y="-1618" font-family="Arial" font-size="14.00">&#45; secret_key_blst(&amp;self) &#45;&gt; Result&lt;SecretKeyBlst&gt;</text>
<text text-anchor="start" x="4778.19" y="-1603" font-family="Arial" font-size="14.00">&#45; derive(&amp;self, i: &amp;DerivationIndex) &#45;&gt; Self</text>
<text text-anchor="start" x="4778.19" y="-1588" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="4778.19" y="-1573" font-family="Arial" font-size="14.00">&#45; has_secret_key(&amp;self) &#45;&gt; bool</text>
<text text-anchor="start" x="4778.19" y="-1558" font-family="Arial" font-size="14.00">&#45; from_random_secret_key(rng: &amp;mut impl rand::RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="4778.19" y="-1543" font-family="Arial" font-size="14.00">&#45; from(o: OwnerOnce) &#45;&gt; Self</text>
<polygon fill="none" stroke="black" points="4765.69,-1528 4765.69,-1852 5204.69,-1852 5204.69,-1528 4765.69,-1528"/>
</a>
</g>
</g>
<!-- ndOwner&#45;&gt;ndDbcContent -->
<g id="edge26" class="edge"><title>ndOwner&#45;&gt;ndDbcContent</title>
<path fill="none" stroke="black" d="M4959.11,-1523.98C4950.94,-1472.34 4942.11,-1416.48 4934.6,-1368.92"/>
<polygon fill="black" stroke="black" points="4934.59,-1368.87 4929.7,-1363.57 4932.71,-1357.02 4937.6,-1362.32 4934.59,-1368.87"/>
</g>
<!-- ndOwnerOnce -->
<g id="node16" class="node"><title>ndOwnerOnce</title>
<g id="a_node16_24"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/owner.rs#:~:text=struct%20OwnerOnce" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="4975.19,-2116.5 4975.19,-2153.5 5505.19,-2153.5 5505.19,-2116.5 4975.19,-2116.5"/>
<polygon fill="none" stroke="black" points="4975.19,-2116.5 4975.19,-2153.5 5505.19,-2153.5 5505.19,-2116.5 4975.19,-2116.5"/>
<text text-anchor="start" x="5198.69" y="-2132.3" font-family="Arial" font-weight="bold" font-size="14.00">OwnerOnce</text>
<polygon fill="white" stroke="none" points="4975.19,-2064.5 4975.19,-2116.5 5505.19,-2116.5 5505.19,-2064.5 4975.19,-2064.5"/>
<polygon fill="none" stroke="black" points="4975.19,-2064.5 4975.19,-2116.5 5505.19,-2116.5 5505.19,-2064.5 4975.19,-2064.5"/>
<text text-anchor="start" x="4986.19" y="-2094.3" font-family="Arial" font-size="14.00">+ owner_base: Owner</text>
<text text-anchor="start" x="4986.19" y="-2079.3" font-family="Arial" font-size="14.00">+ derivation_index: DerivationIndex</text>
<polygon fill="white" stroke="none" points="4975.19,-1982.5 4975.19,-2064.5 5505.19,-2064.5 5505.19,-1982.5 4975.19,-1982.5"/>
<polygon fill="none" stroke="black" points="4975.19,-1982.5 4975.19,-2064.5 5505.19,-2064.5 5505.19,-1982.5 4975.19,-1982.5"/>
<text text-anchor="start" x="4986.19" y="-2042.3" font-family="Arial" font-size="14.00">&#45; owner_base(&amp;self) &#45;&gt; &amp;Owner</text>
<text text-anchor="start" x="4986.19" y="-2027.3" font-family="Arial" font-size="14.00">&#45; as_owner(&amp;self) &#45;&gt; Owner</text>
<text text-anchor="start" x="4986.19" y="-2012.3" font-family="Arial" font-size="14.00">&#45; from_owner_base(owner_base: Owner, rng: &amp;mut impl rand8::RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="4986.19" y="-1997.3" font-family="Arial" font-size="14.00">&#45; random_derivation_index(rng: &amp;mut impl rand8::RngCore) &#45;&gt; [u8; 32]</text>
<polygon fill="none" stroke="black" points="4974.19,-1982 4974.19,-2155 5506.19,-2155 5506.19,-1982 4974.19,-1982"/>
</a>
</g>
</g>
<!-- ndOwner&#45;&gt;ndOwnerOnce -->
<g id="edge27" class="edge"><title>ndOwner&#45;&gt;ndOwnerOnce</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M5103.86,-1856.32C5129.65,-1894.16 5155.91,-1933.26 5178.42,-1967.38"/>
<polygon fill="black" stroke="black" points="5178.69,-1967.78 5185.33,-1970.59 5185.29,-1977.8 5178.65,-1974.99 5178.69,-1967.78"/>
</g>
<!-- ndOwner&#45;&gt;ndDbc -->
<g id="edge28" class="edge"><title>ndOwner&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M5123.68,-1523.77C5148.16,-1485.94 5170.01,-1444.33 5183.19,-1402 5203.08,-1338.14 5219.97,-1156.87 5183.19,-1101 5123.41,-1010.19 5020.91,-953.881 4920.28,-919.031"/>
<polygon fill="black" stroke="black" points="4910.54,-915.725 4921.46,-914.681 4915.28,-917.334 4920.01,-918.942 4920.01,-918.942 4920.01,-918.942 4915.28,-917.334 4918.57,-923.203 4910.54,-915.725 4910.54,-915.725"/>
</g>
<!-- ndOwnerOnce&#45;&gt;ndGenesisMaterial -->
<g id="edge29" class="edge"><title>ndOwnerOnce&#45;&gt;ndGenesisMaterial</title>
<path fill="none" stroke="black" d="M5276.17,-1977.8C5299.52,-1919.56 5329.91,-1843.81 5353.58,-1784.78"/>
<polygon fill="black" stroke="black" points="5353.61,-1784.72 5352.13,-1777.66 5358.07,-1773.58 5359.55,-1780.64 5353.61,-1784.72"/>
</g>
<!-- ndOwnerOnce&#45;&gt;ndOwner -->
<g id="edge30" class="edge"><title>ndOwnerOnce&#45;&gt;ndOwner</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M5173.59,-1977.8C5149.87,-1943.78 5122.49,-1903.8 5096.07,-1864.65"/>
<polygon fill="black" stroke="black" points="5090.45,-1856.32 5099.78,-1862.09 5093.25,-1860.46 5096.04,-1864.61 5096.04,-1864.61 5096.04,-1864.61 5093.25,-1860.46 5092.31,-1867.12 5090.45,-1856.32 5090.45,-1856.32"/>
</g>
<!-- ndTransactionBuilder -->
<g id="node18" class="node"><title>ndTransactionBuilder</title>
<g id="a_node18_25"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/builder.rs#:~:text=struct%20TransactionBuilder" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="3937.19,-348.5 3937.19,-385.5 4977.19,-385.5 4977.19,-348.5 3937.19,-348.5"/>
<polygon fill="none" stroke="black" points="3937.19,-348.5 3937.19,-385.5 4977.19,-385.5 4977.19,-348.5 3937.19,-348.5"/>
<text text-anchor="start" x="4390.19" y="-364.3" font-family="Arial" font-weight="bold" font-size="14.00">TransactionBuilder</text>
<polygon fill="white" stroke="none" points="3937.19,-296.5 3937.19,-348.5 4977.19,-348.5 4977.19,-296.5 3937.19,-296.5"/>
<polygon fill="none" stroke="black" points="3937.19,-296.5 3937.19,-348.5 4977.19,-348.5 4977.19,-296.5 3937.19,-296.5"/>
<text text-anchor="start" x="3948.19" y="-326.3" font-family="Arial" font-size="14.00">&#45; ringct_material: RingCtMaterial</text>
<text text-anchor="start" x="3948.19" y="-311.3" font-family="Arial" font-size="14.00">&#45; output_owner_map: OutputOwnerMap</text>
<polygon fill="white" stroke="none" points="3937.19,-4.5 3937.19,-296.5 4977.19,-296.5 4977.19,-4.5 3937.19,-4.5"/>
<polygon fill="none" stroke="black" points="3937.19,-4.5 3937.19,-296.5 4977.19,-296.5 4977.19,-4.5 3937.19,-4.5"/>
<text text-anchor="start" x="3948.19" y="-274.3" font-family="Arial" font-size="14.00">&#45; add_input(mut self, mlsag: MlsagMaterial) &#45;&gt; Self</text>
<text text-anchor="start" x="3948.19" y="-259.3" font-family="Arial" font-size="14.00">&#45; add_inputs(mut self, inputs: impl IntoIterator&lt;Item = MlsagMaterial&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="3948.19" y="-244.3" font-family="Arial" font-size="14.00">&#45; add_input_by_true_input(mut self, true_input: TrueInput, decoy_inputs: Vec&lt;DecoyInput&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="3948.19" y="-229.3" font-family="Arial" font-size="14.00">&#45; add_inputs_by_true_inputs(mut self, inputs: impl IntoIterator&lt;Item = (TrueInput, Vec&lt;DecoyInput&gt;)&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="3948.19" y="-214.3" font-family="Arial" font-size="14.00">&#45; add_input_dbc(mut self, dbc: &amp;Dbc, base_sk: &amp;SecretKey, decoy_inputs: Vec&lt;DecoyInput&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="3948.19" y="-199.3" font-family="Arial" font-size="14.00">&#45; add_inputs_dbc(mut self, dbcs: impl IntoIterator&lt;Item = (Dbc, SecretKey, Vec&lt;DecoyInput&gt;)&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="3948.19" y="-184.3" font-family="Arial" font-size="14.00">&#45; add_input_dbc_bearer(mut self, dbc: &amp;Dbc, decoy_inputs: Vec&lt;DecoyInput&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="3948.19" y="-169.3" font-family="Arial" font-size="14.00">&#45; add_inputs_dbc_bearer(mut self, dbcs: impl IntoIterator&lt;Item = (Dbc, Vec&lt;DecoyInput&gt;)&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="3948.19" y="-154.3" font-family="Arial" font-size="14.00">&#45; add_input_by_secrets(mut self, secret_key: SecretKeyBlst, amount_secrets: AmountSecrets, decoy_inputs: Vec&lt;DecoyInput&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="3948.19" y="-139.3" font-family="Arial" font-size="14.00">&#45; add_inputs_by_secrets(mut self, secrets: Vec&lt;(SecretKeyBlst, AmountSecrets, Vec&lt;DecoyInput&gt;)&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="3948.19" y="-124.3" font-family="Arial" font-size="14.00">&#45; add_output(mut self, output: Output, owner: OwnerOnce) &#45;&gt; Self</text>
<text text-anchor="start" x="3948.19" y="-109.3" font-family="Arial" font-size="14.00">&#45; add_outputs(mut self, outputs: impl IntoIterator&lt;Item = (Output, OwnerOnce)&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="3948.19" y="-94.3" font-family="Arial" font-size="14.00">&#45; input_owners(&amp;self) &#45;&gt; Vec&lt;PublicKeyBlst&gt;</text>
<text text-anchor="start" x="3948.19" y="-79.3" font-family="Arial" font-size="14.00">&#45; inputs_amount_sum(&amp;self) &#45;&gt; Amount</text>
<text text-anchor="start" x="3948.19" y="-64.3" font-family="Arial" font-size="14.00">&#45; outputs_amount_sum(&amp;self) &#45;&gt; Amount</text>
<text text-anchor="start" x="3948.19" y="-49.3" font-family="Arial" font-size="14.00">&#45; inputs(&amp;self) &#45;&gt; &amp;Vec&lt;MlsagMaterial&gt;</text>
<text text-anchor="start" x="3948.19" y="-34.3" font-family="Arial" font-size="14.00">&#45; outputs(&amp;self) &#45;&gt; &amp;Vec&lt;Output&gt;</text>
<text text-anchor="start" x="3948.19" y="-19.3" font-family="Arial" font-size="14.00">&#45; build(self, rng: impl RngCore + rand_core::CryptoRng) &#45;&gt; Result&lt;(ReissueRequestBuilder, DbcBuilder, RingCtMaterial)&gt;</text>
<polygon fill="none" stroke="black" points="3936.19,-4 3936.19,-387 4978.19,-387 4978.19,-4 3936.19,-4"/>
</a>
</g>
</g>
<!-- ndOwnerOnce&#45;&gt;ndTransactionBuilder -->
<g id="edge31" class="edge"><title>ndOwnerOnce&#45;&gt;ndTransactionBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M5491.76,-1977.81C5503.64,-1967.17 5514.29,-1955.28 5523.19,-1942 5693.87,-1687.35 5542.19,-1559.06 5542.19,-1252.5 5542.19,-1252.5 5542.19,-1252.5 5542.19,-861 5542.19,-577.074 5268.66,-410.743 4996.27,-315.497"/>
<polygon fill="black" stroke="black" points="4986.58,-312.139 4997.5,-311.162 4991.31,-313.776 4996.03,-315.414 4996.03,-315.414 4996.03,-315.414 4991.31,-313.776 4994.56,-319.666 4986.58,-312.139 4986.58,-312.139"/>
</g>
<!-- ndOwnerOnce&#45;&gt;ndDbcBuilder -->
<g id="edge32" class="edge"><title>ndOwnerOnce&#45;&gt;ndDbcBuilder</title>
<path fill="none" stroke="black" d="M5243.35,-1977.79C5249.64,-1770.24 5259.05,-1262.34 5207.19,-1101 5135.45,-877.78 5107.7,-798.42 4919.19,-659 4890.29,-637.621 4858.03,-619.671 4824.36,-604.602"/>
<polygon fill="black" stroke="black" points="4814.83,-600.428 4825.8,-600.318 4819.41,-602.434 4823.99,-604.44 4823.99,-604.44 4823.99,-604.44 4819.41,-602.434 4822.19,-608.562 4814.83,-600.428 4814.83,-600.428"/>
</g>
<!-- ndDbc&#45;&gt;ndTransactionBuilder -->
<g id="edge33" class="edge"><title>ndDbc&#45;&gt;ndTransactionBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M4808.64,-658.944C4814.6,-647.186 4819.86,-635.179 4824.19,-623 4853.4,-540.932 4866.34,-503.238 4824.19,-427 4818.9,-417.421 4813.02,-408.187 4806.64,-399.288"/>
<polygon fill="black" stroke="black" points="4800.64,-391.211 4810.22,-396.558 4803.62,-395.226 4806.6,-399.24 4806.6,-399.24 4806.6,-399.24 4803.62,-395.226 4802.99,-401.922 4800.64,-391.211 4800.64,-391.211"/>
</g>
<!-- ndDbc&#45;&gt;ndDbcBuilder -->
<g id="edge34" class="edge"><title>ndDbc&#45;&gt;ndDbcBuilder</title>
<path fill="none" stroke="black" d="M4525.82,-658.882C4521.1,-649.754 4516.46,-640.77 4511.96,-632.045"/>
<polygon fill="black" stroke="black" points="4507.31,-623.05 4515.9,-629.87 4509.61,-627.492 4511.9,-631.935 4511.9,-631.935 4511.9,-631.935 4509.61,-627.492 4507.9,-634 4507.31,-623.05 4507.31,-623.05"/>
</g>
<!-- ndReissueRequestBuilder&#45;&gt;ndTransactionBuilder -->
<g id="edge35" class="edge"><title>ndReissueRequestBuilder&#45;&gt;ndTransactionBuilder</title>
<path fill="none" stroke="black" d="M2444.38,-428.822C2447.33,-428.201 2450.27,-427.594 2453.19,-427 2944.17,-327.37 3512.2,-267.112 3917.85,-233.333"/>
<polygon fill="black" stroke="black" points="3928,-232.49 3918.41,-237.802 3923.02,-232.904 3918.03,-233.317 3918.03,-233.317 3918.03,-233.317 3923.02,-232.904 3917.66,-228.833 3928,-232.49 3928,-232.49"/>
</g>
<!-- ndDbcBuilder&#45;&gt;ndTransactionBuilder -->
<g id="edge36" class="edge"><title>ndDbcBuilder&#45;&gt;ndTransactionBuilder</title>
<path fill="none" stroke="black" d="M4457.19,-426.626C4457.19,-418.427 4457.19,-409.961 4457.19,-401.332"/>
<polygon fill="black" stroke="black" points="4457.19,-391.133 4461.69,-401.133 4457.19,-396.133 4457.19,-401.133 4457.19,-401.133 4457.19,-401.133 4457.19,-396.133 4452.69,-401.134 4457.19,-391.133 4457.19,-391.133"/>
</g>
<!-- ndSpentProofContent&#45;&gt;ndSpentProofShare -->
<g id="edge37" class="edge"><title>ndSpentProofContent&#45;&gt;ndSpentProofShare</title>
<path fill="none" stroke="black" d="M2419.85,-1591.93C2382.3,-1544.38 2335.25,-1486.97 2290.19,-1438 2277.49,-1424.19 2263.99,-1410.13 2250.27,-1396.23"/>
<polygon fill="black" stroke="black" points="2250.15,-1396.11 2243.09,-1394.68 2241.7,-1387.6 2248.76,-1389.04 2250.15,-1396.11"/>
</g>
<!-- ndSpentProofContent&#45;&gt;ndSpentProof -->
<g id="edge38" class="edge"><title>ndSpentProofContent&#45;&gt;ndSpentProof</title>
<path fill="none" stroke="black" d="M2494.19,-1591.86C2494.19,-1526.21 2494.19,-1439.18 2494.19,-1369.69"/>
<polygon fill="black" stroke="black" points="2494.19,-1369.37 2490.19,-1363.37 2494.19,-1357.37 2498.19,-1363.37 2494.19,-1369.37"/>
</g>
<!-- ndSpentProofShare&#45;&gt;ndMintNode -->
<g id="edge39" class="edge"><title>ndSpentProofShare&#45;&gt;ndMintNode</title>
<path fill="none" stroke="black" d="M2262.22,-1115.46C2272.41,-1110.05 2282.76,-1105.17 2293.19,-1101 2361.9,-1073.56 2572.2,-1117.65 2624.19,-1065 2687.88,-1000.51 2626.48,-741.871 2663.19,-659 2667.36,-649.591 2672.46,-640.4 2678.19,-631.527"/>
<polygon fill="black" stroke="black" points="2683.85,-623.12 2681.99,-633.927 2681.06,-627.266 2678.26,-631.411 2678.26,-631.411 2678.26,-631.411 2681.06,-627.266 2674.53,-628.895 2683.85,-623.12 2683.85,-623.12"/>
</g>
<!-- ndSpentProofShare&#45;&gt;ndReissueRequestBuilder -->
<g id="edge40" class="edge"><title>ndSpentProofShare&#45;&gt;ndReissueRequestBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2102.05,-1115.08C2107.03,-976.408 2114.67,-763.536 2119.27,-635.24"/>
<polygon fill="black" stroke="black" points="2119.28,-635.085 2115.5,-628.946 2119.71,-623.093 2123.49,-629.233 2119.28,-635.085"/>
</g>
<!-- ndSpentProofShare&#45;&gt;ndSpentBookNodeMock -->
<g id="edge41" class="edge"><title>ndSpentProofShare&#45;&gt;ndSpentBookNodeMock</title>
<path fill="none" stroke="black" d="M1926.03,-1115.38C1917.77,-1110.31 1909.47,-1105.49 1901.19,-1101 1823.85,-1059.03 1737.63,-1021.93 1653.53,-990.251"/>
<polygon fill="black" stroke="black" points="1644.08,-986.711 1655.02,-986.006 1648.76,-988.465 1653.45,-990.22 1653.45,-990.22 1653.45,-990.22 1648.76,-988.465 1651.87,-994.434 1644.08,-986.711 1644.08,-986.711"/>
</g>
<!-- ndSpentProof&#45;&gt;ndReissueRequest -->
<g id="edge42" class="edge"><title>ndSpentProof&#45;&gt;ndReissueRequest</title>
<path fill="none" stroke="black" d="M2487.17,-1145.89C2482.4,-1074.74 2476.25,-983.081 2472.26,-923.689"/>
<polygon fill="black" stroke="black" points="2472.25,-923.497 2467.86,-917.779 2471.45,-911.524 2475.84,-917.243 2472.25,-923.497"/>
</g>
<!-- ndSpentProof&#45;&gt;ndReissueShare -->
<g id="edge43" class="edge"><title>ndSpentProof&#45;&gt;ndReissueShare</title>
<path fill="none" stroke="black" d="M2587.03,-1145.56C2610.27,-1119.26 2635.15,-1091.1 2658.19,-1065 2698.43,-1019.42 2743.73,-968.007 2778.56,-928.458"/>
<polygon fill="black" stroke="black" points="2778.8,-928.19 2779.76,-921.044 2786.73,-919.185 2785.76,-926.331 2778.8,-928.19"/>
</g>
<!-- ndSpentProof&#45;&gt;ndDbc -->
<g id="edge44" class="edge"><title>ndSpentProof&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M2613.77,-1145.97C2639.23,-1128.34 2666.99,-1112.16 2695.19,-1101 2825.81,-1049.31 2869.72,-1081.69 3009.19,-1065 3474.06,-1009.39 4013.47,-941.499 4337.96,-900.293"/>
<polygon fill="black" stroke="black" points="4337.99,-900.29 4343.44,-895.566 4349.89,-898.778 4344.44,-903.502 4337.99,-900.29"/>
</g>
<!-- ndAmountSecrets&#45;&gt;ndDbc -->
<g id="edge45" class="edge"><title>ndAmountSecrets&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M4395,-1100.96C4404.23,-1091.62 4413.6,-1082.14 4423.03,-1072.6"/>
<polygon fill="black" stroke="black" points="4430.24,-1065.3 4426.41,-1075.58 4426.73,-1068.86 4423.21,-1072.41 4423.21,-1072.41 4423.21,-1072.41 4426.73,-1068.86 4420.01,-1069.25 4430.24,-1065.3 4430.24,-1065.3"/>
</g>
<!-- ndAmountSecrets&#45;&gt;ndTransactionBuilder -->
<g id="edge46" class="edge"><title>ndAmountSecrets&#45;&gt;ndTransactionBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M4162.16,-1100.95C4076.32,-928.343 3971.98,-640.833 4090.19,-427 4095.49,-417.421 4101.37,-408.187 4107.74,-399.288"/>
<polygon fill="black" stroke="black" points="4113.74,-391.211 4111.39,-401.922 4110.76,-395.226 4107.78,-399.24 4107.78,-399.24 4107.78,-399.24 4110.76,-395.226 4104.17,-396.558 4113.74,-391.211 4113.74,-391.211"/>
</g>
<!-- ndAmountSecrets&#45;&gt;ndDbcBuilder -->
<g id="edge47" class="edge"><title>ndAmountSecrets&#45;&gt;ndDbcBuilder</title>
<path fill="none" stroke="black" d="M4248.32,-1100.74C4254.45,-976.992 4275.51,-799.461 4341.19,-659 4345.57,-649.641 4350.81,-640.439 4356.6,-631.516"/>
<polygon fill="black" stroke="black" points="4362.32,-623.051 4360.45,-633.857 4359.52,-627.195 4356.72,-631.339 4356.72,-631.339 4356.72,-631.339 4359.52,-627.195 4352.99,-628.82 4362.32,-623.051 4362.32,-623.051"/>
</g>
</g>
</svg>
