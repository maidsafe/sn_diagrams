<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.38.0 (20140413.2041)
 -->
<!-- Title: ml Pages: 1 -->
<svg width="5926pt" height="2092pt"
 viewBox="0.00 0.00 5925.57 2092.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2088)">
<title>ml</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-2088 5921.57,-2088 5921.57,4 -4,4"/>
<!-- ndHash -->
<g id="node1" class="node"><title>ndHash</title>
<g id="a_node1_0"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/lib.rs#:~:text=struct%20Hash" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2084.57,-2034.5 2084.57,-2071.5 2439.57,-2071.5 2439.57,-2034.5 2084.57,-2034.5"/>
<polygon fill="none" stroke="black" points="2084.57,-2034.5 2084.57,-2071.5 2439.57,-2071.5 2439.57,-2034.5 2084.57,-2034.5"/>
<text text-anchor="start" x="2244.07" y="-2050.3" font-family="Arial" font-weight="bold" font-size="14.00">Hash</text>
<polygon fill="white" stroke="none" points="2084.57,-1997.5 2084.57,-2034.5 2439.57,-2034.5 2439.57,-1997.5 2084.57,-1997.5"/>
<polygon fill="none" stroke="black" points="2084.57,-1997.5 2084.57,-2034.5 2439.57,-2034.5 2439.57,-1997.5 2084.57,-1997.5"/>
<text text-anchor="start" x="2095.57" y="-2012.3" font-family="Arial" font-size="14.00">&#45; [u8; 32]</text>
<polygon fill="white" stroke="none" points="2084.57,-1915.5 2084.57,-1997.5 2439.57,-1997.5 2439.57,-1915.5 2084.57,-1915.5"/>
<polygon fill="none" stroke="black" points="2084.57,-1915.5 2084.57,-1997.5 2439.57,-1997.5 2439.57,-1915.5 2084.57,-1915.5"/>
<text text-anchor="start" x="2095.57" y="-1975.3" font-family="Arial" font-size="14.00">&#45; hash(input: &amp;[u8]) &#45;&gt; Self</text>
<text text-anchor="start" x="2095.57" y="-1960.3" font-family="Arial" font-size="14.00">&#45; from(val: [u8; 32]) &#45;&gt; Hash</text>
<text text-anchor="start" x="2095.57" y="-1945.3" font-family="Arial" font-size="14.00">&#45; fmt(&amp;self, f: &amp;mut fmt::Formatter&lt;&#39;_&gt;) &#45;&gt; fmt::Result</text>
<text text-anchor="start" x="2095.57" y="-1930.3" font-family="Arial" font-size="14.00">&#45; as_ref(&amp;self) &#45;&gt; &amp;[u8]</text>
<polygon fill="none" stroke="black" points="2083.07,-1914.5 2083.07,-2072.5 2440.07,-2072.5 2440.07,-1914.5 2083.07,-1914.5"/>
</a>
</g>
</g>
<!-- ndSimpleKeyManager -->
<g id="node6" class="node"><title>ndSimpleKeyManager</title>
<g id="a_node6_1"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/key_manager.rs#:~:text=struct%20SimpleKeyManager" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="935.573,-1322.5 935.573,-1359.5 1503.57,-1359.5 1503.57,-1322.5 935.573,-1322.5"/>
<polygon fill="none" stroke="black" points="935.573,-1322.5 935.573,-1359.5 1503.57,-1359.5 1503.57,-1322.5 935.573,-1322.5"/>
<text text-anchor="start" x="1151.57" y="-1338.3" font-family="Arial" font-weight="bold" font-size="14.00">SimpleKeyManager</text>
<polygon fill="white" stroke="none" points="935.573,-1270.5 935.573,-1322.5 1503.57,-1322.5 1503.57,-1270.5 935.573,-1270.5"/>
<polygon fill="none" stroke="black" points="935.573,-1270.5 935.573,-1322.5 1503.57,-1322.5 1503.57,-1270.5 935.573,-1270.5"/>
<text text-anchor="start" x="946.573" y="-1300.3" font-family="Arial" font-size="14.00">&#45; signer: SimpleSigner</text>
<text text-anchor="start" x="946.573" y="-1285.3" font-family="Arial" font-size="14.00">&#45; cache: Keys</text>
<polygon fill="white" stroke="none" points="935.573,-1143.5 935.573,-1270.5 1503.57,-1270.5 1503.57,-1143.5 935.573,-1143.5"/>
<polygon fill="none" stroke="black" points="935.573,-1143.5 935.573,-1270.5 1503.57,-1270.5 1503.57,-1143.5 935.573,-1143.5"/>
<text text-anchor="start" x="946.573" y="-1248.3" font-family="Arial" font-size="14.00">&#45; from(signer: SimpleSigner) &#45;&gt; Self</text>
<text text-anchor="start" x="946.573" y="-1233.3" font-family="Arial" font-size="14.00">&#45; add_known_key(&amp;mut self, key: PublicKey) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="946.573" y="-1218.3" font-family="Arial" font-size="14.00">&#45; public_key_set(&amp;self) &#45;&gt; Result&lt;PublicKeySet&gt;</text>
<text text-anchor="start" x="946.573" y="-1203.3" font-family="Arial" font-size="14.00">&#45; sign_with_child_key(&amp;self, index: &amp;[u8], tx_hash: &amp;Hash) &#45;&gt; Result&lt;NodeSignature&gt;</text>
<text text-anchor="start" x="946.573" y="-1188.3" font-family="Arial" font-size="14.00">&#45; sign(&amp;self, msg_hash: &amp;Hash) &#45;&gt; Result&lt;NodeSignature&gt;</text>
<text text-anchor="start" x="946.573" y="-1173.3" font-family="Arial" font-size="14.00">&#45; verify(&amp;self, msg_hash: &amp;Hash, key: &amp;PublicKey, signature: &amp;Signature) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="946.573" y="-1158.3" font-family="Arial" font-size="14.00">&#45; verify_known_key(&amp;self, key: &amp;PublicKey) &#45;&gt; Result&lt;()&gt;</text>
<polygon fill="none" stroke="black" points="934.573,-1142.5 934.573,-1360.5 1504.57,-1360.5 1504.57,-1142.5 934.573,-1142.5"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSimpleKeyManager -->
<g id="edge1" class="edge"><title>ndHash&#45;&gt;ndSimpleKeyManager</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2074.78,-1961.7C1969,-1940.2 1851.24,-1908.02 1817.57,-1867 1756.91,-1793.07 1849.22,-1507.54 1783.57,-1438 1743.23,-1395.27 1577.75,-1419.26 1521.57,-1402 1492.31,-1393.01 1462.38,-1381.44 1433.3,-1368.73"/>
<polygon fill="black" stroke="black" points="1423.88,-1364.57 1434.85,-1364.5 1428.46,-1366.59 1433.03,-1368.62 1433.03,-1368.62 1433.03,-1368.62 1428.46,-1366.59 1431.21,-1372.73 1423.88,-1364.57 1423.88,-1364.57"/>
</g>
<!-- ndKeys -->
<g id="node7" class="node"><title>ndKeys</title>
<g id="a_node7_2"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/key_manager.rs#:~:text=struct%20Keys" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="1275.57,-1693.5 1275.57,-1730.5 1766.57,-1730.5 1766.57,-1693.5 1275.57,-1693.5"/>
<polygon fill="none" stroke="black" points="1275.57,-1693.5 1275.57,-1730.5 1766.57,-1730.5 1766.57,-1693.5 1275.57,-1693.5"/>
<text text-anchor="start" x="1503.07" y="-1709.3" font-family="Arial" font-weight="bold" font-size="14.00">Keys</text>
<polygon fill="white" stroke="none" points="1275.57,-1656.5 1275.57,-1693.5 1766.57,-1693.5 1766.57,-1656.5 1275.57,-1656.5"/>
<polygon fill="none" stroke="black" points="1275.57,-1656.5 1275.57,-1693.5 1766.57,-1693.5 1766.57,-1656.5 1275.57,-1656.5"/>
<text text-anchor="start" x="1286.57" y="-1671.3" font-family="Arial" font-size="14.00">&#45; HashSet&lt;PublicKey&gt;</text>
<polygon fill="white" stroke="none" points="1275.57,-1574.5 1275.57,-1656.5 1766.57,-1656.5 1766.57,-1574.5 1275.57,-1574.5"/>
<polygon fill="none" stroke="black" points="1275.57,-1574.5 1275.57,-1656.5 1766.57,-1656.5 1766.57,-1574.5 1275.57,-1574.5"/>
<text text-anchor="start" x="1286.57" y="-1634.3" font-family="Arial" font-size="14.00">&#45; from(keys: Vec&lt;PublicKey&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="1286.57" y="-1619.3" font-family="Arial" font-size="14.00">&#45; add_known_key(&amp;mut self, key: PublicKey)</text>
<text text-anchor="start" x="1286.57" y="-1604.3" font-family="Arial" font-size="14.00">&#45; verify(&amp;self, msg: &amp;Hash, key: &amp;PublicKey, sig: &amp;Signature) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="1286.57" y="-1589.3" font-family="Arial" font-size="14.00">&#45; verify_known_key(&amp;self, key: &amp;PublicKey) &#45;&gt; Result&lt;()&gt;</text>
<polygon fill="none" stroke="black" points="1274.07,-1573.5 1274.07,-1731.5 1767.07,-1731.5 1767.07,-1573.5 1274.07,-1573.5"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndKeys -->
<g id="edge2" class="edge"><title>ndHash&#45;&gt;ndKeys</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2075.07,-1961.37C1985.57,-1941.88 1878.7,-1911.76 1789.57,-1867 1725.34,-1834.74 1661.95,-1785.52 1612.86,-1742.47"/>
<polygon fill="black" stroke="black" points="1605.1,-1735.62 1615.57,-1738.87 1608.85,-1738.93 1612.59,-1742.24 1612.59,-1742.24 1612.59,-1742.24 1608.85,-1738.93 1609.61,-1745.61 1605.1,-1735.62 1605.1,-1735.62"/>
</g>
<!-- ndDbcContent -->
<g id="node11" class="node"><title>ndDbcContent</title>
<g id="a_node11_3"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/dbc_content.rs#:~:text=struct%20DbcContent" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="4619.57,-1314.5 4619.57,-1351.5 5116.57,-1351.5 5116.57,-1314.5 4619.57,-1314.5"/>
<polygon fill="none" stroke="black" points="4619.57,-1314.5 4619.57,-1351.5 5116.57,-1351.5 5116.57,-1314.5 4619.57,-1314.5"/>
<text text-anchor="start" x="4826.57" y="-1330.3" font-family="Arial" font-weight="bold" font-size="14.00">DbcContent</text>
<polygon fill="white" stroke="none" points="4619.57,-1247.5 4619.57,-1314.5 5116.57,-1314.5 5116.57,-1247.5 4619.57,-1247.5"/>
<polygon fill="none" stroke="black" points="4619.57,-1247.5 4619.57,-1314.5 5116.57,-1314.5 5116.57,-1247.5 4619.57,-1247.5"/>
<text text-anchor="start" x="4630.57" y="-1292.3" font-family="Arial" font-size="14.00">+ owner_base: Owner</text>
<text text-anchor="start" x="4630.57" y="-1277.3" font-family="Arial" font-size="14.00">+ owner_derivation_cipher: Ciphertext</text>
<text text-anchor="start" x="4630.57" y="-1262.3" font-family="Arial" font-size="14.00">+ amount_secrets_cipher: Ciphertext</text>
<polygon fill="white" stroke="none" points="4619.57,-1150.5 4619.57,-1247.5 5116.57,-1247.5 5116.57,-1150.5 4619.57,-1150.5"/>
<polygon fill="none" stroke="black" points="4619.57,-1150.5 4619.57,-1247.5 5116.57,-1247.5 5116.57,-1150.5 4619.57,-1150.5"/>
<text text-anchor="start" x="4630.57" y="-1225.3" font-family="Arial" font-size="14.00">&#45; from(params: (Owner, Ciphertext, Ciphertext)) &#45;&gt; Self</text>
<text text-anchor="start" x="4630.57" y="-1210.3" font-family="Arial" font-size="14.00">&#45; from(params: (Owner, DerivationIndex, AmountSecrets)) &#45;&gt; Self</text>
<text text-anchor="start" x="4630.57" y="-1195.3" font-family="Arial" font-size="14.00">&#45; derivation_index(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;DerivationIndex&gt;</text>
<text text-anchor="start" x="4630.57" y="-1180.3" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="4630.57" y="-1165.3" font-family="Arial" font-size="14.00">&#45; hash(&amp;self) &#45;&gt; Hash</text>
<polygon fill="none" stroke="black" points="4618.07,-1150 4618.07,-1353 5117.07,-1353 5117.07,-1150 4618.07,-1150"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndDbcContent -->
<g id="edge3" class="edge"><title>ndHash&#45;&gt;ndDbcContent</title>
<path fill="none" stroke="black" d="M2448.36,-1990.73C2937.46,-1984.79 4229.59,-1960.36 4397.57,-1867 4601.61,-1753.6 4554.9,-1620.39 4700.57,-1438 4719.97,-1413.71 4741.61,-1388.47 4762.72,-1364.71"/>
<polygon fill="black" stroke="black" points="4769.55,-1357.06 4766.25,-1367.52 4766.22,-1360.79 4762.89,-1364.52 4762.89,-1364.52 4762.89,-1364.52 4766.22,-1360.79 4759.53,-1361.52 4769.55,-1357.06 4769.55,-1357.06"/>
</g>
<!-- ndPublicKeyBlstMappable -->
<g id="node13" class="node"><title>ndPublicKeyBlstMappable</title>
<g id="a_node13_4"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/blst.rs#:~:text=struct%20PublicKeyBlstMappable" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="1540.57,-1307.5 1540.57,-1344.5 1869.57,-1344.5 1869.57,-1307.5 1540.57,-1307.5"/>
<polygon fill="none" stroke="black" points="1540.57,-1307.5 1540.57,-1344.5 1869.57,-1344.5 1869.57,-1307.5 1540.57,-1307.5"/>
<text text-anchor="start" x="1622.07" y="-1323.3" font-family="Arial" font-weight="bold" font-size="14.00">PublicKeyBlstMappable</text>
<polygon fill="white" stroke="none" points="1540.57,-1270.5 1540.57,-1307.5 1869.57,-1307.5 1869.57,-1270.5 1540.57,-1270.5"/>
<polygon fill="none" stroke="black" points="1540.57,-1270.5 1540.57,-1307.5 1869.57,-1307.5 1869.57,-1270.5 1540.57,-1270.5"/>
<text text-anchor="start" x="1551.57" y="-1285.3" font-family="Arial" font-size="14.00">&#45; G1Affine</text>
<polygon fill="white" stroke="none" points="1540.57,-1157.5 1540.57,-1270.5 1869.57,-1270.5 1869.57,-1157.5 1540.57,-1157.5"/>
<polygon fill="none" stroke="black" points="1540.57,-1157.5 1540.57,-1270.5 1869.57,-1270.5 1869.57,-1157.5 1540.57,-1157.5"/>
<text text-anchor="start" x="1551.57" y="-1248.3" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; [u8; 48]</text>
<text text-anchor="start" x="1551.57" y="-1233.3" font-family="Arial" font-size="14.00">&#45; random(rng: &amp;mut impl rand8::RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="1551.57" y="-1201.5" font-family="Arial" font-size="14.00">&#45; cmp(&amp;self, other: &amp;Self) &#45;&gt; Ordering</text>
<text text-anchor="start" x="1551.57" y="-1186.5" font-family="Arial" font-size="14.00">&#45; hash(&amp;self, state: &amp;mut H)</text>
<text text-anchor="start" x="1551.57" y="-1171.5" font-family="Arial" font-size="14.00">&#45; from(k: G1Affine) &#45;&gt; Self</text>
<polygon fill="none" stroke="black" points="1539.07,-1157 1539.07,-1346 1870.07,-1346 1870.07,-1157 1539.07,-1157"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndPublicKeyBlstMappable -->
<g id="edge4" class="edge"><title>ndHash&#45;&gt;ndPublicKeyBlstMappable</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2074.98,-1978.92C1996.7,-1963.27 1911.88,-1931.3 1859.57,-1867 1799.13,-1792.69 1847.92,-1528.86 1817.57,-1438 1808.54,-1410.96 1794.99,-1383.72 1780.38,-1358.75"/>
<polygon fill="none" stroke="black" points="1783.3,-1356.82 1775.17,-1350.02 1777.29,-1360.4 1783.3,-1356.82"/>
</g>
<!-- ndSpentProofContent -->
<g id="node21" class="node"><title>ndSpentProofContent</title>
<g id="a_node21_5"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/spent_proof.rs#:~:text=struct%20SpentProofContent" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2298.57,-1708.5 2298.57,-1745.5 2661.57,-1745.5 2661.57,-1708.5 2298.57,-1708.5"/>
<polygon fill="none" stroke="black" points="2298.57,-1708.5 2298.57,-1745.5 2661.57,-1745.5 2661.57,-1708.5 2298.57,-1708.5"/>
<text text-anchor="start" x="2413.07" y="-1724.3" font-family="Arial" font-weight="bold" font-size="14.00">SpentProofContent</text>
<polygon fill="white" stroke="none" points="2298.57,-1641.5 2298.57,-1708.5 2661.57,-1708.5 2661.57,-1641.5 2298.57,-1641.5"/>
<polygon fill="none" stroke="black" points="2298.57,-1641.5 2298.57,-1708.5 2661.57,-1708.5 2661.57,-1641.5 2298.57,-1641.5"/>
<text text-anchor="start" x="2309.57" y="-1686.3" font-family="Arial" font-size="14.00">+ key_image: KeyImage</text>
<text text-anchor="start" x="2309.57" y="-1671.3" font-family="Arial" font-size="14.00">+ transaction_hash: Hash</text>
<text text-anchor="start" x="2309.57" y="-1656.3" font-family="Arial" font-size="14.00">+ public_commitments: Vec&lt;Commitment&gt;</text>
<polygon fill="white" stroke="none" points="2298.57,-1559.5 2298.57,-1641.5 2661.57,-1641.5 2661.57,-1559.5 2298.57,-1559.5"/>
<polygon fill="none" stroke="black" points="2298.57,-1559.5 2298.57,-1641.5 2661.57,-1641.5 2661.57,-1559.5 2298.57,-1559.5"/>
<text text-anchor="start" x="2309.57" y="-1619.3" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="2309.57" y="-1604.3" font-family="Arial" font-size="14.00">&#45; hash(&amp;self) &#45;&gt; Hash</text>
<text text-anchor="start" x="2309.57" y="-1589.3" font-family="Arial" font-size="14.00">&#45; partial_cmp(&amp;self, other: &amp;Self) &#45;&gt; Option&lt;Ordering&gt;</text>
<text text-anchor="start" x="2309.57" y="-1574.3" font-family="Arial" font-size="14.00">&#45; cmp(&amp;self, other: &amp;Self) &#45;&gt; Ordering</text>
<polygon fill="none" stroke="black" points="2297.07,-1558.5 2297.07,-1746.5 2662.07,-1746.5 2662.07,-1558.5 2297.07,-1558.5"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSpentProofContent -->
<g id="edge5" class="edge"><title>ndHash&#45;&gt;ndSpentProofContent</title>
<path fill="none" stroke="black" d="M2314.34,-1910.44C2343.23,-1865.53 2379.36,-1809.34 2410.47,-1760.96"/>
<polygon fill="black" stroke="black" points="2410.53,-1760.86 2410.41,-1753.65 2417.02,-1750.77 2417.14,-1757.98 2410.53,-1760.86"/>
</g>
<!-- ndSpentProofShare -->
<g id="node22" class="node"><title>ndSpentProofShare</title>
<g id="a_node22_6"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/spent_proof.rs#:~:text=struct%20SpentProofShare" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="1904.57,-1345.5 1904.57,-1382.5 2260.57,-1382.5 2260.57,-1345.5 1904.57,-1345.5"/>
<polygon fill="none" stroke="black" points="1904.57,-1345.5 1904.57,-1382.5 2260.57,-1382.5 2260.57,-1345.5 1904.57,-1345.5"/>
<text text-anchor="start" x="2022.07" y="-1361.3" font-family="Arial" font-weight="bold" font-size="14.00">SpentProofShare</text>
<polygon fill="white" stroke="none" points="1904.57,-1278.5 1904.57,-1345.5 2260.57,-1345.5 2260.57,-1278.5 1904.57,-1278.5"/>
<polygon fill="none" stroke="black" points="1904.57,-1278.5 1904.57,-1345.5 2260.57,-1345.5 2260.57,-1278.5 1904.57,-1278.5"/>
<text text-anchor="start" x="1915.57" y="-1323.3" font-family="Arial" font-size="14.00">+ content: SpentProofContent</text>
<text text-anchor="start" x="1915.57" y="-1308.3" font-family="Arial" font-size="14.00">+ spentbook_pks: PublicKeySet</text>
<text text-anchor="start" x="1915.57" y="-1293.3" font-family="Arial" font-size="14.00">+ spentbook_sig_share: NodeSignature</text>
<polygon fill="white" stroke="none" points="1904.57,-1120.5 1904.57,-1278.5 2260.57,-1278.5 2260.57,-1120.5 1904.57,-1120.5"/>
<polygon fill="none" stroke="black" points="1904.57,-1120.5 1904.57,-1278.5 2260.57,-1278.5 2260.57,-1120.5 1904.57,-1120.5"/>
<text text-anchor="start" x="1915.57" y="-1256.3" font-family="Arial" font-size="14.00">&#45; eq(&amp;self, other: &amp;Self) &#45;&gt; bool</text>
<text text-anchor="start" x="1915.57" y="-1224.5" font-family="Arial" font-size="14.00">&#45; hash(&amp;self, state: &amp;mut H)</text>
<text text-anchor="start" x="1915.57" y="-1209.5" font-family="Arial" font-size="14.00">&#45; key_image(&amp;self) &#45;&gt; &amp;KeyImage</text>
<text text-anchor="start" x="1915.57" y="-1194.5" font-family="Arial" font-size="14.00">&#45; transaction_hash(&amp;self) &#45;&gt; Hash</text>
<text text-anchor="start" x="1915.57" y="-1179.5" font-family="Arial" font-size="14.00">&#45; public_commitments(&amp;self) &#45;&gt; &amp;Vec&lt;Commitment&gt;</text>
<text text-anchor="start" x="1915.57" y="-1164.5" font-family="Arial" font-size="14.00">&#45; spentbook_sig_share(&amp;self) &#45;&gt; &amp;NodeSignature</text>
<text text-anchor="start" x="1915.57" y="-1149.5" font-family="Arial" font-size="14.00">&#45; spentbook_pks(&amp;self) &#45;&gt; &amp;PublicKeySet</text>
<text text-anchor="start" x="1915.57" y="-1134.5" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<polygon fill="none" stroke="black" points="1903.57,-1119.5 1903.57,-1383.5 2261.57,-1383.5 2261.57,-1119.5 1903.57,-1119.5"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSpentProofShare -->
<g id="edge6" class="edge"><title>ndHash&#45;&gt;ndSpentProofShare</title>
<path fill="none" stroke="black" d="M2265.38,-1910.31C2270.44,-1777.37 2275.28,-1521.59 2242.57,-1438 2236.98,-1423.7 2229.78,-1409.75 2221.55,-1396.33"/>
<polygon fill="black" stroke="black" points="2215.99,-1387.59 2225.15,-1393.62 2218.67,-1391.81 2221.35,-1396.03 2221.35,-1396.03 2221.35,-1396.03 2218.67,-1391.81 2217.56,-1398.45 2215.99,-1387.59 2215.99,-1387.59"/>
</g>
<!-- ndSpentProof -->
<g id="node23" class="node"><title>ndSpentProof</title>
<g id="a_node23_7"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/spent_proof.rs#:~:text=struct%20SpentProof" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2296.57,-1314.5 2296.57,-1351.5 2662.57,-1351.5 2662.57,-1314.5 2296.57,-1314.5"/>
<polygon fill="none" stroke="black" points="2296.57,-1314.5 2296.57,-1351.5 2662.57,-1351.5 2662.57,-1314.5 2296.57,-1314.5"/>
<text text-anchor="start" x="2440.07" y="-1330.3" font-family="Arial" font-weight="bold" font-size="14.00">SpentProof</text>
<polygon fill="white" stroke="none" points="2296.57,-1247.5 2296.57,-1314.5 2662.57,-1314.5 2662.57,-1247.5 2296.57,-1247.5"/>
<polygon fill="none" stroke="black" points="2296.57,-1247.5 2296.57,-1314.5 2662.57,-1314.5 2662.57,-1247.5 2296.57,-1247.5"/>
<text text-anchor="start" x="2307.57" y="-1292.3" font-family="Arial" font-size="14.00">+ content: SpentProofContent</text>
<text text-anchor="start" x="2307.57" y="-1277.3" font-family="Arial" font-size="14.00">+ spentbook_pub_key: PublicKey</text>
<text text-anchor="start" x="2307.57" y="-1262.3" font-family="Arial" font-size="14.00">+ spentbook_sig: Signature</text>
<polygon fill="white" stroke="none" points="2296.57,-1150.5 2296.57,-1247.5 2662.57,-1247.5 2662.57,-1150.5 2296.57,-1150.5"/>
<polygon fill="none" stroke="black" points="2296.57,-1150.5 2296.57,-1247.5 2662.57,-1247.5 2662.57,-1150.5 2296.57,-1150.5"/>
<text text-anchor="start" x="2307.57" y="-1225.3" font-family="Arial" font-size="14.00">&#45; key_image(&amp;self) &#45;&gt; &amp;KeyImage</text>
<text text-anchor="start" x="2307.57" y="-1210.3" font-family="Arial" font-size="14.00">&#45; transaction_hash(&amp;self) &#45;&gt; Hash</text>
<text text-anchor="start" x="2307.57" y="-1195.3" font-family="Arial" font-size="14.00">&#45; public_commitments(&amp;self) &#45;&gt; &amp;Vec&lt;Commitment&gt;</text>
<text text-anchor="start" x="2307.57" y="-1180.3" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="2307.57" y="-1165.3" font-family="Arial" font-size="14.00">&#45; verify(&amp;self, tx_hash: Hash, verifier: &amp;K) &#45;&gt; Result&lt;()&gt;</text>
<polygon fill="none" stroke="black" points="2295.57,-1150 2295.57,-1353 2663.57,-1353 2663.57,-1150 2295.57,-1150"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSpentProof -->
<g id="edge7" class="edge"><title>ndHash&#45;&gt;ndSpentProof</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2448.14,-1958.94C2545.25,-1937.27 2649.68,-1905.87 2678.57,-1867 2792.32,-1713.98 2754.62,-1612.85 2678.57,-1438 2666.94,-1411.25 2649.33,-1386.61 2629.31,-1364.61"/>
<polygon fill="black" stroke="black" points="2622.44,-1357.26 2632.55,-1361.49 2625.85,-1360.91 2629.27,-1364.56 2629.27,-1364.56 2629.27,-1364.56 2625.85,-1360.91 2625.98,-1367.64 2622.44,-1357.26 2622.44,-1357.26"/>
</g>
<!-- ndSpentBookNodeMock -->
<g id="node25" class="node"><title>ndSpentBookNodeMock</title>
<g id="a_node25_8"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/spentbook.rs#:~:text=struct%20SpentBookNodeMock" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="819.573,-955 819.573,-992 1620.57,-992 1620.57,-955 819.573,-955"/>
<polygon fill="none" stroke="black" points="819.573,-955 819.573,-992 1620.57,-992 1620.57,-955 819.573,-955"/>
<text text-anchor="start" x="1144.07" y="-970.8" font-family="Arial" font-weight="bold" font-size="14.00">SpentBookNodeMock</text>
<polygon fill="white" stroke="none" points="819.573,-858 819.573,-955 1620.57,-955 1620.57,-858 819.573,-858"/>
<polygon fill="none" stroke="black" points="819.573,-858 819.573,-955 1620.57,-955 1620.57,-858 819.573,-858"/>
<text text-anchor="start" x="830.573" y="-932.8" font-family="Arial" font-size="14.00">+ key_manager: SimpleKeyManager</text>
<text text-anchor="start" x="830.573" y="-917.8" font-family="Arial" font-size="14.00">+ transactions: HashMap&lt;Hash, RingCtTransaction&gt;</text>
<text text-anchor="start" x="830.573" y="-902.8" font-family="Arial" font-size="14.00">+ key_images: BTreeMap&lt;KeyImage, Hash&gt;</text>
<text text-anchor="start" x="830.573" y="-887.8" font-family="Arial" font-size="14.00">+ outputs: BTreeMap&lt;PublicKeyBlstMappable, OutputProof&gt;</text>
<text text-anchor="start" x="830.573" y="-872.8" font-family="Arial" font-size="14.00">+ genesis: (KeyImage, Commitment)</text>
<polygon fill="white" stroke="none" points="819.573,-731 819.573,-858 1620.57,-858 1620.57,-731 819.573,-731"/>
<polygon fill="none" stroke="black" points="819.573,-731 819.573,-858 1620.57,-858 1620.57,-731 819.573,-731"/>
<text text-anchor="start" x="830.573" y="-835.8" font-family="Arial" font-size="14.00">&#45; from(key_manager: SimpleKeyManager) &#45;&gt; Self</text>
<text text-anchor="start" x="830.573" y="-820.8" font-family="Arial" font-size="14.00">&#45; iter(&amp;self) &#45;&gt; impl Iterator&lt;Item = (&amp;KeyImage, &amp;RingCtTransaction)&gt; + &#39;_</text>
<text text-anchor="start" x="830.573" y="-805.8" font-family="Arial" font-size="14.00">&#45; is_spent(&amp;self, key_image: &amp;KeyImage) &#45;&gt; bool</text>
<text text-anchor="start" x="830.573" y="-790.8" font-family="Arial" font-size="14.00">&#45; log_spent(&amp;mut self, key_image: KeyImage, tx: RingCtTransaction) &#45;&gt; Result&lt;SpentProofShare&gt;</text>
<text text-anchor="start" x="830.573" y="-775.8" font-family="Arial" font-size="14.00">&#45; log_spent_and_skip_tx_verification(&amp;mut self, key_image: KeyImage, tx: RingCtTransaction) &#45;&gt; Result&lt;SpentProofShare&gt;</text>
<text text-anchor="start" x="830.573" y="-760.8" font-family="Arial" font-size="14.00">&#45; log_spent_worker(&amp;mut self, key_image: KeyImage, tx: RingCtTransaction, verify_tx: bool) &#45;&gt; Result&lt;SpentProofShare&gt;</text>
<text text-anchor="start" x="830.573" y="-745.8" font-family="Arial" font-size="14.00">&#45; random_decoys(&amp;self, target_num: usize, rng: &amp;mut impl rand8::RngCore) &#45;&gt; Vec&lt;DecoyInput&gt;</text>
<polygon fill="none" stroke="black" points="818.073,-730.5 818.073,-993.5 1621.07,-993.5 1621.07,-730.5 818.073,-730.5"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSpentBookNodeMock -->
<g id="edge8" class="edge"><title>ndHash&#45;&gt;ndSpentBookNodeMock</title>
<path fill="none" stroke="black" d="M2074.78,-1988.62C1559.67,-1977.03 152.446,-1938.9 84.5731,-1867 -46.3115,-1728.35 -6.77597,-1605.36 84.5731,-1438 228.154,-1174.95 538.327,-1029.22 798.19,-950.336"/>
<polygon fill="black" stroke="black" points="798.254,-950.317 802.848,-944.759 809.746,-946.862 805.151,-952.42 798.254,-950.317"/>
</g>
<!-- ndTransactionVerifier -->
<g id="node26" class="node"><title>ndTransactionVerifier</title>
<g id="a_node26_9"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/verification.rs#:~:text=struct%20TransactionVerifier" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2698.57,-1273.5 2698.57,-1310.5 3816.57,-1310.5 3816.57,-1273.5 2698.57,-1273.5"/>
<polygon fill="none" stroke="black" points="2698.57,-1273.5 2698.57,-1310.5 3816.57,-1310.5 3816.57,-1273.5 2698.57,-1273.5"/>
<text text-anchor="start" x="3191.07" y="-1289.3" font-family="Arial" font-weight="bold" font-size="14.00">TransactionVerifier</text>
<polygon fill="white" stroke="none" points="2698.57,-1191.5 2698.57,-1273.5 3816.57,-1273.5 3816.57,-1191.5 2698.57,-1191.5"/>
<polygon fill="none" stroke="black" points="2698.57,-1191.5 2698.57,-1273.5 3816.57,-1273.5 3816.57,-1191.5 2698.57,-1191.5"/>
<text text-anchor="start" x="2709.57" y="-1251.3" font-family="Arial" font-size="14.00">&#45; verify(verifier: &amp;K, transaction: &amp;RingCtTransaction, mint_sigs: &amp;BTreeMap&lt;KeyImage, (PublicKey, Signature)&gt;, spent_proofs: &amp;BTreeSet&lt;SpentProof&gt;) &#45;&gt; Result&lt;(), Error&gt;</text>
<text text-anchor="start" x="2709.57" y="-1236.3" font-family="Arial" font-size="14.00">&#45; pk_sig_bytes(pk: &amp;PublicKey, sig: &amp;Signature) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="2709.57" y="-1221.3" font-family="Arial" font-size="14.00">&#45; verify_without_sigs(verifier: &amp;K, transaction: &amp;RingCtTransaction, spent_proofs: &amp;BTreeSet&lt;SpentProof&gt;) &#45;&gt; Result&lt;(), Error&gt;</text>
<text text-anchor="start" x="2709.57" y="-1206.3" font-family="Arial" font-size="14.00">&#45; verify_without_sigs_internal(verifier: &amp;K, transaction: &amp;RingCtTransaction, transaction_hash: Hash, spent_proofs: &amp;BTreeSet&lt;SpentProof&gt;) &#45;&gt; Result&lt;(), Error&gt;</text>
<polygon fill="none" stroke="black" points="2697.57,-1191 2697.57,-1312 3817.57,-1312 3817.57,-1191 2697.57,-1191"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndTransactionVerifier -->
<g id="edge9" class="edge"><title>ndHash&#45;&gt;ndTransactionVerifier</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2448.13,-1968.61C2538.04,-1950.77 2644.35,-1919.95 2728.57,-1867 2955.45,-1724.36 3137.44,-1454.04 3215.83,-1324.82"/>
<polygon fill="black" stroke="black" points="3221.07,-1316.14 3219.76,-1327.02 3218.49,-1320.42 3215.91,-1324.7 3215.91,-1324.7 3215.91,-1324.7 3218.49,-1320.42 3212.05,-1322.37 3221.07,-1316.14 3221.07,-1316.14"/>
</g>
<!-- ndError -->
<g id="node2" class="node"><title>ndError</title>
<g id="a_node2_10"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/error.rs#:~:text=enum%20Error" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="4017.57,-1824.5 4017.57,-1861.5 4379.57,-1861.5 4379.57,-1824.5 4017.57,-1824.5"/>
<polygon fill="none" stroke="black" points="4017.57,-1824.5 4017.57,-1861.5 4379.57,-1861.5 4379.57,-1824.5 4017.57,-1824.5"/>
<text text-anchor="start" x="4180.07" y="-1840.3" font-family="Arial" font-weight="bold" font-size="14.00">Error</text>
<polygon fill="white" stroke="none" points="4017.57,-1442.5 4017.57,-1824.5 4379.57,-1824.5 4379.57,-1442.5 4017.57,-1442.5"/>
<polygon fill="none" stroke="black" points="4017.57,-1442.5 4017.57,-1824.5 4379.57,-1824.5 4379.57,-1442.5 4017.57,-1442.5"/>
<text text-anchor="start" x="4028.57" y="-1802.3" font-family="Arial" font-size="14.00">Signing(String)</text>
<text text-anchor="start" x="4028.57" y="-1787.3" font-family="Arial" font-size="14.00">FailedSignature</text>
<text text-anchor="start" x="4028.57" y="-1772.3" font-family="Arial" font-size="14.00">UnrecognisedAuthority</text>
<text text-anchor="start" x="4028.57" y="-1757.3" font-family="Arial" font-size="14.00">MissingSignatureForInput</text>
<text text-anchor="start" x="4028.57" y="-1742.3" font-family="Arial" font-size="14.00">MintSignatureInputMismatch</text>
<text text-anchor="start" x="4028.57" y="-1727.3" font-family="Arial" font-size="14.00">InvalidSpentProofSignature(KeyImage)</text>
<text text-anchor="start" x="4028.57" y="-1712.3" font-family="Arial" font-size="14.00">InvalidTransactionHash</text>
<text text-anchor="start" x="4028.57" y="-1697.3" font-family="Arial" font-size="14.00">DbcContentNotPresentInTransactionOutput</text>
<text text-anchor="start" x="4028.57" y="-1682.3" font-family="Arial" font-size="14.00">OutputProofNotFound</text>
<text text-anchor="start" x="4028.57" y="-1667.3" font-family="Arial" font-size="14.00">PublicKeyNotUniqueAcrossOutputs</text>
<text text-anchor="start" x="4028.57" y="-1652.3" font-family="Arial" font-size="14.00">SpentProofInputMismatch</text>
<text text-anchor="start" x="4028.57" y="-1637.3" font-family="Arial" font-size="14.00">ReissueRequestMissingSpentProofShare(KeyImage)</text>
<text text-anchor="start" x="4028.57" y="-1622.3" font-family="Arial" font-size="14.00">ReissueSharePublicKeySetMismatch</text>
<text text-anchor="start" x="4028.57" y="-1607.3" font-family="Arial" font-size="14.00">DecryptionBySecretKeyFailed</text>
<text text-anchor="start" x="4028.57" y="-1592.3" font-family="Arial" font-size="14.00">AmountSecretsBytesInvalid</text>
<text text-anchor="start" x="4028.57" y="-1577.3" font-family="Arial" font-size="14.00">AmountCommitmentsDoNotMatch</text>
<text text-anchor="start" x="4028.57" y="-1562.3" font-family="Arial" font-size="14.00">SecretKeyUnavailable</text>
<text text-anchor="start" x="4028.57" y="-1547.3" font-family="Arial" font-size="14.00">PublicKeyNotFound</text>
<text text-anchor="start" x="4028.57" y="-1532.3" font-family="Arial" font-size="14.00">SecretKeyDoesNotMatchPublicKey</text>
<text text-anchor="start" x="4028.57" y="-1517.3" font-family="Arial" font-size="14.00">SpentbookKeyImageAlreadySpent</text>
<text text-anchor="start" x="4028.57" y="-1502.3" font-family="Arial" font-size="14.00">SpentbookRingSizeMismatch(usize, usize)</text>
<text text-anchor="start" x="4028.57" y="-1487.3" font-family="Arial" font-size="14.00">Blsttc(blsttc::error::Error)</text>
<text text-anchor="start" x="4028.57" y="-1472.3" font-family="Arial" font-size="14.00">RingCt(blst_ringct::Error)</text>
<text text-anchor="start" x="4028.57" y="-1457.3" font-family="Arial" font-size="14.00">Infallible(std::convert::Infallible)</text>
<polygon fill="none" stroke="black" points="4016.57,-1442 4016.57,-1863 4380.57,-1863 4380.57,-1442 4016.57,-1442"/>
</a>
</g>
</g>
<!-- ndDbc -->
<g id="node17" class="node"><title>ndDbc</title>
<g id="a_node17_11"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/dbc.rs#:~:text=struct%20Dbc" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="4310.57,-1023 4310.57,-1060 4852.57,-1060 4852.57,-1023 4310.57,-1023"/>
<polygon fill="none" stroke="black" points="4310.57,-1023 4310.57,-1060 4852.57,-1060 4852.57,-1023 4310.57,-1023"/>
<text text-anchor="start" x="4567.57" y="-1038.8" font-family="Arial" font-weight="bold" font-size="14.00">Dbc</text>
<polygon fill="white" stroke="none" points="4310.57,-941 4310.57,-1023 4852.57,-1023 4852.57,-941 4310.57,-941"/>
<polygon fill="none" stroke="black" points="4310.57,-941 4310.57,-1023 4852.57,-1023 4852.57,-941 4310.57,-941"/>
<text text-anchor="start" x="4321.57" y="-1000.8" font-family="Arial" font-size="14.00">+ content: DbcContent</text>
<text text-anchor="start" x="4321.57" y="-985.8" font-family="Arial" font-size="14.00">+ transaction: RingCtTransaction</text>
<text text-anchor="start" x="4321.57" y="-970.8" font-family="Arial" font-size="14.00">+ mint_sigs: BTreeMap&lt;KeyImage, (PublicKey, Signature)&gt;</text>
<text text-anchor="start" x="4321.57" y="-955.8" font-family="Arial" font-size="14.00">+ spent_proofs: BTreeSet&lt;SpentProof&gt;</text>
<polygon fill="white" stroke="none" points="4310.57,-664 4310.57,-941 4852.57,-941 4852.57,-664 4310.57,-664"/>
<polygon fill="none" stroke="black" points="4310.57,-664 4310.57,-941 4852.57,-941 4852.57,-664 4310.57,-664"/>
<text text-anchor="start" x="4321.57" y="-918.8" font-family="Arial" font-size="14.00">&#45; owner_base(&amp;self) &#45;&gt; &amp;Owner</text>
<text text-anchor="start" x="4321.57" y="-903.8" font-family="Arial" font-size="14.00">&#45; owner_once(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;Owner&gt;</text>
<text text-anchor="start" x="4321.57" y="-888.8" font-family="Arial" font-size="14.00">&#45; owner_once_bearer(&amp;self) &#45;&gt; Result&lt;Owner&gt;</text>
<text text-anchor="start" x="4321.57" y="-873.8" font-family="Arial" font-size="14.00">&#45; derivation_index(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;DerivationIndex&gt;</text>
<text text-anchor="start" x="4321.57" y="-858.8" font-family="Arial" font-size="14.00">&#45; derivation_index_bearer(&amp;self) &#45;&gt; Result&lt;DerivationIndex&gt;</text>
<text text-anchor="start" x="4321.57" y="-843.8" font-family="Arial" font-size="14.00">&#45; is_bearer(&amp;self) &#45;&gt; bool</text>
<text text-anchor="start" x="4321.57" y="-828.8" font-family="Arial" font-size="14.00">&#45; amount_secrets(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;AmountSecrets&gt;</text>
<text text-anchor="start" x="4321.57" y="-813.8" font-family="Arial" font-size="14.00">&#45; amount_secrets_bearer(&amp;self) &#45;&gt; Result&lt;AmountSecrets&gt;</text>
<text text-anchor="start" x="4321.57" y="-798.8" font-family="Arial" font-size="14.00">&#45; key_image(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;KeyImage&gt;</text>
<text text-anchor="start" x="4321.57" y="-783.8" font-family="Arial" font-size="14.00">&#45; key_image_bearer(&amp;self) &#45;&gt; Result&lt;KeyImage&gt;</text>
<text text-anchor="start" x="4321.57" y="-768.8" font-family="Arial" font-size="14.00">&#45; as_true_input(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;TrueInput&gt;</text>
<text text-anchor="start" x="4321.57" y="-753.8" font-family="Arial" font-size="14.00">&#45; as_true_input_bearer(&amp;self) &#45;&gt; Result&lt;TrueInput&gt;</text>
<text text-anchor="start" x="4321.57" y="-738.8" font-family="Arial" font-size="14.00">&#45; hash(&amp;self) &#45;&gt; [u8; 32]</text>
<text text-anchor="start" x="4321.57" y="-723.8" font-family="Arial" font-size="14.00">&#45; verify(&amp;self, base_sk: &amp;SecretKey, verifier: &amp;K) &#45;&gt; Result&lt;(), Error&gt;</text>
<text text-anchor="start" x="4321.57" y="-708.8" font-family="Arial" font-size="14.00">&#45; verify_bearer(&amp;self, mint_verifier: &amp;K) &#45;&gt; Result&lt;(), Error&gt;</text>
<text text-anchor="start" x="4321.57" y="-693.8" font-family="Arial" font-size="14.00">&#45; verify_amount_matches_commitment(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="4321.57" y="-678.8" font-family="Arial" font-size="14.00">&#45; my_output_proof(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;&amp;OutputProof&gt;</text>
<polygon fill="none" stroke="black" points="4309.57,-663 4309.57,-1061 4853.57,-1061 4853.57,-663 4309.57,-663"/>
</a>
</g>
</g>
<!-- ndError&#45;&gt;ndDbc -->
<g id="edge10" class="edge"><title>ndError&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M4388.64,-1543.1C4465.58,-1494.99 4541.33,-1440.65 4562.57,-1402 4592.85,-1346.92 4596.59,-1201.4 4593.31,-1075.43"/>
<polygon fill="black" stroke="black" points="4593.03,-1065.24 4597.8,-1075.11 4593.17,-1070.24 4593.31,-1075.24 4593.31,-1075.24 4593.31,-1075.24 4593.17,-1070.24 4588.81,-1075.36 4593.03,-1065.24 4593.03,-1065.24"/>
</g>
<!-- ndAmountSecrets -->
<g id="node24" class="node"><title>ndAmountSecrets</title>
<g id="a_node24_12"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/amount_secrets.rs#:~:text=struct%20AmountSecrets" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="3852.57,-1359.5 3852.57,-1396.5 4544.57,-1396.5 4544.57,-1359.5 3852.57,-1359.5"/>
<polygon fill="none" stroke="black" points="3852.57,-1359.5 3852.57,-1396.5 4544.57,-1396.5 4544.57,-1359.5 3852.57,-1359.5"/>
<text text-anchor="start" x="4144.57" y="-1375.3" font-family="Arial" font-weight="bold" font-size="14.00">AmountSecrets</text>
<polygon fill="white" stroke="none" points="3852.57,-1322.5 3852.57,-1359.5 4544.57,-1359.5 4544.57,-1322.5 3852.57,-1322.5"/>
<polygon fill="none" stroke="black" points="3852.57,-1322.5 3852.57,-1359.5 4544.57,-1359.5 4544.57,-1322.5 3852.57,-1322.5"/>
<text text-anchor="start" x="3863.57" y="-1337.3" font-family="Arial" font-size="14.00">&#45; RevealedCommitment</text>
<polygon fill="white" stroke="none" points="3852.57,-1105.5 3852.57,-1322.5 4544.57,-1322.5 4544.57,-1105.5 3852.57,-1105.5"/>
<polygon fill="none" stroke="black" points="3852.57,-1105.5 3852.57,-1322.5 4544.57,-1322.5 4544.57,-1105.5 3852.57,-1105.5"/>
<text text-anchor="start" x="3863.57" y="-1300.3" font-family="Arial" font-size="14.00">&#45; amount(&amp;self) &#45;&gt; Amount</text>
<text text-anchor="start" x="3863.57" y="-1285.3" font-family="Arial" font-size="14.00">&#45; blinding_factor(&amp;self) &#45;&gt; SecretKeyBlst</text>
<text text-anchor="start" x="3863.57" y="-1270.3" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="3863.57" y="-1255.3" font-family="Arial" font-size="14.00">&#45; from_bytes(bytes: [u8; AMT_SIZE + BF_SIZE]) &#45;&gt; Self</text>
<text text-anchor="start" x="3863.57" y="-1240.3" font-family="Arial" font-size="14.00">&#45; from_bytes_ref(bytes: &amp;[u8]) &#45;&gt; Result&lt;Self, Error&gt;</text>
<text text-anchor="start" x="3863.57" y="-1225.3" font-family="Arial" font-size="14.00">&#45; from_amount(amount: Amount, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="3863.57" y="-1210.3" font-family="Arial" font-size="14.00">&#45; encrypt(&amp;self, public_key: &amp;PublicKey) &#45;&gt; Ciphertext</text>
<text text-anchor="start" x="3863.57" y="-1195.3" font-family="Arial" font-size="14.00">&#45; from(revealed_commitment: RevealedCommitment) &#45;&gt; Self</text>
<text text-anchor="start" x="3863.57" y="-1180.3" font-family="Arial" font-size="14.00">&#45; from(params: (Amount, BlindingFactor)) &#45;&gt; Self</text>
<text text-anchor="start" x="3863.57" y="-1165.3" font-family="Arial" font-size="14.00">&#45; try_from(params: (&amp;SecretKey, &amp;Ciphertext)) &#45;&gt; Result&lt;Self, Error&gt;</text>
<text text-anchor="start" x="3863.57" y="-1150.3" font-family="Arial" font-size="14.00">&#45; try_from(params: (&amp;SecretKeySet, &amp;Ciphertext)) &#45;&gt; Result&lt;Self, Error&gt;</text>
<text text-anchor="start" x="3863.57" y="-1135.3" font-family="Arial" font-size="14.00">&#45; try_from(params: (&amp;PublicKeySet, &amp;BTreeMap&lt;I, SecretKeyShare&gt;, &amp;Ciphertext)) &#45;&gt; Result&lt;Self, Error&gt;</text>
<text text-anchor="start" x="3863.57" y="-1120.3" font-family="Arial" font-size="14.00">&#45; try_from(params: (&amp;PublicKeySet, &amp;BTreeMap&lt;I, DecryptionShare&gt;, &amp;Ciphertext)) &#45;&gt; Result&lt;Self, Error&gt;</text>
<polygon fill="none" stroke="black" points="3851.57,-1105 3851.57,-1398 4545.57,-1398 4545.57,-1105 3851.57,-1105"/>
</a>
</g>
</g>
<!-- ndError&#45;&gt;ndAmountSecrets -->
<g id="edge11" class="edge"><title>ndError&#45;&gt;ndAmountSecrets</title>
<path fill="none" stroke="black" d="M4198.57,-1437.98C4198.57,-1429.42 4198.57,-1420.89 4198.57,-1412.46"/>
<polygon fill="black" stroke="black" points="4198.57,-1402.23 4203.07,-1412.23 4198.57,-1407.23 4198.57,-1412.23 4198.57,-1412.23 4198.57,-1412.23 4198.57,-1407.23 4194.07,-1412.23 4198.57,-1402.23 4198.57,-1402.23"/>
</g>
<!-- ndError&#45;&gt;ndTransactionVerifier -->
<g id="edge12" class="edge"><title>ndError&#45;&gt;ndTransactionVerifier</title>
<path fill="none" stroke="black" d="M4008.43,-1570.88C3834.7,-1497.21 3580.69,-1389.51 3417.24,-1320.2"/>
<polygon fill="black" stroke="black" points="3407.58,-1316.11 3418.55,-1315.87 3412.19,-1318.06 3416.79,-1320.01 3416.79,-1320.01 3416.79,-1320.01 3412.19,-1318.06 3415.03,-1324.15 3407.58,-1316.11 3407.58,-1316.11"/>
</g>
<!-- ndNodeSignature -->
<g id="node3" class="node"><title>ndNodeSignature</title>
<g id="a_node3_13"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/key_manager.rs#:~:text=struct%20NodeSignature" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="1878.57,-1693.5 1878.57,-1730.5 2225.57,-1730.5 2225.57,-1693.5 1878.57,-1693.5"/>
<polygon fill="none" stroke="black" points="1878.57,-1693.5 1878.57,-1730.5 2225.57,-1730.5 2225.57,-1693.5 1878.57,-1693.5"/>
<text text-anchor="start" x="2000.07" y="-1709.3" font-family="Arial" font-weight="bold" font-size="14.00">NodeSignature</text>
<polygon fill="white" stroke="none" points="1878.57,-1641.5 1878.57,-1693.5 2225.57,-1693.5 2225.57,-1641.5 1878.57,-1641.5"/>
<polygon fill="none" stroke="black" points="1878.57,-1641.5 1878.57,-1693.5 2225.57,-1693.5 2225.57,-1641.5 1878.57,-1641.5"/>
<text text-anchor="start" x="1889.57" y="-1671.3" font-family="Arial" font-size="14.00">&#45; index: u64</text>
<text text-anchor="start" x="1889.57" y="-1656.3" font-family="Arial" font-size="14.00">&#45; sig: SignatureShare</text>
<polygon fill="white" stroke="none" points="1878.57,-1574.5 1878.57,-1641.5 2225.57,-1641.5 2225.57,-1574.5 1878.57,-1574.5"/>
<polygon fill="none" stroke="black" points="1878.57,-1574.5 1878.57,-1641.5 2225.57,-1641.5 2225.57,-1574.5 1878.57,-1574.5"/>
<text text-anchor="start" x="1889.57" y="-1619.3" font-family="Arial" font-size="14.00">&#45; new(index: u64, sig: SignatureShare) &#45;&gt; Self</text>
<text text-anchor="start" x="1889.57" y="-1604.3" font-family="Arial" font-size="14.00">&#45; threshold_crypto(&amp;self) &#45;&gt; (u64, &amp;SignatureShare)</text>
<text text-anchor="start" x="1889.57" y="-1589.3" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<polygon fill="none" stroke="black" points="1877.07,-1573.5 1877.07,-1731.5 2226.07,-1731.5 2226.07,-1573.5 1877.07,-1573.5"/>
</a>
</g>
</g>
<!-- ndNodeSignature&#45;&gt;ndSimpleKeyManager -->
<g id="edge13" class="edge"><title>ndNodeSignature&#45;&gt;ndSimpleKeyManager</title>
<path fill="none" stroke="black" d="M1985.03,-1569.46C1942.33,-1522.83 1882.8,-1467.94 1817.57,-1438 1697.13,-1382.72 1648.55,-1439.94 1521.57,-1402 1491.98,-1393.16 1461.76,-1381.61 1432.41,-1368.84"/>
<polygon fill="black" stroke="black" points="1422.92,-1364.65 1433.88,-1364.57 1427.49,-1366.67 1432.07,-1368.69 1432.07,-1368.69 1432.07,-1368.69 1427.49,-1366.67 1430.25,-1372.8 1422.92,-1364.65 1422.92,-1364.65"/>
</g>
<!-- ndNodeSignature&#45;&gt;ndSpentProofShare -->
<g id="edge14" class="edge"><title>ndNodeSignature&#45;&gt;ndSpentProofShare</title>
<path fill="none" stroke="black" d="M2057.96,-1569.31C2061.76,-1520.43 2066.69,-1456.98 2071.14,-1399.72"/>
<polygon fill="black" stroke="black" points="2071.15,-1399.56 2067.62,-1393.27 2072.08,-1387.6 2075.6,-1393.89 2071.15,-1399.56"/>
</g>
<!-- ndKeyManager -->
<g id="node4" class="node"><title>ndKeyManager</title>
<g id="a_node4_14"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/key_manager.rs#:~:text=trait%20KeyManager" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightgreen" stroke="none" points="103.573,-1689.5 103.573,-1726.5 630.573,-1726.5 630.573,-1689.5 103.573,-1689.5"/>
<polygon fill="none" stroke="black" points="103.573,-1689.5 103.573,-1726.5 630.573,-1726.5 630.573,-1689.5 103.573,-1689.5"/>
<text text-anchor="start" x="322.573" y="-1705.3" font-family="Arial" font-weight="bold" font-size="14.00">KeyManager</text>
<polygon fill="white" stroke="none" points="103.573,-1577.5 103.573,-1689.5 630.573,-1689.5 630.573,-1577.5 103.573,-1577.5"/>
<polygon fill="none" stroke="black" points="103.573,-1577.5 103.573,-1689.5 630.573,-1689.5 630.573,-1577.5 103.573,-1577.5"/>
<text text-anchor="start" x="114.573" y="-1667.3" font-family="Arial" font-size="14.00">add_known_key(&amp;mut Self, PublicKey) &#45;&gt; Result&lt;(), Self::Error&gt;</text>
<text text-anchor="start" x="114.573" y="-1652.3" font-family="Arial" font-size="14.00">sign_with_child_key(&amp;Self, &amp;[u8], &amp;Hash) &#45;&gt; Result&lt;NodeSignature, Self::Error&gt;</text>
<text text-anchor="start" x="114.573" y="-1637.3" font-family="Arial" font-size="14.00">sign(&amp;Self, &amp;Hash) &#45;&gt; Result&lt;NodeSignature, Self::Error&gt;</text>
<text text-anchor="start" x="114.573" y="-1622.3" font-family="Arial" font-size="14.00">public_key_set(&amp;Self) &#45;&gt; Result&lt;PublicKeySet, Self::Error&gt;</text>
<text text-anchor="start" x="114.573" y="-1607.3" font-family="Arial" font-size="14.00">verify(&amp;Self, &amp;Hash, &amp;PublicKey, &amp;Signature) &#45;&gt; Result&lt;(), Self::Error&gt;</text>
<text text-anchor="start" x="114.573" y="-1592.3" font-family="Arial" font-size="14.00">verify_known_key(&amp;Self, &amp;PublicKey) &#45;&gt; Result&lt;(), Self::Error&gt;</text>
<polygon fill="none" stroke="black" points="102.073,-1577 102.073,-1728 631.073,-1728 631.073,-1577 102.073,-1577"/>
</a>
</g>
</g>
<!-- ndKeyManager&#45;&gt;ndSimpleKeyManager -->
<g id="edge15" class="edge"><title>ndKeyManager&#45;&gt;ndSimpleKeyManager</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M454.382,-1572.81C507.567,-1528.37 578.485,-1474.58 648.573,-1438 732.043,-1394.43 827.703,-1358.51 916.557,-1330.27"/>
<polygon fill="none" stroke="black" points="917.759,-1333.56 926.242,-1327.21 915.652,-1326.89 917.759,-1333.56"/>
</g>
<!-- ndKeyManager&#45;&gt;ndSpentBookNodeMock -->
<g id="edge16" class="edge"><title>ndKeyManager&#45;&gt;ndSpentBookNodeMock</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M439.604,-1572.92C542.619,-1463.39 738.108,-1260.38 917.573,-1101 954.037,-1068.62 994.283,-1035.34 1033.18,-1004.3"/>
<polygon fill="black" stroke="black" points="1041.46,-997.718 1036.44,-1007.47 1037.55,-1000.83 1033.64,-1003.94 1033.64,-1003.94 1033.64,-1003.94 1037.55,-1000.83 1030.83,-1000.42 1041.46,-997.718 1041.46,-997.718"/>
</g>
<!-- ndSimpleSigner -->
<g id="node5" class="node"><title>ndSimpleSigner</title>
<g id="a_node5_15"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/key_manager.rs#:~:text=struct%20SimpleSigner" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="666.573,-1715.5 666.573,-1752.5 1238.57,-1752.5 1238.57,-1715.5 666.573,-1715.5"/>
<polygon fill="none" stroke="black" points="666.573,-1715.5 666.573,-1752.5 1238.57,-1752.5 1238.57,-1715.5 666.573,-1715.5"/>
<text text-anchor="start" x="905.573" y="-1731.3" font-family="Arial" font-weight="bold" font-size="14.00">SimpleSigner</text>
<polygon fill="white" stroke="none" points="666.573,-1663.5 666.573,-1715.5 1238.57,-1715.5 1238.57,-1663.5 666.573,-1663.5"/>
<polygon fill="none" stroke="black" points="666.573,-1663.5 666.573,-1715.5 1238.57,-1715.5 1238.57,-1663.5 666.573,-1663.5"/>
<text text-anchor="start" x="677.573" y="-1693.3" font-family="Arial" font-size="14.00">&#45; public_key_set: PublicKeySet</text>
<text text-anchor="start" x="677.573" y="-1678.3" font-family="Arial" font-size="14.00">&#45; secret_key_share: (u64, SerdeSecret&lt;SecretKeyShare&gt;)</text>
<polygon fill="white" stroke="none" points="666.573,-1551.5 666.573,-1663.5 1238.57,-1663.5 1238.57,-1551.5 666.573,-1551.5"/>
<polygon fill="none" stroke="black" points="666.573,-1551.5 666.573,-1663.5 1238.57,-1663.5 1238.57,-1551.5 666.573,-1551.5"/>
<text text-anchor="start" x="677.573" y="-1641.3" font-family="Arial" font-size="14.00">&#45; from(outcome: bls_dkg::outcome::Outcome) &#45;&gt; Self</text>
<text text-anchor="start" x="677.573" y="-1626.3" font-family="Arial" font-size="14.00">&#45; new(public_key_set: PublicKeySet, secret_key_share: (u64, SecretKeyShare)) &#45;&gt; Self</text>
<text text-anchor="start" x="677.573" y="-1611.3" font-family="Arial" font-size="14.00">&#45; index(&amp;self) &#45;&gt; u64</text>
<text text-anchor="start" x="677.573" y="-1596.3" font-family="Arial" font-size="14.00">&#45; public_key_set(&amp;self) &#45;&gt; PublicKeySet</text>
<text text-anchor="start" x="677.573" y="-1581.3" font-family="Arial" font-size="14.00">&#45; sign(&amp;self, msg: M) &#45;&gt; blsttc::SignatureShare</text>
<text text-anchor="start" x="677.573" y="-1566.3" font-family="Arial" font-size="14.00">&#45; derive_child(&amp;self, index: &amp;[u8]) &#45;&gt; Self</text>
<polygon fill="none" stroke="black" points="665.573,-1551 665.573,-1754 1239.57,-1754 1239.57,-1551 665.573,-1551"/>
</a>
</g>
</g>
<!-- ndSimpleSigner&#45;&gt;ndSimpleKeyManager -->
<g id="edge17" class="edge"><title>ndSimpleSigner&#45;&gt;ndSimpleKeyManager</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1022.55,-1546.93C1057.82,-1494.22 1100.81,-1429.98 1137.62,-1374.97"/>
<polygon fill="black" stroke="black" points="1137.75,-1374.78 1137.76,-1367.57 1144.42,-1364.81 1144.41,-1372.02 1137.75,-1374.78"/>
</g>
<!-- ndSimpleKeyManager&#45;&gt;ndSpentBookNodeMock -->
<g id="edge18" class="edge"><title>ndSimpleKeyManager&#45;&gt;ndSpentBookNodeMock</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1219.57,-1138.42C1219.57,-1098.36 1219.57,-1052.59 1219.57,-1010.03"/>
<polygon fill="black" stroke="black" points="1219.57,-1009.82 1215.57,-1003.82 1219.57,-997.821 1223.57,-1003.82 1219.57,-1009.82"/>
</g>
<!-- ndKeys&#45;&gt;ndSimpleKeyManager -->
<g id="edge19" class="edge"><title>ndKeys&#45;&gt;ndSimpleKeyManager</title>
<path fill="none" stroke="black" d="M1458.57,-1569.31C1416.17,-1513.11 1359.24,-1437.65 1311.58,-1374.47"/>
<polygon fill="black" stroke="black" points="1311.55,-1374.42 1304.74,-1372.04 1304.32,-1364.84 1311.13,-1367.22 1311.55,-1374.42"/>
</g>
<!-- ndReissueRequest -->
<g id="node8" class="node"><title>ndReissueRequest</title>
<g id="a_node8_16"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/mint.rs#:~:text=struct%20ReissueRequest" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2315.57,-869 2315.57,-906 2592.57,-906 2592.57,-869 2315.57,-869"/>
<polygon fill="none" stroke="black" points="2315.57,-869 2315.57,-906 2592.57,-906 2592.57,-869 2315.57,-869"/>
<text text-anchor="start" x="2397.57" y="-884.8" font-family="Arial" font-weight="bold" font-size="14.00">ReissueRequest</text>
<polygon fill="white" stroke="none" points="2315.57,-817 2315.57,-869 2592.57,-869 2592.57,-817 2315.57,-817"/>
<polygon fill="none" stroke="black" points="2315.57,-817 2315.57,-869 2592.57,-869 2592.57,-817 2315.57,-817"/>
<text text-anchor="start" x="2326.57" y="-846.8" font-family="Arial" font-size="14.00">+ transaction: RingCtTransaction</text>
<text text-anchor="start" x="2326.57" y="-831.8" font-family="Arial" font-size="14.00">+ spent_proofs: BTreeSet&lt;SpentProof&gt;</text>
<polygon fill="none" stroke="black" points="2314.07,-816.5 2314.07,-907.5 2593.07,-907.5 2593.07,-816.5 2314.07,-816.5"/>
</a>
</g>
</g>
<!-- ndMintNode -->
<g id="node10" class="node"><title>ndMintNode</title>
<g id="a_node10_17"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/mint.rs#:~:text=struct%20MintNode" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2457.57,-581 2457.57,-618 3082.57,-618 3082.57,-581 2457.57,-581"/>
<polygon fill="none" stroke="black" points="2457.57,-581 2457.57,-618 3082.57,-618 3082.57,-581 2457.57,-581"/>
<text text-anchor="start" x="2736.57" y="-596.8" font-family="Arial" font-weight="bold" font-size="14.00">MintNode</text>
<polygon fill="white" stroke="none" points="2457.57,-544 2457.57,-581 3082.57,-581 3082.57,-544 2457.57,-544"/>
<polygon fill="none" stroke="black" points="2457.57,-544 2457.57,-581 3082.57,-581 3082.57,-544 2457.57,-544"/>
<text text-anchor="start" x="2468.57" y="-558.8" font-family="Arial" font-size="14.00">+ key_manager: K</text>
<polygon fill="white" stroke="none" points="2457.57,-432 2457.57,-544 3082.57,-544 3082.57,-432 2457.57,-432"/>
<polygon fill="none" stroke="black" points="2457.57,-432 2457.57,-544 3082.57,-544 3082.57,-432 2457.57,-432"/>
<text text-anchor="start" x="2468.57" y="-521.8" font-family="Arial" font-size="14.00">&#45; new(key_manager: K) &#45;&gt; Self</text>
<text text-anchor="start" x="2468.57" y="-506.8" font-family="Arial" font-size="14.00">&#45; trust_spentbook_public_key(mut self, public_key: PublicKey) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="2468.57" y="-491.8" font-family="Arial" font-size="14.00">&#45; key_manager(&amp;self) &#45;&gt; &amp;K</text>
<text text-anchor="start" x="2468.57" y="-476.8" font-family="Arial" font-size="14.00">&#45; spend(_key_image: KeyImage, _transaction: RingCtTransaction) &#45;&gt; Result&lt;SpentProofShare&gt;</text>
<text text-anchor="start" x="2468.57" y="-461.8" font-family="Arial" font-size="14.00">&#45; reissue(&amp;self, reissue_req: ReissueRequest) &#45;&gt; Result&lt;ReissueShare&gt;</text>
<text text-anchor="start" x="2468.57" y="-446.8" font-family="Arial" font-size="14.00">&#45; sign_transaction(&amp;self, transaction: &amp;RingCtTransaction) &#45;&gt; Result&lt;MintNodeSignatures&gt;</text>
<polygon fill="none" stroke="black" points="2456.07,-431 2456.07,-619 3083.07,-619 3083.07,-431 2456.07,-431"/>
</a>
</g>
</g>
<!-- ndReissueRequest&#45;&gt;ndMintNode -->
<g id="edge20" class="edge"><title>ndReissueRequest&#45;&gt;ndMintNode</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2488.58,-812.427C2519.93,-770.179 2568.14,-708.188 2615.57,-659 2624.85,-649.382 2634.74,-639.703 2644.87,-630.191"/>
<polygon fill="black" stroke="black" points="2652.28,-623.298 2648.03,-633.403 2648.62,-626.703 2644.96,-630.108 2644.96,-630.108 2644.96,-630.108 2648.62,-626.703 2641.9,-626.813 2652.28,-623.298 2652.28,-623.298"/>
</g>
<!-- ndReissueRequestBuilder -->
<g id="node19" class="node"><title>ndReissueRequestBuilder</title>
<g id="a_node19_18"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/builder.rs#:~:text=struct%20ReissueRequestBuilder" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="1796.57,-581 1796.57,-618 2420.57,-618 2420.57,-581 1796.57,-581"/>
<polygon fill="none" stroke="black" points="1796.57,-581 1796.57,-618 2420.57,-618 2420.57,-581 1796.57,-581"/>
<text text-anchor="start" x="2027.07" y="-596.8" font-family="Arial" font-weight="bold" font-size="14.00">ReissueRequestBuilder</text>
<polygon fill="white" stroke="none" points="1796.57,-529 1796.57,-581 2420.57,-581 2420.57,-529 1796.57,-529"/>
<polygon fill="none" stroke="black" points="1796.57,-529 1796.57,-581 2420.57,-581 2420.57,-529 1796.57,-529"/>
<text text-anchor="start" x="1807.57" y="-558.8" font-family="Arial" font-size="14.00">+ transaction: RingCtTransaction</text>
<text text-anchor="start" x="1807.57" y="-543.8" font-family="Arial" font-size="14.00">+ spent_proof_shares: BTreeMap&lt;KeyImage, HashSet&lt;SpentProofShare&gt;&gt;</text>
<polygon fill="white" stroke="none" points="1796.57,-432 1796.57,-529 2420.57,-529 2420.57,-432 1796.57,-432"/>
<polygon fill="none" stroke="black" points="1796.57,-432 1796.57,-529 2420.57,-529 2420.57,-432 1796.57,-432"/>
<text text-anchor="start" x="1807.57" y="-506.8" font-family="Arial" font-size="14.00">&#45; new(transaction: RingCtTransaction) &#45;&gt; Self</text>
<text text-anchor="start" x="1807.57" y="-491.8" font-family="Arial" font-size="14.00">&#45; add_spent_proof_share(mut self, share: SpentProofShare) &#45;&gt; Self</text>
<text text-anchor="start" x="1807.57" y="-476.8" font-family="Arial" font-size="14.00">&#45; add_spent_proof_shares(mut self, shares: impl IntoIterator&lt;Item = SpentProofShare&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="1807.57" y="-461.8" font-family="Arial" font-size="14.00">&#45; inputs(&amp;self) &#45;&gt; Vec&lt;(KeyImage, RingCtTransaction)&gt;</text>
<text text-anchor="start" x="1807.57" y="-446.8" font-family="Arial" font-size="14.00">&#45; build(self) &#45;&gt; Result&lt;ReissueRequest&gt;</text>
<polygon fill="none" stroke="black" points="1795.57,-431 1795.57,-619 2421.57,-619 2421.57,-431 1795.57,-431"/>
</a>
</g>
</g>
<!-- ndReissueRequest&#45;&gt;ndReissueRequestBuilder -->
<g id="edge21" class="edge"><title>ndReissueRequest&#45;&gt;ndReissueRequestBuilder</title>
<path fill="none" stroke="black" d="M2403.41,-812.288C2354.56,-764.857 2278.75,-691.244 2216.24,-630.541"/>
<polygon fill="black" stroke="black" points="2208.68,-623.205 2218.99,-626.943 2212.27,-626.688 2215.85,-630.172 2215.85,-630.172 2215.85,-630.172 2212.27,-626.688 2212.72,-633.4 2208.68,-623.205 2208.68,-623.205"/>
</g>
<!-- ndReissueShare -->
<g id="node9" class="node"><title>ndReissueShare</title>
<g id="a_node9_19"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/mint.rs#:~:text=struct%20ReissueShare" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2666.57,-877 2666.57,-914 2976.57,-914 2976.57,-877 2666.57,-877"/>
<polygon fill="none" stroke="black" points="2666.57,-877 2666.57,-914 2976.57,-914 2976.57,-877 2666.57,-877"/>
<text text-anchor="start" x="2773.07" y="-892.8" font-family="Arial" font-weight="bold" font-size="14.00">ReissueShare</text>
<polygon fill="white" stroke="none" points="2666.57,-810 2666.57,-877 2976.57,-877 2976.57,-810 2666.57,-810"/>
<polygon fill="none" stroke="black" points="2666.57,-810 2666.57,-877 2976.57,-877 2976.57,-810 2666.57,-810"/>
<text text-anchor="start" x="2677.57" y="-854.8" font-family="Arial" font-size="14.00">+ transaction: RingCtTransaction</text>
<text text-anchor="start" x="2677.57" y="-839.8" font-family="Arial" font-size="14.00">+ spent_proofs: BTreeSet&lt;SpentProof&gt;</text>
<text text-anchor="start" x="2677.57" y="-824.8" font-family="Arial" font-size="14.00">+ mint_node_signatures: MintNodeSignatures</text>
<polygon fill="none" stroke="black" points="2665.57,-809 2665.57,-915 2977.57,-915 2977.57,-809 2665.57,-809"/>
</a>
</g>
</g>
<!-- ndReissueShare&#45;&gt;ndMintNode -->
<g id="edge22" class="edge"><title>ndReissueShare&#45;&gt;ndMintNode</title>
<path fill="none" stroke="black" d="M2812.87,-804.929C2805.63,-758.277 2795.11,-690.52 2786.26,-633.47"/>
<polygon fill="black" stroke="black" points="2784.68,-623.317 2790.66,-632.508 2785.45,-628.258 2786.21,-633.199 2786.21,-633.199 2786.21,-633.199 2785.45,-628.258 2781.77,-633.889 2784.68,-623.317 2784.68,-623.317"/>
</g>
<!-- ndDbcBuilder -->
<g id="node20" class="node"><title>ndDbcBuilder</title>
<g id="a_node20_20"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/builder.rs#:~:text=struct%20DbcBuilder" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="4060.57,-581 4060.57,-618 4757.57,-618 4757.57,-581 4060.57,-581"/>
<polygon fill="none" stroke="black" points="4060.57,-581 4060.57,-618 4757.57,-618 4757.57,-581 4060.57,-581"/>
<text text-anchor="start" x="4369.57" y="-596.8" font-family="Arial" font-weight="bold" font-size="14.00">DbcBuilder</text>
<polygon fill="white" stroke="none" points="4060.57,-514 4060.57,-581 4757.57,-581 4757.57,-514 4060.57,-514"/>
<polygon fill="none" stroke="black" points="4060.57,-514 4060.57,-581 4757.57,-581 4757.57,-514 4060.57,-514"/>
<text text-anchor="start" x="4071.57" y="-558.8" font-family="Arial" font-size="14.00">+ revealed_commitments: Vec&lt;RevealedCommitment&gt;</text>
<text text-anchor="start" x="4071.57" y="-543.8" font-family="Arial" font-size="14.00">+ output_owner_map: OutputOwnerMap</text>
<text text-anchor="start" x="4071.57" y="-528.8" font-family="Arial" font-size="14.00">+ reissue_shares: Vec&lt;ReissueShare&gt;</text>
<polygon fill="white" stroke="none" points="4060.57,-432 4060.57,-514 4757.57,-514 4757.57,-432 4060.57,-432"/>
<polygon fill="none" stroke="black" points="4060.57,-432 4060.57,-514 4757.57,-514 4757.57,-432 4060.57,-432"/>
<text text-anchor="start" x="4071.57" y="-491.8" font-family="Arial" font-size="14.00">&#45; new(revealed_commitments: Vec&lt;RevealedCommitment&gt;, output_owner_map: OutputOwnerMap) &#45;&gt; Self</text>
<text text-anchor="start" x="4071.57" y="-476.8" font-family="Arial" font-size="14.00">&#45; add_reissue_share(mut self, reissue_share: ReissueShare) &#45;&gt; Self</text>
<text text-anchor="start" x="4071.57" y="-461.8" font-family="Arial" font-size="14.00">&#45; add_reissue_shares(mut self, shares: impl IntoIterator&lt;Item = ReissueShare&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="4071.57" y="-446.8" font-family="Arial" font-size="14.00">&#45; build(self, verifier: &amp;K) &#45;&gt; Result&lt;Vec&lt;(Dbc, OwnerOnce, AmountSecrets)&gt;&gt;</text>
<polygon fill="none" stroke="black" points="4059.07,-431 4059.07,-619 4758.07,-619 4758.07,-431 4059.07,-431"/>
</a>
</g>
</g>
<!-- ndReissueShare&#45;&gt;ndDbcBuilder -->
<g id="edge23" class="edge"><title>ndReissueShare&#45;&gt;ndDbcBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2985.8,-826.333C3232.79,-774.197 3706.31,-674.24 4039.04,-604.005"/>
<polygon fill="black" stroke="black" points="4039.07,-603.998 4044.12,-598.845 4050.81,-601.519 4045.77,-606.672 4039.07,-603.998"/>
</g>
<!-- ndDbcContent&#45;&gt;ndDbc -->
<g id="edge24" class="edge"><title>ndDbcContent&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M4790.37,-1145.89C4774.01,-1123.73 4756.18,-1099.58 4738.06,-1075.03"/>
<polygon fill="black" stroke="black" points="4737.96,-1074.89 4731.18,-1072.44 4730.84,-1065.24 4737.62,-1067.69 4737.96,-1074.89"/>
</g>
<!-- ndGenesisMaterial -->
<g id="node12" class="node"><title>ndGenesisMaterial</title>
<g id="a_node12_21"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/genesis.rs#:~:text=struct%20GenesisMaterial" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="5229.57,-1693.5 5229.57,-1730.5 5456.57,-1730.5 5456.57,-1693.5 5229.57,-1693.5"/>
<polygon fill="none" stroke="black" points="5229.57,-1693.5 5229.57,-1730.5 5456.57,-1730.5 5456.57,-1693.5 5229.57,-1693.5"/>
<text text-anchor="start" x="5286.57" y="-1709.3" font-family="Arial" font-weight="bold" font-size="14.00">GenesisMaterial</text>
<polygon fill="white" stroke="none" points="5229.57,-1626.5 5229.57,-1693.5 5456.57,-1693.5 5456.57,-1626.5 5229.57,-1626.5"/>
<polygon fill="none" stroke="black" points="5229.57,-1626.5 5229.57,-1693.5 5456.57,-1693.5 5456.57,-1626.5 5229.57,-1626.5"/>
<text text-anchor="start" x="5240.57" y="-1671.3" font-family="Arial" font-size="14.00">+ ringct_material: RingCtMaterial</text>
<text text-anchor="start" x="5240.57" y="-1656.3" font-family="Arial" font-size="14.00">+ owner_once: OwnerOnce</text>
<text text-anchor="start" x="5240.57" y="-1641.3" font-family="Arial" font-size="14.00">+ input_key_image: KeyImage</text>
<polygon fill="white" stroke="none" points="5229.57,-1573.5 5229.57,-1626.5 5456.57,-1626.5 5456.57,-1573.5 5229.57,-1573.5"/>
<polygon fill="none" stroke="black" points="5229.57,-1573.5 5229.57,-1626.5 5456.57,-1626.5 5456.57,-1573.5 5229.57,-1573.5"/>
<text text-anchor="start" x="5240.57" y="-1589.3" font-family="Arial" font-size="14.00">&#45; default() &#45;&gt; Self</text>
<polygon fill="none" stroke="black" points="5228.07,-1573 5228.07,-1732 5457.07,-1732 5457.07,-1573 5228.07,-1573"/>
</a>
</g>
</g>
<!-- ndPublicKeyBlstMappable&#45;&gt;ndSpentBookNodeMock -->
<g id="edge25" class="edge"><title>ndPublicKeyBlstMappable&#45;&gt;ndSpentBookNodeMock</title>
<path fill="none" stroke="black" d="M1585.71,-1152.89C1564.41,-1135.54 1542.37,-1117.69 1521.57,-1101 1482.77,-1069.86 1440.97,-1036.69 1401.2,-1005.3"/>
<polygon fill="black" stroke="black" points="1401.09,-1005.21 1393.91,-1004.64 1391.67,-997.782 1398.86,-998.358 1401.09,-1005.21"/>
</g>
<!-- ndBlsHelper -->
<g id="node14" class="node"><title>ndBlsHelper</title>
<g id="a_node14_22"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/blst.rs#:~:text=struct%20BlsHelper" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="5492.57,-2015.5 5492.57,-2052.5 5908.57,-2052.5 5908.57,-2015.5 5492.57,-2015.5"/>
<polygon fill="none" stroke="black" points="5492.57,-2015.5 5492.57,-2052.5 5908.57,-2052.5 5908.57,-2015.5 5492.57,-2015.5"/>
<text text-anchor="start" x="5666.57" y="-2031.3" font-family="Arial" font-weight="bold" font-size="14.00">BlsHelper</text>
<polygon fill="white" stroke="none" points="5492.57,-1933.5 5492.57,-2015.5 5908.57,-2015.5 5908.57,-1933.5 5492.57,-1933.5"/>
<polygon fill="none" stroke="black" points="5492.57,-1933.5 5492.57,-2015.5 5908.57,-2015.5 5908.57,-1933.5 5492.57,-1933.5"/>
<text text-anchor="start" x="5503.57" y="-1993.3" font-family="Arial" font-size="14.00">&#45; blsttc_to_blstrs_secret_key(sk: SecretKey) &#45;&gt; SecretKeyBlst</text>
<text text-anchor="start" x="5503.57" y="-1978.3" font-family="Arial" font-size="14.00">&#45; blsttc_to_blstrs_public_key(pk: &amp;PublicKey) &#45;&gt; PublicKeyBlst</text>
<text text-anchor="start" x="5503.57" y="-1963.3" font-family="Arial" font-size="14.00">&#45; blstrs_to_blsttc_public_key(pk: &amp;PublicKeyBlst) &#45;&gt; PublicKey</text>
<text text-anchor="start" x="5503.57" y="-1948.3" font-family="Arial" font-size="14.00">&#45; blstrs_to_blsttc_secret_key(sk: SecretKeyBlst) &#45;&gt; SecretKey</text>
<polygon fill="none" stroke="black" points="5491.57,-1933 5491.57,-2054 5909.57,-2054 5909.57,-1933 5491.57,-1933"/>
</a>
</g>
</g>
<!-- ndOwner -->
<g id="node15" class="node"><title>ndOwner</title>
<g id="a_node15_23"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/owner.rs#:~:text=enum%20Owner" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="4718.57,-1776.5 4718.57,-1813.5 5155.57,-1813.5 5155.57,-1776.5 4718.57,-1776.5"/>
<polygon fill="none" stroke="black" points="4718.57,-1776.5 4718.57,-1813.5 5155.57,-1813.5 5155.57,-1776.5 4718.57,-1776.5"/>
<text text-anchor="start" x="4914.07" y="-1792.3" font-family="Arial" font-weight="bold" font-size="14.00">Owner</text>
<polygon fill="white" stroke="none" points="4718.57,-1724.5 4718.57,-1776.5 5155.57,-1776.5 5155.57,-1724.5 4718.57,-1724.5"/>
<polygon fill="none" stroke="black" points="4718.57,-1724.5 4718.57,-1776.5 5155.57,-1776.5 5155.57,-1724.5 4718.57,-1724.5"/>
<text text-anchor="start" x="4729.57" y="-1754.3" font-family="Arial" font-size="14.00">SecretKey(SerdeSecret&lt;SecretKey&gt;)</text>
<text text-anchor="start" x="4729.57" y="-1739.3" font-family="Arial" font-size="14.00">PublicKey(PublicKey)</text>
<polygon fill="white" stroke="none" points="4718.57,-1491.5 4718.57,-1724.5 5155.57,-1724.5 5155.57,-1491.5 4718.57,-1491.5"/>
<polygon fill="none" stroke="black" points="4718.57,-1491.5 4718.57,-1724.5 5155.57,-1724.5 5155.57,-1491.5 4718.57,-1491.5"/>
<text text-anchor="start" x="4729.57" y="-1702.3" font-family="Arial" font-size="14.00">&#45; fmt(&amp;self, f: &amp;mut fmt::Formatter&lt;&#39;_&gt;) &#45;&gt; fmt::Result</text>
<text text-anchor="start" x="4729.57" y="-1687.3" font-family="Arial" font-size="14.00">&#45; from(s: SecretKey) &#45;&gt; Self</text>
<text text-anchor="start" x="4729.57" y="-1672.3" font-family="Arial" font-size="14.00">&#45; from(p: PublicKey) &#45;&gt; Self</text>
<text text-anchor="start" x="4729.57" y="-1657.3" font-family="Arial" font-size="14.00">&#45; eq(&amp;self, other: &amp;Self) &#45;&gt; bool</text>
<text text-anchor="start" x="4729.57" y="-1625.5" font-family="Arial" font-size="14.00">&#45; public_key(&amp;self) &#45;&gt; PublicKey</text>
<text text-anchor="start" x="4729.57" y="-1610.5" font-family="Arial" font-size="14.00">&#45; secret_key(&amp;self) &#45;&gt; Result&lt;SecretKey&gt;</text>
<text text-anchor="start" x="4729.57" y="-1595.5" font-family="Arial" font-size="14.00">&#45; public_key_blst(&amp;self) &#45;&gt; PublicKeyBlst</text>
<text text-anchor="start" x="4729.57" y="-1580.5" font-family="Arial" font-size="14.00">&#45; secret_key_blst(&amp;self) &#45;&gt; Result&lt;SecretKeyBlst&gt;</text>
<text text-anchor="start" x="4729.57" y="-1565.5" font-family="Arial" font-size="14.00">&#45; derive(&amp;self, i: &amp;DerivationIndex) &#45;&gt; Self</text>
<text text-anchor="start" x="4729.57" y="-1550.5" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="4729.57" y="-1535.5" font-family="Arial" font-size="14.00">&#45; has_secret_key(&amp;self) &#45;&gt; bool</text>
<text text-anchor="start" x="4729.57" y="-1520.5" font-family="Arial" font-size="14.00">&#45; from_random_secret_key(rng: &amp;mut impl rand::RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="4729.57" y="-1505.5" font-family="Arial" font-size="14.00">&#45; from(o: OwnerOnce) &#45;&gt; Self</text>
<polygon fill="none" stroke="black" points="4717.07,-1490.5 4717.07,-1814.5 5156.07,-1814.5 5156.07,-1490.5 4717.07,-1490.5"/>
</a>
</g>
</g>
<!-- ndOwner&#45;&gt;ndDbcContent -->
<g id="edge26" class="edge"><title>ndOwner&#45;&gt;ndDbcContent</title>
<path fill="none" stroke="black" d="M4908.01,-1486.33C4901.21,-1447.04 4894.1,-1405.91 4887.77,-1369.3"/>
<polygon fill="black" stroke="black" points="4887.7,-1368.89 4882.74,-1363.66 4885.66,-1357.07 4890.62,-1362.3 4887.7,-1368.89"/>
</g>
<!-- ndOwnerOnce -->
<g id="node16" class="node"><title>ndOwnerOnce</title>
<g id="a_node16_24"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/owner.rs#:~:text=struct%20OwnerOnce" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="4926.57,-2041.5 4926.57,-2078.5 5456.57,-2078.5 5456.57,-2041.5 4926.57,-2041.5"/>
<polygon fill="none" stroke="black" points="4926.57,-2041.5 4926.57,-2078.5 5456.57,-2078.5 5456.57,-2041.5 4926.57,-2041.5"/>
<text text-anchor="start" x="5150.07" y="-2057.3" font-family="Arial" font-weight="bold" font-size="14.00">OwnerOnce</text>
<polygon fill="white" stroke="none" points="4926.57,-1989.5 4926.57,-2041.5 5456.57,-2041.5 5456.57,-1989.5 4926.57,-1989.5"/>
<polygon fill="none" stroke="black" points="4926.57,-1989.5 4926.57,-2041.5 5456.57,-2041.5 5456.57,-1989.5 4926.57,-1989.5"/>
<text text-anchor="start" x="4937.57" y="-2019.3" font-family="Arial" font-size="14.00">+ owner_base: Owner</text>
<text text-anchor="start" x="4937.57" y="-2004.3" font-family="Arial" font-size="14.00">+ derivation_index: DerivationIndex</text>
<polygon fill="white" stroke="none" points="4926.57,-1907.5 4926.57,-1989.5 5456.57,-1989.5 5456.57,-1907.5 4926.57,-1907.5"/>
<polygon fill="none" stroke="black" points="4926.57,-1907.5 4926.57,-1989.5 5456.57,-1989.5 5456.57,-1907.5 4926.57,-1907.5"/>
<text text-anchor="start" x="4937.57" y="-1967.3" font-family="Arial" font-size="14.00">&#45; owner_base(&amp;self) &#45;&gt; &amp;Owner</text>
<text text-anchor="start" x="4937.57" y="-1952.3" font-family="Arial" font-size="14.00">&#45; as_owner(&amp;self) &#45;&gt; Owner</text>
<text text-anchor="start" x="4937.57" y="-1937.3" font-family="Arial" font-size="14.00">&#45; from_owner_base(owner_base: Owner, rng: &amp;mut impl rand8::RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="4937.57" y="-1922.3" font-family="Arial" font-size="14.00">&#45; random_derivation_index(rng: &amp;mut impl rand8::RngCore) &#45;&gt; [u8; 32]</text>
<polygon fill="none" stroke="black" points="4925.57,-1907 4925.57,-2080 5457.57,-2080 5457.57,-1907 4925.57,-1907"/>
</a>
</g>
</g>
<!-- ndOwner&#45;&gt;ndOwnerOnce -->
<g id="edge27" class="edge"><title>ndOwner&#45;&gt;ndOwnerOnce</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M5067.57,-1818.67C5086.73,-1844.11 5105.78,-1869.69 5123.01,-1893.1"/>
<polygon fill="black" stroke="black" points="5123.17,-1893.32 5129.95,-1895.78 5130.27,-1902.99 5123.5,-1900.52 5123.17,-1893.32"/>
</g>
<!-- ndOwner&#45;&gt;ndDbc -->
<g id="edge28" class="edge"><title>ndOwner&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M5091.4,-1486.49C5109.04,-1459.88 5124.33,-1431.37 5134.57,-1402 5156.59,-1338.84 5171.35,-1156.87 5134.57,-1101 5074.79,-1010.19 4972.29,-953.881 4871.66,-919.031"/>
<polygon fill="black" stroke="black" points="4861.93,-915.725 4872.84,-914.681 4866.66,-917.334 4871.39,-918.942 4871.39,-918.942 4871.39,-918.942 4866.66,-917.334 4869.95,-923.203 4861.93,-915.725 4861.93,-915.725"/>
</g>
<!-- ndOwnerOnce&#45;&gt;ndGenesisMaterial -->
<g id="edge29" class="edge"><title>ndOwnerOnce&#45;&gt;ndGenesisMaterial</title>
<path fill="none" stroke="black" d="M5231.44,-1902.99C5252.8,-1855.03 5279.1,-1796 5300.75,-1747.39"/>
<polygon fill="black" stroke="black" points="5300.84,-1747.2 5299.63,-1740.09 5305.72,-1736.24 5306.93,-1743.34 5300.84,-1747.2"/>
</g>
<!-- ndOwnerOnce&#45;&gt;ndOwner -->
<g id="edge30" class="edge"><title>ndOwnerOnce&#45;&gt;ndOwner</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M5118.21,-1902.99C5100.03,-1879.43 5080.07,-1853.2 5060.22,-1826.85"/>
<polygon fill="black" stroke="black" points="5054.07,-1818.67 5063.68,-1823.96 5057.07,-1822.67 5060.08,-1826.66 5060.08,-1826.66 5060.08,-1826.66 5057.07,-1822.67 5056.48,-1829.37 5054.07,-1818.67 5054.07,-1818.67"/>
</g>
<!-- ndTransactionBuilder -->
<g id="node18" class="node"><title>ndTransactionBuilder</title>
<g id="a_node18_25"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/builder.rs#:~:text=struct%20TransactionBuilder" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="3888.57,-348.5 3888.57,-385.5 4928.57,-385.5 4928.57,-348.5 3888.57,-348.5"/>
<polygon fill="none" stroke="black" points="3888.57,-348.5 3888.57,-385.5 4928.57,-385.5 4928.57,-348.5 3888.57,-348.5"/>
<text text-anchor="start" x="4341.57" y="-364.3" font-family="Arial" font-weight="bold" font-size="14.00">TransactionBuilder</text>
<polygon fill="white" stroke="none" points="3888.57,-296.5 3888.57,-348.5 4928.57,-348.5 4928.57,-296.5 3888.57,-296.5"/>
<polygon fill="none" stroke="black" points="3888.57,-296.5 3888.57,-348.5 4928.57,-348.5 4928.57,-296.5 3888.57,-296.5"/>
<text text-anchor="start" x="3899.57" y="-326.3" font-family="Arial" font-size="14.00">&#45; ringct_material: RingCtMaterial</text>
<text text-anchor="start" x="3899.57" y="-311.3" font-family="Arial" font-size="14.00">&#45; output_owner_map: OutputOwnerMap</text>
<polygon fill="white" stroke="none" points="3888.57,-4.5 3888.57,-296.5 4928.57,-296.5 4928.57,-4.5 3888.57,-4.5"/>
<polygon fill="none" stroke="black" points="3888.57,-4.5 3888.57,-296.5 4928.57,-296.5 4928.57,-4.5 3888.57,-4.5"/>
<text text-anchor="start" x="3899.57" y="-274.3" font-family="Arial" font-size="14.00">&#45; add_input(mut self, mlsag: MlsagMaterial) &#45;&gt; Self</text>
<text text-anchor="start" x="3899.57" y="-259.3" font-family="Arial" font-size="14.00">&#45; add_inputs(mut self, inputs: impl IntoIterator&lt;Item = MlsagMaterial&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="3899.57" y="-244.3" font-family="Arial" font-size="14.00">&#45; add_input_by_true_input(mut self, true_input: TrueInput, decoy_inputs: Vec&lt;DecoyInput&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="3899.57" y="-229.3" font-family="Arial" font-size="14.00">&#45; add_inputs_by_true_inputs(mut self, inputs: impl IntoIterator&lt;Item = (TrueInput, Vec&lt;DecoyInput&gt;)&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="3899.57" y="-214.3" font-family="Arial" font-size="14.00">&#45; add_input_dbc(mut self, dbc: &amp;Dbc, base_sk: &amp;SecretKey, decoy_inputs: Vec&lt;DecoyInput&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="3899.57" y="-199.3" font-family="Arial" font-size="14.00">&#45; add_inputs_dbc(mut self, dbcs: impl IntoIterator&lt;Item = (Dbc, SecretKey, Vec&lt;DecoyInput&gt;)&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="3899.57" y="-184.3" font-family="Arial" font-size="14.00">&#45; add_input_dbc_bearer(mut self, dbc: &amp;Dbc, decoy_inputs: Vec&lt;DecoyInput&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="3899.57" y="-169.3" font-family="Arial" font-size="14.00">&#45; add_inputs_dbc_bearer(mut self, dbcs: impl IntoIterator&lt;Item = (Dbc, Vec&lt;DecoyInput&gt;)&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="3899.57" y="-154.3" font-family="Arial" font-size="14.00">&#45; add_input_by_secrets(mut self, secret_key: SecretKeyBlst, amount_secrets: AmountSecrets, decoy_inputs: Vec&lt;DecoyInput&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="3899.57" y="-139.3" font-family="Arial" font-size="14.00">&#45; add_inputs_by_secrets(mut self, secrets: Vec&lt;(SecretKeyBlst, AmountSecrets, Vec&lt;DecoyInput&gt;)&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="3899.57" y="-124.3" font-family="Arial" font-size="14.00">&#45; add_output(mut self, output: Output, owner: OwnerOnce) &#45;&gt; Self</text>
<text text-anchor="start" x="3899.57" y="-109.3" font-family="Arial" font-size="14.00">&#45; add_outputs(mut self, outputs: impl IntoIterator&lt;Item = (Output, OwnerOnce)&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="3899.57" y="-94.3" font-family="Arial" font-size="14.00">&#45; input_owners(&amp;self) &#45;&gt; Vec&lt;PublicKeyBlst&gt;</text>
<text text-anchor="start" x="3899.57" y="-79.3" font-family="Arial" font-size="14.00">&#45; inputs_amount_sum(&amp;self) &#45;&gt; Amount</text>
<text text-anchor="start" x="3899.57" y="-64.3" font-family="Arial" font-size="14.00">&#45; outputs_amount_sum(&amp;self) &#45;&gt; Amount</text>
<text text-anchor="start" x="3899.57" y="-49.3" font-family="Arial" font-size="14.00">&#45; inputs(&amp;self) &#45;&gt; &amp;Vec&lt;MlsagMaterial&gt;</text>
<text text-anchor="start" x="3899.57" y="-34.3" font-family="Arial" font-size="14.00">&#45; outputs(&amp;self) &#45;&gt; &amp;Vec&lt;Output&gt;</text>
<text text-anchor="start" x="3899.57" y="-19.3" font-family="Arial" font-size="14.00">&#45; build(self, rng: impl RngCore + rand_core::CryptoRng) &#45;&gt; Result&lt;(ReissueRequestBuilder, DbcBuilder, RingCtMaterial)&gt;</text>
<polygon fill="none" stroke="black" points="3887.57,-4 3887.57,-387 4929.57,-387 4929.57,-4 3887.57,-4"/>
</a>
</g>
</g>
<!-- ndOwnerOnce&#45;&gt;ndTransactionBuilder -->
<g id="edge31" class="edge"><title>ndOwnerOnce&#45;&gt;ndTransactionBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M5443.08,-1902.78C5454.98,-1892.15 5465.65,-1880.27 5474.57,-1867 5627.08,-1640.28 5493.57,-1525.74 5493.57,-1252.5 5493.57,-1252.5 5493.57,-1252.5 5493.57,-861 5493.57,-577.074 5220.04,-410.743 4947.65,-315.497"/>
<polygon fill="black" stroke="black" points="4937.96,-312.139 4948.88,-311.162 4942.69,-313.776 4947.41,-315.414 4947.41,-315.414 4947.41,-315.414 4942.69,-313.776 4945.94,-319.666 4937.96,-312.139 4937.96,-312.139"/>
</g>
<!-- ndOwnerOnce&#45;&gt;ndDbcBuilder -->
<g id="edge32" class="edge"><title>ndOwnerOnce&#45;&gt;ndDbcBuilder</title>
<path fill="none" stroke="black" d="M5194.48,-1902.89C5199.83,-1707.35 5206.74,-1248.11 5159.57,-1101 5087.91,-877.5 5059.39,-798.415 4870.57,-659 4841.65,-637.644 4809.38,-619.71 4775.71,-604.65"/>
<polygon fill="black" stroke="black" points="4766.18,-600.478 4777.14,-600.365 4770.76,-602.482 4775.34,-604.487 4775.34,-604.487 4775.34,-604.487 4770.76,-602.482 4773.53,-608.61 4766.18,-600.478 4766.18,-600.478"/>
</g>
<!-- ndDbc&#45;&gt;ndTransactionBuilder -->
<g id="edge33" class="edge"><title>ndDbc&#45;&gt;ndTransactionBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M4759.11,-658.896C4765.04,-647.15 4770.26,-635.159 4774.57,-623 4803.68,-540.895 4816.67,-503.263 4774.57,-427 4769.29,-417.437 4763.43,-408.216 4757.07,-399.33"/>
<polygon fill="black" stroke="black" points="4751.1,-391.263 4760.66,-396.618 4754.07,-395.28 4757.05,-399.297 4757.05,-399.297 4757.05,-399.297 4754.07,-395.28 4753.43,-401.976 4751.1,-391.263 4751.1,-391.263"/>
</g>
<!-- ndDbc&#45;&gt;ndDbcBuilder -->
<g id="edge34" class="edge"><title>ndDbc&#45;&gt;ndDbcBuilder</title>
<path fill="none" stroke="black" d="M4477.2,-658.882C4472.48,-649.754 4467.84,-640.77 4463.34,-632.045"/>
<polygon fill="black" stroke="black" points="4458.69,-623.05 4467.28,-629.87 4460.99,-627.492 4463.28,-631.935 4463.28,-631.935 4463.28,-631.935 4460.99,-627.492 4459.28,-634 4458.69,-623.05 4458.69,-623.05"/>
</g>
<!-- ndReissueRequestBuilder&#45;&gt;ndTransactionBuilder -->
<g id="edge35" class="edge"><title>ndReissueRequestBuilder&#45;&gt;ndTransactionBuilder</title>
<path fill="none" stroke="black" d="M2429.76,-428.83C2432.71,-428.207 2435.65,-427.597 2438.57,-427 2917.68,-329.291 3471.4,-269.058 3869.55,-234.789"/>
<polygon fill="black" stroke="black" points="3879.51,-233.934 3869.94,-239.273 3874.53,-234.362 3869.55,-234.789 3869.55,-234.789 3869.55,-234.789 3874.53,-234.362 3869.17,-230.306 3879.51,-233.934 3879.51,-233.934"/>
</g>
<!-- ndDbcBuilder&#45;&gt;ndTransactionBuilder -->
<g id="edge36" class="edge"><title>ndDbcBuilder&#45;&gt;ndTransactionBuilder</title>
<path fill="none" stroke="black" d="M4408.57,-426.626C4408.57,-418.427 4408.57,-409.961 4408.57,-401.332"/>
<polygon fill="black" stroke="black" points="4408.57,-391.133 4413.07,-401.133 4408.57,-396.133 4408.57,-401.133 4408.57,-401.133 4408.57,-401.133 4408.57,-396.133 4404.07,-401.134 4408.57,-391.133 4408.57,-391.133"/>
</g>
<!-- ndSpentProofContent&#45;&gt;ndSpentProofShare -->
<g id="edge37" class="edge"><title>ndSpentProofContent&#45;&gt;ndSpentProofShare</title>
<path fill="none" stroke="black" d="M2388.53,-1554.48C2353.55,-1517.66 2313.04,-1475.57 2275.57,-1438 2261.99,-1424.37 2247.75,-1410.3 2233.42,-1396.29"/>
<polygon fill="black" stroke="black" points="2233.08,-1395.95 2225.99,-1394.62 2224.49,-1387.57 2231.58,-1388.9 2233.08,-1395.95"/>
</g>
<!-- ndSpentProofContent&#45;&gt;ndSpentProof -->
<g id="edge38" class="edge"><title>ndSpentProofContent&#45;&gt;ndSpentProof</title>
<path fill="none" stroke="black" d="M2479.57,-1554.4C2479.57,-1498.63 2479.57,-1428.2 2479.57,-1369.4"/>
<polygon fill="black" stroke="black" points="2479.57,-1369.03 2475.57,-1363.03 2479.57,-1357.03 2483.57,-1363.03 2479.57,-1369.03"/>
</g>
<!-- ndSpentProofShare&#45;&gt;ndMintNode -->
<g id="edge39" class="edge"><title>ndSpentProofShare&#45;&gt;ndMintNode</title>
<path fill="none" stroke="black" d="M2247.6,-1115.46C2257.79,-1110.05 2268.14,-1105.17 2278.57,-1101 2347.29,-1073.56 2557.58,-1117.65 2609.57,-1065 2673.26,-1000.51 2611.87,-741.871 2648.57,-659 2652.74,-649.591 2657.84,-640.4 2663.57,-631.527"/>
<polygon fill="black" stroke="black" points="2669.23,-623.12 2667.37,-633.927 2666.44,-627.266 2663.64,-631.411 2663.64,-631.411 2663.64,-631.411 2666.44,-627.266 2659.91,-628.895 2669.23,-623.12 2669.23,-623.12"/>
</g>
<!-- ndSpentProofShare&#45;&gt;ndReissueRequestBuilder -->
<g id="edge40" class="edge"><title>ndSpentProofShare&#45;&gt;ndReissueRequestBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2087.43,-1115.08C2092.41,-976.408 2100.05,-763.536 2104.65,-635.24"/>
<polygon fill="black" stroke="black" points="2104.66,-635.085 2100.88,-628.946 2105.09,-623.093 2108.87,-629.233 2104.66,-635.085"/>
</g>
<!-- ndSpentProofShare&#45;&gt;ndSpentBookNodeMock -->
<g id="edge41" class="edge"><title>ndSpentProofShare&#45;&gt;ndSpentBookNodeMock</title>
<path fill="none" stroke="black" d="M1911.41,-1115.38C1903.15,-1110.31 1894.85,-1105.49 1886.57,-1101 1809.23,-1059.03 1723.01,-1021.93 1638.91,-990.251"/>
<polygon fill="black" stroke="black" points="1629.46,-986.711 1640.4,-986.006 1634.14,-988.465 1638.83,-990.22 1638.83,-990.22 1638.83,-990.22 1634.14,-988.465 1637.25,-994.434 1629.46,-986.711 1629.46,-986.711"/>
</g>
<!-- ndSpentProof&#45;&gt;ndReissueRequest -->
<g id="edge42" class="edge"><title>ndSpentProof&#45;&gt;ndReissueRequest</title>
<path fill="none" stroke="black" d="M2472.55,-1145.89C2467.78,-1074.74 2461.63,-983.081 2457.65,-923.689"/>
<polygon fill="black" stroke="black" points="2457.63,-923.497 2453.24,-917.779 2456.83,-911.524 2461.22,-917.243 2457.63,-923.497"/>
</g>
<!-- ndSpentProof&#45;&gt;ndReissueShare -->
<g id="edge43" class="edge"><title>ndSpentProof&#45;&gt;ndReissueShare</title>
<path fill="none" stroke="black" d="M2572.41,-1145.56C2595.65,-1119.26 2620.53,-1091.1 2643.57,-1065 2683.81,-1019.42 2729.11,-968.007 2763.94,-928.458"/>
<polygon fill="black" stroke="black" points="2764.18,-928.19 2765.14,-921.044 2772.11,-919.185 2771.14,-926.331 2764.18,-928.19"/>
</g>
<!-- ndSpentProof&#45;&gt;ndDbc -->
<g id="edge44" class="edge"><title>ndSpentProof&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M2599.15,-1145.97C2624.61,-1128.34 2652.37,-1112.16 2680.57,-1101 2811.19,-1049.31 2855.12,-1081.87 2994.57,-1065 3446.82,-1010.3 3971,-942.771 4289.3,-901.309"/>
<polygon fill="black" stroke="black" points="4289.58,-901.273 4295.01,-896.531 4301.48,-899.722 4296.05,-904.464 4289.58,-901.273"/>
</g>
<!-- ndAmountSecrets&#45;&gt;ndDbc -->
<g id="edge45" class="edge"><title>ndAmountSecrets&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M4346.38,-1100.96C4355.61,-1091.62 4364.98,-1082.14 4374.41,-1072.6"/>
<polygon fill="black" stroke="black" points="4381.62,-1065.3 4377.79,-1075.58 4378.11,-1068.86 4374.59,-1072.41 4374.59,-1072.41 4374.59,-1072.41 4378.11,-1068.86 4371.39,-1069.25 4381.62,-1065.3 4381.62,-1065.3"/>
</g>
<!-- ndAmountSecrets&#45;&gt;ndTransactionBuilder -->
<g id="edge46" class="edge"><title>ndAmountSecrets&#45;&gt;ndTransactionBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M4113.55,-1100.95C4027.7,-928.343 3923.36,-640.833 4041.57,-427 4046.87,-417.421 4052.75,-408.187 4059.13,-399.288"/>
<polygon fill="black" stroke="black" points="4065.12,-391.211 4062.77,-401.922 4062.14,-395.226 4059.16,-399.24 4059.16,-399.24 4059.16,-399.24 4062.14,-395.226 4055.55,-396.558 4065.12,-391.211 4065.12,-391.211"/>
</g>
<!-- ndAmountSecrets&#45;&gt;ndDbcBuilder -->
<g id="edge47" class="edge"><title>ndAmountSecrets&#45;&gt;ndDbcBuilder</title>
<path fill="none" stroke="black" d="M4199.7,-1100.74C4205.83,-976.992 4226.89,-799.461 4292.57,-659 4296.95,-649.641 4302.19,-640.439 4307.98,-631.516"/>
<polygon fill="black" stroke="black" points="4313.7,-623.051 4311.83,-633.857 4310.9,-627.195 4308.1,-631.339 4308.1,-631.339 4308.1,-631.339 4310.9,-627.195 4304.37,-628.82 4313.7,-623.051 4313.7,-623.051"/>
</g>
</g>
</svg>
