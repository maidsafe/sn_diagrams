<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.38.0 (20140413.2041)
 -->
<!-- Title: ml Pages: 1 -->
<svg width="5993pt" height="2212pt"
 viewBox="0.00 0.00 5993.30 2212.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2208)">
<title>ml</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-2208 5989.3,-2208 5989.3,4 -4,4"/>
<!-- ndHash -->
<g id="node1" class="node"><title>ndHash</title>
<g id="a_node1_0"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/lib.rs#:~:text=struct%20Hash" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2097.3,-2154.5 2097.3,-2191.5 2452.3,-2191.5 2452.3,-2154.5 2097.3,-2154.5"/>
<polygon fill="none" stroke="black" points="2097.3,-2154.5 2097.3,-2191.5 2452.3,-2191.5 2452.3,-2154.5 2097.3,-2154.5"/>
<text text-anchor="start" x="2256.8" y="-2170.3" font-family="Arial" font-weight="bold" font-size="14.00">Hash</text>
<polygon fill="white" stroke="none" points="2097.3,-2117.5 2097.3,-2154.5 2452.3,-2154.5 2452.3,-2117.5 2097.3,-2117.5"/>
<polygon fill="none" stroke="black" points="2097.3,-2117.5 2097.3,-2154.5 2452.3,-2154.5 2452.3,-2117.5 2097.3,-2117.5"/>
<text text-anchor="start" x="2108.3" y="-2132.3" font-family="Arial" font-size="14.00">&#45; [u8; 32]</text>
<polygon fill="white" stroke="none" points="2097.3,-2035.5 2097.3,-2117.5 2452.3,-2117.5 2452.3,-2035.5 2097.3,-2035.5"/>
<polygon fill="none" stroke="black" points="2097.3,-2035.5 2097.3,-2117.5 2452.3,-2117.5 2452.3,-2035.5 2097.3,-2035.5"/>
<text text-anchor="start" x="2108.3" y="-2095.3" font-family="Arial" font-size="14.00">&#45; hash(input: &amp;[u8]) &#45;&gt; Self</text>
<text text-anchor="start" x="2108.3" y="-2080.3" font-family="Arial" font-size="14.00">&#45; from(val: [u8; 32]) &#45;&gt; Hash</text>
<text text-anchor="start" x="2108.3" y="-2065.3" font-family="Arial" font-size="14.00">&#45; fmt(&amp;self, f: &amp;mut fmt::Formatter&lt;&#39;_&gt;) &#45;&gt; fmt::Result</text>
<text text-anchor="start" x="2108.3" y="-2050.3" font-family="Arial" font-size="14.00">&#45; as_ref(&amp;self) &#45;&gt; &amp;[u8]</text>
<polygon fill="none" stroke="black" points="2095.8,-2034.5 2095.8,-2192.5 2452.8,-2192.5 2452.8,-2034.5 2095.8,-2034.5"/>
</a>
</g>
</g>
<!-- ndSimpleKeyManager -->
<g id="node6" class="node"><title>ndSimpleKeyManager</title>
<g id="a_node6_1"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/key_manager.rs#:~:text=struct%20SimpleKeyManager" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="941.301,-1352.5 941.301,-1389.5 1509.3,-1389.5 1509.3,-1352.5 941.301,-1352.5"/>
<polygon fill="none" stroke="black" points="941.301,-1352.5 941.301,-1389.5 1509.3,-1389.5 1509.3,-1352.5 941.301,-1352.5"/>
<text text-anchor="start" x="1157.3" y="-1368.3" font-family="Arial" font-weight="bold" font-size="14.00">SimpleKeyManager</text>
<polygon fill="white" stroke="none" points="941.301,-1300.5 941.301,-1352.5 1509.3,-1352.5 1509.3,-1300.5 941.301,-1300.5"/>
<polygon fill="none" stroke="black" points="941.301,-1300.5 941.301,-1352.5 1509.3,-1352.5 1509.3,-1300.5 941.301,-1300.5"/>
<text text-anchor="start" x="952.301" y="-1330.3" font-family="Arial" font-size="14.00">&#45; signer: SimpleSigner</text>
<text text-anchor="start" x="952.301" y="-1315.3" font-family="Arial" font-size="14.00">&#45; cache: Keys</text>
<polygon fill="white" stroke="none" points="941.301,-1173.5 941.301,-1300.5 1509.3,-1300.5 1509.3,-1173.5 941.301,-1173.5"/>
<polygon fill="none" stroke="black" points="941.301,-1173.5 941.301,-1300.5 1509.3,-1300.5 1509.3,-1173.5 941.301,-1173.5"/>
<text text-anchor="start" x="952.301" y="-1278.3" font-family="Arial" font-size="14.00">&#45; from(signer: SimpleSigner) &#45;&gt; Self</text>
<text text-anchor="start" x="952.301" y="-1263.3" font-family="Arial" font-size="14.00">&#45; add_known_key(&amp;mut self, key: PublicKey) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="952.301" y="-1248.3" font-family="Arial" font-size="14.00">&#45; public_key_set(&amp;self) &#45;&gt; Result&lt;PublicKeySet&gt;</text>
<text text-anchor="start" x="952.301" y="-1233.3" font-family="Arial" font-size="14.00">&#45; sign_with_child_key(&amp;self, index: &amp;[u8], tx_hash: &amp;Hash) &#45;&gt; Result&lt;NodeSignature&gt;</text>
<text text-anchor="start" x="952.301" y="-1218.3" font-family="Arial" font-size="14.00">&#45; sign(&amp;self, msg_hash: &amp;Hash) &#45;&gt; Result&lt;NodeSignature&gt;</text>
<text text-anchor="start" x="952.301" y="-1203.3" font-family="Arial" font-size="14.00">&#45; verify(&amp;self, msg_hash: &amp;Hash, key: &amp;PublicKey, signature: &amp;Signature) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="952.301" y="-1188.3" font-family="Arial" font-size="14.00">&#45; verify_known_key(&amp;self, key: &amp;PublicKey) &#45;&gt; Result&lt;()&gt;</text>
<polygon fill="none" stroke="black" points="940.301,-1172.5 940.301,-1390.5 1510.3,-1390.5 1510.3,-1172.5 940.301,-1172.5"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSimpleKeyManager -->
<g id="edge1" class="edge"><title>ndHash&#45;&gt;ndSimpleKeyManager</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2087.64,-2081.9C1981.71,-2060.45 1863.76,-2028.26 1830.3,-1987 1759.6,-1899.81 1873.03,-1564.94 1796.3,-1483 1755.08,-1438.98 1584.63,-1465.74 1527.3,-1447 1489.63,-1434.69 1451.2,-1417.7 1414.92,-1399.29"/>
<polygon fill="black" stroke="black" points="1405.75,-1394.59 1416.7,-1395.15 1410.2,-1396.87 1414.64,-1399.15 1414.64,-1399.15 1414.64,-1399.15 1410.2,-1396.87 1412.59,-1403.16 1405.75,-1394.59 1405.75,-1394.59"/>
</g>
<!-- ndKeys -->
<g id="node7" class="node"><title>ndKeys</title>
<g id="a_node7_2"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/key_manager.rs#:~:text=struct%20Keys" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="1288.3,-1776 1288.3,-1813 1779.3,-1813 1779.3,-1776 1288.3,-1776"/>
<polygon fill="none" stroke="black" points="1288.3,-1776 1288.3,-1813 1779.3,-1813 1779.3,-1776 1288.3,-1776"/>
<text text-anchor="start" x="1515.8" y="-1791.8" font-family="Arial" font-weight="bold" font-size="14.00">Keys</text>
<polygon fill="white" stroke="none" points="1288.3,-1739 1288.3,-1776 1779.3,-1776 1779.3,-1739 1288.3,-1739"/>
<polygon fill="none" stroke="black" points="1288.3,-1739 1288.3,-1776 1779.3,-1776 1779.3,-1739 1288.3,-1739"/>
<text text-anchor="start" x="1299.3" y="-1753.8" font-family="Arial" font-size="14.00">&#45; HashSet&lt;PublicKey&gt;</text>
<polygon fill="white" stroke="none" points="1288.3,-1657 1288.3,-1739 1779.3,-1739 1779.3,-1657 1288.3,-1657"/>
<polygon fill="none" stroke="black" points="1288.3,-1657 1288.3,-1739 1779.3,-1739 1779.3,-1657 1288.3,-1657"/>
<text text-anchor="start" x="1299.3" y="-1716.8" font-family="Arial" font-size="14.00">&#45; from(keys: Vec&lt;PublicKey&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="1299.3" y="-1701.8" font-family="Arial" font-size="14.00">&#45; add_known_key(&amp;mut self, key: PublicKey)</text>
<text text-anchor="start" x="1299.3" y="-1686.8" font-family="Arial" font-size="14.00">&#45; verify(&amp;self, msg: &amp;Hash, key: &amp;PublicKey, sig: &amp;Signature) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="1299.3" y="-1671.8" font-family="Arial" font-size="14.00">&#45; verify_known_key(&amp;self, key: &amp;PublicKey) &#45;&gt; Result&lt;()&gt;</text>
<polygon fill="none" stroke="black" points="1286.8,-1656 1286.8,-1814 1779.8,-1814 1779.8,-1656 1286.8,-1656"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndKeys -->
<g id="edge2" class="edge"><title>ndHash&#45;&gt;ndKeys</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2087.59,-2084.76C1997.43,-2066.01 1890.03,-2035.54 1802.3,-1987 1727.97,-1945.88 1658.27,-1879.74 1608.45,-1825.68"/>
<polygon fill="black" stroke="black" points="1601.55,-1818.13 1611.62,-1822.48 1604.93,-1821.82 1608.3,-1825.51 1608.3,-1825.51 1608.3,-1825.51 1604.93,-1821.82 1604.98,-1828.55 1601.55,-1818.13 1601.55,-1818.13"/>
</g>
<!-- ndDbcContent -->
<g id="node11" class="node"><title>ndDbcContent</title>
<g id="a_node11_3"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/dbc_content.rs#:~:text=struct%20DbcContent" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="4687.3,-1344.5 4687.3,-1381.5 5184.3,-1381.5 5184.3,-1344.5 4687.3,-1344.5"/>
<polygon fill="none" stroke="black" points="4687.3,-1344.5 4687.3,-1381.5 5184.3,-1381.5 5184.3,-1344.5 4687.3,-1344.5"/>
<text text-anchor="start" x="4894.3" y="-1360.3" font-family="Arial" font-weight="bold" font-size="14.00">DbcContent</text>
<polygon fill="white" stroke="none" points="4687.3,-1277.5 4687.3,-1344.5 5184.3,-1344.5 5184.3,-1277.5 4687.3,-1277.5"/>
<polygon fill="none" stroke="black" points="4687.3,-1277.5 4687.3,-1344.5 5184.3,-1344.5 5184.3,-1277.5 4687.3,-1277.5"/>
<text text-anchor="start" x="4698.3" y="-1322.3" font-family="Arial" font-size="14.00">+ owner_base: Owner</text>
<text text-anchor="start" x="4698.3" y="-1307.3" font-family="Arial" font-size="14.00">+ owner_derivation_cipher: Ciphertext</text>
<text text-anchor="start" x="4698.3" y="-1292.3" font-family="Arial" font-size="14.00">+ amount_secrets_cipher: Ciphertext</text>
<polygon fill="white" stroke="none" points="4687.3,-1180.5 4687.3,-1277.5 5184.3,-1277.5 5184.3,-1180.5 4687.3,-1180.5"/>
<polygon fill="none" stroke="black" points="4687.3,-1180.5 4687.3,-1277.5 5184.3,-1277.5 5184.3,-1180.5 4687.3,-1180.5"/>
<text text-anchor="start" x="4698.3" y="-1255.3" font-family="Arial" font-size="14.00">&#45; from(params: (Owner, Ciphertext, Ciphertext)) &#45;&gt; Self</text>
<text text-anchor="start" x="4698.3" y="-1240.3" font-family="Arial" font-size="14.00">&#45; from(params: (Owner, DerivationIndex, AmountSecrets)) &#45;&gt; Self</text>
<text text-anchor="start" x="4698.3" y="-1225.3" font-family="Arial" font-size="14.00">&#45; derivation_index(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;DerivationIndex&gt;</text>
<text text-anchor="start" x="4698.3" y="-1210.3" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="4698.3" y="-1195.3" font-family="Arial" font-size="14.00">&#45; hash(&amp;self) &#45;&gt; Hash</text>
<polygon fill="none" stroke="black" points="4685.8,-1180 4685.8,-1383 5184.8,-1383 5184.8,-1180 4685.8,-1180"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndDbcContent -->
<g id="edge3" class="edge"><title>ndHash&#45;&gt;ndDbcContent</title>
<path fill="none" stroke="black" d="M2460.86,-2111.71C2959.33,-2108.2 4295.97,-2089.28 4465.3,-1987 4689.02,-1851.87 4616.89,-1696.04 4768.3,-1483 4789.23,-1453.55 4813.33,-1422.99 4836.59,-1394.87"/>
<polygon fill="black" stroke="black" points="4843.12,-1387.01 4840.19,-1397.58 4839.93,-1390.85 4836.73,-1394.7 4836.73,-1394.7 4836.73,-1394.7 4839.93,-1390.85 4833.27,-1391.82 4843.12,-1387.01 4843.12,-1387.01"/>
</g>
<!-- ndPublicKeyBlstMappable -->
<g id="node13" class="node"><title>ndPublicKeyBlstMappable</title>
<g id="a_node13_4"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/blst.rs#:~:text=struct%20PublicKeyBlstMappable" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="1546.3,-1337.5 1546.3,-1374.5 1875.3,-1374.5 1875.3,-1337.5 1546.3,-1337.5"/>
<polygon fill="none" stroke="black" points="1546.3,-1337.5 1546.3,-1374.5 1875.3,-1374.5 1875.3,-1337.5 1546.3,-1337.5"/>
<text text-anchor="start" x="1627.8" y="-1353.3" font-family="Arial" font-weight="bold" font-size="14.00">PublicKeyBlstMappable</text>
<polygon fill="white" stroke="none" points="1546.3,-1300.5 1546.3,-1337.5 1875.3,-1337.5 1875.3,-1300.5 1546.3,-1300.5"/>
<polygon fill="none" stroke="black" points="1546.3,-1300.5 1546.3,-1337.5 1875.3,-1337.5 1875.3,-1300.5 1546.3,-1300.5"/>
<text text-anchor="start" x="1557.3" y="-1315.3" font-family="Arial" font-size="14.00">&#45; G1Affine</text>
<polygon fill="white" stroke="none" points="1546.3,-1187.5 1546.3,-1300.5 1875.3,-1300.5 1875.3,-1187.5 1546.3,-1187.5"/>
<polygon fill="none" stroke="black" points="1546.3,-1187.5 1546.3,-1300.5 1875.3,-1300.5 1875.3,-1187.5 1546.3,-1187.5"/>
<text text-anchor="start" x="1557.3" y="-1278.3" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; [u8; 48]</text>
<text text-anchor="start" x="1557.3" y="-1263.3" font-family="Arial" font-size="14.00">&#45; random(rng: &amp;mut impl rand8::RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="1557.3" y="-1231.5" font-family="Arial" font-size="14.00">&#45; cmp(&amp;self, other: &amp;Self) &#45;&gt; Ordering</text>
<text text-anchor="start" x="1557.3" y="-1216.5" font-family="Arial" font-size="14.00">&#45; hash(&amp;self, state: &amp;mut H)</text>
<text text-anchor="start" x="1557.3" y="-1201.5" font-family="Arial" font-size="14.00">&#45; from(k: G1Affine) &#45;&gt; Self</text>
<polygon fill="none" stroke="black" points="1544.8,-1187 1544.8,-1376 1875.8,-1376 1875.8,-1187 1544.8,-1187"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndPublicKeyBlstMappable -->
<g id="edge4" class="edge"><title>ndHash&#45;&gt;ndPublicKeyBlstMappable</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2087.79,-2099.37C2009.29,-2083.83 1924.26,-2051.82 1872.3,-1987 1802.01,-1899.3 1864.72,-1589.99 1830.3,-1483 1819.9,-1450.66 1803.46,-1418.03 1786.05,-1388.75"/>
<polygon fill="none" stroke="black" points="1789.04,-1386.93 1780.87,-1380.18 1783.05,-1390.55 1789.04,-1386.93"/>
</g>
<!-- ndSpentProofContent -->
<g id="node21" class="node"><title>ndSpentProofContent</title>
<g id="a_node21_5"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/spent_proof.rs#:~:text=struct%20SpentProofContent" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2311.3,-1791 2311.3,-1828 2674.3,-1828 2674.3,-1791 2311.3,-1791"/>
<polygon fill="none" stroke="black" points="2311.3,-1791 2311.3,-1828 2674.3,-1828 2674.3,-1791 2311.3,-1791"/>
<text text-anchor="start" x="2425.8" y="-1806.8" font-family="Arial" font-weight="bold" font-size="14.00">SpentProofContent</text>
<polygon fill="white" stroke="none" points="2311.3,-1724 2311.3,-1791 2674.3,-1791 2674.3,-1724 2311.3,-1724"/>
<polygon fill="none" stroke="black" points="2311.3,-1724 2311.3,-1791 2674.3,-1791 2674.3,-1724 2311.3,-1724"/>
<text text-anchor="start" x="2322.3" y="-1768.8" font-family="Arial" font-size="14.00">+ key_image: KeyImage</text>
<text text-anchor="start" x="2322.3" y="-1753.8" font-family="Arial" font-size="14.00">+ transaction_hash: Hash</text>
<text text-anchor="start" x="2322.3" y="-1738.8" font-family="Arial" font-size="14.00">+ public_commitments: Vec&lt;Commitment&gt;</text>
<polygon fill="white" stroke="none" points="2311.3,-1642 2311.3,-1724 2674.3,-1724 2674.3,-1642 2311.3,-1642"/>
<polygon fill="none" stroke="black" points="2311.3,-1642 2311.3,-1724 2674.3,-1724 2674.3,-1642 2311.3,-1642"/>
<text text-anchor="start" x="2322.3" y="-1701.8" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="2322.3" y="-1686.8" font-family="Arial" font-size="14.00">&#45; hash(&amp;self) &#45;&gt; Hash</text>
<text text-anchor="start" x="2322.3" y="-1671.8" font-family="Arial" font-size="14.00">&#45; partial_cmp(&amp;self, other: &amp;Self) &#45;&gt; Option&lt;Ordering&gt;</text>
<text text-anchor="start" x="2322.3" y="-1656.8" font-family="Arial" font-size="14.00">&#45; cmp(&amp;self, other: &amp;Self) &#45;&gt; Ordering</text>
<polygon fill="none" stroke="black" points="2309.8,-1641 2309.8,-1829 2674.8,-1829 2674.8,-1641 2309.8,-1641"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSpentProofContent -->
<g id="edge5" class="edge"><title>ndHash&#45;&gt;ndSpentProofContent</title>
<path fill="none" stroke="black" d="M2321.87,-2030.34C2353.55,-1975.64 2395.49,-1903.19 2429.85,-1843.86"/>
<polygon fill="black" stroke="black" points="2429.94,-1843.71 2429.48,-1836.51 2435.95,-1833.32 2436.41,-1840.52 2429.94,-1843.71"/>
</g>
<!-- ndSpentProofShare -->
<g id="node22" class="node"><title>ndSpentProofShare</title>
<g id="a_node22_6"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/spent_proof.rs#:~:text=struct%20SpentProofShare" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="1910.3,-1375.5 1910.3,-1412.5 2266.3,-1412.5 2266.3,-1375.5 1910.3,-1375.5"/>
<polygon fill="none" stroke="black" points="1910.3,-1375.5 1910.3,-1412.5 2266.3,-1412.5 2266.3,-1375.5 1910.3,-1375.5"/>
<text text-anchor="start" x="2027.8" y="-1391.3" font-family="Arial" font-weight="bold" font-size="14.00">SpentProofShare</text>
<polygon fill="white" stroke="none" points="1910.3,-1308.5 1910.3,-1375.5 2266.3,-1375.5 2266.3,-1308.5 1910.3,-1308.5"/>
<polygon fill="none" stroke="black" points="1910.3,-1308.5 1910.3,-1375.5 2266.3,-1375.5 2266.3,-1308.5 1910.3,-1308.5"/>
<text text-anchor="start" x="1921.3" y="-1353.3" font-family="Arial" font-size="14.00">+ content: SpentProofContent</text>
<text text-anchor="start" x="1921.3" y="-1338.3" font-family="Arial" font-size="14.00">+ spentbook_pks: PublicKeySet</text>
<text text-anchor="start" x="1921.3" y="-1323.3" font-family="Arial" font-size="14.00">+ spentbook_sig_share: NodeSignature</text>
<polygon fill="white" stroke="none" points="1910.3,-1150.5 1910.3,-1308.5 2266.3,-1308.5 2266.3,-1150.5 1910.3,-1150.5"/>
<polygon fill="none" stroke="black" points="1910.3,-1150.5 1910.3,-1308.5 2266.3,-1308.5 2266.3,-1150.5 1910.3,-1150.5"/>
<text text-anchor="start" x="1921.3" y="-1286.3" font-family="Arial" font-size="14.00">&#45; eq(&amp;self, other: &amp;Self) &#45;&gt; bool</text>
<text text-anchor="start" x="1921.3" y="-1254.5" font-family="Arial" font-size="14.00">&#45; hash(&amp;self, state: &amp;mut H)</text>
<text text-anchor="start" x="1921.3" y="-1239.5" font-family="Arial" font-size="14.00">&#45; key_image(&amp;self) &#45;&gt; &amp;KeyImage</text>
<text text-anchor="start" x="1921.3" y="-1224.5" font-family="Arial" font-size="14.00">&#45; transaction_hash(&amp;self) &#45;&gt; Hash</text>
<text text-anchor="start" x="1921.3" y="-1209.5" font-family="Arial" font-size="14.00">&#45; public_commitments(&amp;self) &#45;&gt; &amp;Vec&lt;Commitment&gt;</text>
<text text-anchor="start" x="1921.3" y="-1194.5" font-family="Arial" font-size="14.00">&#45; spentbook_sig_share(&amp;self) &#45;&gt; &amp;NodeSignature</text>
<text text-anchor="start" x="1921.3" y="-1179.5" font-family="Arial" font-size="14.00">&#45; spentbook_pks(&amp;self) &#45;&gt; &amp;PublicKeySet</text>
<text text-anchor="start" x="1921.3" y="-1164.5" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<polygon fill="none" stroke="black" points="1909.3,-1149.5 1909.3,-1413.5 2267.3,-1413.5 2267.3,-1149.5 1909.3,-1149.5"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSpentProofShare -->
<g id="edge6" class="edge"><title>ndHash&#45;&gt;ndSpentProofShare</title>
<path fill="none" stroke="black" d="M2278.41,-2030.24C2284.67,-1883 2292.31,-1580.64 2255.3,-1483 2247.88,-1463.43 2237.71,-1444.4 2226.01,-1426.34"/>
<polygon fill="black" stroke="black" points="2220.14,-1417.56 2229.44,-1423.38 2222.92,-1421.72 2225.7,-1425.88 2225.7,-1425.88 2225.7,-1425.88 2222.92,-1421.72 2221.95,-1428.38 2220.14,-1417.56 2220.14,-1417.56"/>
</g>
<!-- ndSpentProof -->
<g id="node23" class="node"><title>ndSpentProof</title>
<g id="a_node23_7"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/spent_proof.rs#:~:text=struct%20SpentProof" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2302.3,-1344.5 2302.3,-1381.5 2682.3,-1381.5 2682.3,-1344.5 2302.3,-1344.5"/>
<polygon fill="none" stroke="black" points="2302.3,-1344.5 2302.3,-1381.5 2682.3,-1381.5 2682.3,-1344.5 2302.3,-1344.5"/>
<text text-anchor="start" x="2452.8" y="-1360.3" font-family="Arial" font-weight="bold" font-size="14.00">SpentProof</text>
<polygon fill="white" stroke="none" points="2302.3,-1277.5 2302.3,-1344.5 2682.3,-1344.5 2682.3,-1277.5 2302.3,-1277.5"/>
<polygon fill="none" stroke="black" points="2302.3,-1277.5 2302.3,-1344.5 2682.3,-1344.5 2682.3,-1277.5 2302.3,-1277.5"/>
<text text-anchor="start" x="2313.3" y="-1322.3" font-family="Arial" font-size="14.00">+ content: SpentProofContent</text>
<text text-anchor="start" x="2313.3" y="-1307.3" font-family="Arial" font-size="14.00">+ spentbook_pub_key: PublicKey</text>
<text text-anchor="start" x="2313.3" y="-1292.3" font-family="Arial" font-size="14.00">+ spentbook_sig: Signature</text>
<polygon fill="white" stroke="none" points="2302.3,-1180.5 2302.3,-1277.5 2682.3,-1277.5 2682.3,-1180.5 2302.3,-1180.5"/>
<polygon fill="none" stroke="black" points="2302.3,-1180.5 2302.3,-1277.5 2682.3,-1277.5 2682.3,-1180.5 2302.3,-1180.5"/>
<text text-anchor="start" x="2313.3" y="-1255.3" font-family="Arial" font-size="14.00">&#45; key_image(&amp;self) &#45;&gt; &amp;KeyImage</text>
<text text-anchor="start" x="2313.3" y="-1240.3" font-family="Arial" font-size="14.00">&#45; transaction_hash(&amp;self) &#45;&gt; Hash</text>
<text text-anchor="start" x="2313.3" y="-1225.3" font-family="Arial" font-size="14.00">&#45; public_commitments(&amp;self) &#45;&gt; &amp;Vec&lt;Commitment&gt;</text>
<text text-anchor="start" x="2313.3" y="-1210.3" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="2313.3" y="-1195.3" font-family="Arial" font-size="14.00">&#45; validate(&amp;self, tx_hash: Hash, verifier: &amp;K) &#45;&gt; Result&lt;()&gt;</text>
<polygon fill="none" stroke="black" points="2301.3,-1180 2301.3,-1383 2683.3,-1383 2683.3,-1180 2301.3,-1180"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSpentProof -->
<g id="edge7" class="edge"><title>ndHash&#45;&gt;ndSpentProof</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2460.87,-2078.94C2557.98,-2057.27 2662.41,-2025.87 2691.3,-1987 2824.93,-1807.23 2776.63,-1690.11 2691.3,-1483 2678.04,-1450.81 2656.83,-1421.05 2633.1,-1394.86"/>
<polygon fill="black" stroke="black" points="2626,-1387.2 2636.1,-1391.48 2629.4,-1390.87 2632.8,-1394.54 2632.8,-1394.54 2632.8,-1394.54 2629.4,-1390.87 2629.5,-1397.6 2626,-1387.2 2626,-1387.2"/>
</g>
<!-- ndSpentBookNodeMock -->
<g id="node25" class="node"><title>ndSpentBookNodeMock</title>
<g id="a_node25_8"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/spentbook.rs#:~:text=struct%20SpentBookNodeMock" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="825.301,-962.5 825.301,-999.5 1626.3,-999.5 1626.3,-962.5 825.301,-962.5"/>
<polygon fill="none" stroke="black" points="825.301,-962.5 825.301,-999.5 1626.3,-999.5 1626.3,-962.5 825.301,-962.5"/>
<text text-anchor="start" x="1149.8" y="-978.3" font-family="Arial" font-weight="bold" font-size="14.00">SpentBookNodeMock</text>
<polygon fill="white" stroke="none" points="825.301,-865.5 825.301,-962.5 1626.3,-962.5 1626.3,-865.5 825.301,-865.5"/>
<polygon fill="none" stroke="black" points="825.301,-865.5 825.301,-962.5 1626.3,-962.5 1626.3,-865.5 825.301,-865.5"/>
<text text-anchor="start" x="836.301" y="-940.3" font-family="Arial" font-size="14.00">+ key_manager: SimpleKeyManager</text>
<text text-anchor="start" x="836.301" y="-925.3" font-family="Arial" font-size="14.00">+ transactions: HashMap&lt;Hash, RingCtTransaction&gt;</text>
<text text-anchor="start" x="836.301" y="-910.3" font-family="Arial" font-size="14.00">+ key_images: BTreeMap&lt;KeyImage, Hash&gt;</text>
<text text-anchor="start" x="836.301" y="-895.3" font-family="Arial" font-size="14.00">+ outputs: BTreeMap&lt;PublicKeyBlstMappable, OutputProof&gt;</text>
<text text-anchor="start" x="836.301" y="-880.3" font-family="Arial" font-size="14.00">+ genesis: (KeyImage, Commitment)</text>
<polygon fill="white" stroke="none" points="825.301,-738.5 825.301,-865.5 1626.3,-865.5 1626.3,-738.5 825.301,-738.5"/>
<polygon fill="none" stroke="black" points="825.301,-738.5 825.301,-865.5 1626.3,-865.5 1626.3,-738.5 825.301,-738.5"/>
<text text-anchor="start" x="836.301" y="-843.3" font-family="Arial" font-size="14.00">&#45; from(key_manager: SimpleKeyManager) &#45;&gt; Self</text>
<text text-anchor="start" x="836.301" y="-828.3" font-family="Arial" font-size="14.00">&#45; iter(&amp;self) &#45;&gt; impl Iterator&lt;Item = (&amp;KeyImage, &amp;RingCtTransaction)&gt; + &#39;_</text>
<text text-anchor="start" x="836.301" y="-813.3" font-family="Arial" font-size="14.00">&#45; is_spent(&amp;self, key_image: &amp;KeyImage) &#45;&gt; bool</text>
<text text-anchor="start" x="836.301" y="-798.3" font-family="Arial" font-size="14.00">&#45; log_spent(&amp;mut self, key_image: KeyImage, tx: RingCtTransaction) &#45;&gt; Result&lt;SpentProofShare&gt;</text>
<text text-anchor="start" x="836.301" y="-783.3" font-family="Arial" font-size="14.00">&#45; log_spent_and_skip_tx_verification(&amp;mut self, key_image: KeyImage, tx: RingCtTransaction) &#45;&gt; Result&lt;SpentProofShare&gt;</text>
<text text-anchor="start" x="836.301" y="-768.3" font-family="Arial" font-size="14.00">&#45; log_spent_worker(&amp;mut self, key_image: KeyImage, tx: RingCtTransaction, verify_tx: bool) &#45;&gt; Result&lt;SpentProofShare&gt;</text>
<text text-anchor="start" x="836.301" y="-753.3" font-family="Arial" font-size="14.00">&#45; random_decoys(&amp;self, target_num: usize, rng: &amp;mut impl rand8::RngCore) &#45;&gt; Vec&lt;DecoyInput&gt;</text>
<polygon fill="none" stroke="black" points="823.801,-738 823.801,-1001 1626.8,-1001 1626.8,-738 823.801,-738"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSpentBookNodeMock -->
<g id="edge8" class="edge"><title>ndHash&#45;&gt;ndSpentBookNodeMock</title>
<path fill="none" stroke="black" d="M2087.51,-2108.62C1572.4,-2097.03 165.174,-2058.9 97.3007,-1987 -56.4657,-1824.11 -5.48961,-1682.02 97.3007,-1483 236.098,-1214.26 544.813,-1058.31 804.245,-971.094"/>
<polygon fill="black" stroke="black" points="804.397,-971.043 808.825,-965.352 815.782,-967.25 811.354,-972.941 804.397,-971.043"/>
</g>
<!-- ndTransactionValidator -->
<g id="node26" class="node"><title>ndTransactionValidator</title>
<g id="a_node26_9"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/validation.rs#:~:text=struct%20TransactionValidator" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2718.3,-1296.5 2718.3,-1333.5 3884.3,-1333.5 3884.3,-1296.5 2718.3,-1296.5"/>
<polygon fill="none" stroke="black" points="2718.3,-1296.5 2718.3,-1333.5 3884.3,-1333.5 3884.3,-1296.5 2718.3,-1296.5"/>
<text text-anchor="start" x="3228.8" y="-1312.3" font-family="Arial" font-weight="bold" font-size="14.00">TransactionValidator</text>
<polygon fill="white" stroke="none" points="2718.3,-1229.5 2718.3,-1296.5 3884.3,-1296.5 3884.3,-1229.5 2718.3,-1229.5"/>
<polygon fill="none" stroke="black" points="2718.3,-1229.5 2718.3,-1296.5 3884.3,-1296.5 3884.3,-1229.5 2718.3,-1229.5"/>
<text text-anchor="start" x="2729.3" y="-1274.3" font-family="Arial" font-size="14.00">&#45; validate(mint_verifier: &amp;K, transaction: &amp;RingCtTransaction, mint_sigs: &amp;BTreeMap&lt;KeyImage, (PublicKey, Signature)&gt;, spent_proofs: &amp;BTreeSet&lt;SpentProof&gt;) &#45;&gt; Result&lt;(), Error&gt;</text>
<text text-anchor="start" x="2729.3" y="-1259.3" font-family="Arial" font-size="14.00">&#45; validate_without_sigs(mint_verifier: &amp;K, transaction: &amp;RingCtTransaction, spent_proofs: &amp;BTreeSet&lt;SpentProof&gt;) &#45;&gt; Result&lt;(), Error&gt;</text>
<text text-anchor="start" x="2729.3" y="-1244.3" font-family="Arial" font-size="14.00">&#45; validate_without_sigs_internal(mint_verifier: &amp;K, transaction: &amp;RingCtTransaction, transaction_hash: Hash, spent_proofs: &amp;BTreeSet&lt;SpentProof&gt;) &#45;&gt; Result&lt;(), Error&gt;</text>
<polygon fill="none" stroke="black" points="2717.3,-1228.5 2717.3,-1334.5 3885.3,-1334.5 3885.3,-1228.5 2717.3,-1228.5"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndTransactionValidator -->
<g id="edge9" class="edge"><title>ndHash&#45;&gt;ndTransactionValidator</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2460.83,-2091.32C2552.87,-2074.11 2662.13,-2043.03 2747.3,-1987 3005.19,-1817.34 3196.09,-1487.53 3268.94,-1347.69"/>
<polygon fill="black" stroke="black" points="3273.57,-1338.76 3272.97,-1349.71 3271.27,-1343.2 3268.97,-1347.64 3268.97,-1347.64 3268.97,-1347.64 3271.27,-1343.2 3264.98,-1345.57 3273.57,-1338.76 3273.57,-1338.76"/>
</g>
<!-- ndError -->
<g id="node2" class="node"><title>ndError</title>
<g id="a_node2_10"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/error.rs#:~:text=enum%20Error" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="4085.3,-1945 4085.3,-1982 4447.3,-1982 4447.3,-1945 4085.3,-1945"/>
<polygon fill="none" stroke="black" points="4085.3,-1945 4085.3,-1982 4447.3,-1982 4447.3,-1945 4085.3,-1945"/>
<text text-anchor="start" x="4247.8" y="-1960.8" font-family="Arial" font-weight="bold" font-size="14.00">Error</text>
<polygon fill="white" stroke="none" points="4085.3,-1488 4085.3,-1945 4447.3,-1945 4447.3,-1488 4085.3,-1488"/>
<polygon fill="none" stroke="black" points="4085.3,-1488 4085.3,-1945 4447.3,-1945 4447.3,-1488 4085.3,-1488"/>
<text text-anchor="start" x="4096.3" y="-1922.8" font-family="Arial" font-size="14.00">Signing(String)</text>
<text text-anchor="start" x="4096.3" y="-1907.8" font-family="Arial" font-size="14.00">UnknownInput</text>
<text text-anchor="start" x="4096.3" y="-1892.8" font-family="Arial" font-size="14.00">FailedSignature</text>
<text text-anchor="start" x="4096.3" y="-1877.8" font-family="Arial" font-size="14.00">UnrecognisedAuthority</text>
<text text-anchor="start" x="4096.3" y="-1862.8" font-family="Arial" font-size="14.00">MissingSignatureForInput</text>
<text text-anchor="start" x="4096.3" y="-1847.8" font-family="Arial" font-size="14.00">InvalidSpentProofSignature(KeyImage)</text>
<text text-anchor="start" x="4096.3" y="-1832.8" font-family="Arial" font-size="14.00">InvalidTransactionHash</text>
<text text-anchor="start" x="4096.3" y="-1817.8" font-family="Arial" font-size="14.00">DbcContentNotPresentInTransactionOutput</text>
<text text-anchor="start" x="4096.3" y="-1802.8" font-family="Arial" font-size="14.00">OutputProofNotFound</text>
<text text-anchor="start" x="4096.3" y="-1787.8" font-family="Arial" font-size="14.00">PublicKeyNotUniqueAcrossOutputs</text>
<text text-anchor="start" x="4096.3" y="-1772.8" font-family="Arial" font-size="14.00">SpentProofInputMismatch</text>
<text text-anchor="start" x="4096.3" y="-1757.8" font-family="Arial" font-size="14.00">ReissueRequestPublicKeySetMismatch</text>
<text text-anchor="start" x="4096.3" y="-1742.8" font-family="Arial" font-size="14.00">ReissueRequestPublicCommitmentMismatch</text>
<text text-anchor="start" x="4096.3" y="-1727.8" font-family="Arial" font-size="14.00">ReissueRequestMissingSpentProofShare(KeyImage)</text>
<text text-anchor="start" x="4096.3" y="-1712.8" font-family="Arial" font-size="14.00">ReissueSharePublicKeySetMismatch</text>
<text text-anchor="start" x="4096.3" y="-1697.8" font-family="Arial" font-size="14.00">ReissueShareMintNodeSignaturesLenMismatch</text>
<text text-anchor="start" x="4096.3" y="-1682.8" font-family="Arial" font-size="14.00">ReissueShareMintNodeSignatureNotFoundForInput</text>
<text text-anchor="start" x="4096.3" y="-1667.8" font-family="Arial" font-size="14.00">NoReissueShares</text>
<text text-anchor="start" x="4096.3" y="-1652.8" font-family="Arial" font-size="14.00">DecryptionBySecretKeyFailed</text>
<text text-anchor="start" x="4096.3" y="-1637.8" font-family="Arial" font-size="14.00">AmountSecretsBytesInvalid</text>
<text text-anchor="start" x="4096.3" y="-1622.8" font-family="Arial" font-size="14.00">AmountCommitmentsDoNotMatch</text>
<text text-anchor="start" x="4096.3" y="-1607.8" font-family="Arial" font-size="14.00">SecretKeyUnavailable</text>
<text text-anchor="start" x="4096.3" y="-1592.8" font-family="Arial" font-size="14.00">PublicKeyNotFound</text>
<text text-anchor="start" x="4096.3" y="-1577.8" font-family="Arial" font-size="14.00">SecretKeyDoesNotMatchPublicKey</text>
<text text-anchor="start" x="4096.3" y="-1562.8" font-family="Arial" font-size="14.00">SpentbookKeyImageAlreadySpent</text>
<text text-anchor="start" x="4096.3" y="-1547.8" font-family="Arial" font-size="14.00">SpentbookRingSizeMismatch(usize, usize)</text>
<text text-anchor="start" x="4096.3" y="-1532.8" font-family="Arial" font-size="14.00">Blsttc(blsttc::error::Error)</text>
<text text-anchor="start" x="4096.3" y="-1517.8" font-family="Arial" font-size="14.00">RingCt(blst_ringct::Error)</text>
<text text-anchor="start" x="4096.3" y="-1502.8" font-family="Arial" font-size="14.00">Infallible(std::convert::Infallible)</text>
<polygon fill="none" stroke="black" points="4084.3,-1487 4084.3,-1983 4448.3,-1983 4448.3,-1487 4084.3,-1487"/>
</a>
</g>
</g>
<!-- ndDbc -->
<g id="node17" class="node"><title>ndDbc</title>
<g id="a_node17_11"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/dbc.rs#:~:text=struct%20Dbc" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="4303.3,-1037.5 4303.3,-1074.5 5091.3,-1074.5 5091.3,-1037.5 4303.3,-1037.5"/>
<polygon fill="none" stroke="black" points="4303.3,-1037.5 4303.3,-1074.5 5091.3,-1074.5 5091.3,-1037.5 4303.3,-1037.5"/>
<text text-anchor="start" x="4683.3" y="-1053.3" font-family="Arial" font-weight="bold" font-size="14.00">Dbc</text>
<polygon fill="white" stroke="none" points="4303.3,-955.5 4303.3,-1037.5 5091.3,-1037.5 5091.3,-955.5 4303.3,-955.5"/>
<polygon fill="none" stroke="black" points="4303.3,-955.5 4303.3,-1037.5 5091.3,-1037.5 5091.3,-955.5 4303.3,-955.5"/>
<text text-anchor="start" x="4314.3" y="-1015.3" font-family="Arial" font-size="14.00">+ content: DbcContent</text>
<text text-anchor="start" x="4314.3" y="-1000.3" font-family="Arial" font-size="14.00">+ transaction: RingCtTransaction</text>
<text text-anchor="start" x="4314.3" y="-985.3" font-family="Arial" font-size="14.00">+ mint_sigs: BTreeMap&lt;KeyImage, (PublicKey, Signature)&gt;</text>
<text text-anchor="start" x="4314.3" y="-970.3" font-family="Arial" font-size="14.00">+ spent_proofs: BTreeSet&lt;SpentProof&gt;</text>
<polygon fill="white" stroke="none" points="4303.3,-663.5 4303.3,-955.5 5091.3,-955.5 5091.3,-663.5 4303.3,-663.5"/>
<polygon fill="none" stroke="black" points="4303.3,-663.5 4303.3,-955.5 5091.3,-955.5 5091.3,-663.5 4303.3,-663.5"/>
<text text-anchor="start" x="4314.3" y="-933.3" font-family="Arial" font-size="14.00">&#45; owner_base(&amp;self) &#45;&gt; &amp;Owner</text>
<text text-anchor="start" x="4314.3" y="-918.3" font-family="Arial" font-size="14.00">&#45; owner_once(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;Owner&gt;</text>
<text text-anchor="start" x="4314.3" y="-903.3" font-family="Arial" font-size="14.00">&#45; owner_once_bearer(&amp;self) &#45;&gt; Result&lt;Owner&gt;</text>
<text text-anchor="start" x="4314.3" y="-888.3" font-family="Arial" font-size="14.00">&#45; derivation_index(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;DerivationIndex&gt;</text>
<text text-anchor="start" x="4314.3" y="-873.3" font-family="Arial" font-size="14.00">&#45; derivation_index_bearer(&amp;self) &#45;&gt; Result&lt;DerivationIndex&gt;</text>
<text text-anchor="start" x="4314.3" y="-858.3" font-family="Arial" font-size="14.00">&#45; is_bearer(&amp;self) &#45;&gt; bool</text>
<text text-anchor="start" x="4314.3" y="-843.3" font-family="Arial" font-size="14.00">&#45; amount_secrets(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;AmountSecrets&gt;</text>
<text text-anchor="start" x="4314.3" y="-828.3" font-family="Arial" font-size="14.00">&#45; amount_secrets_bearer(&amp;self) &#45;&gt; Result&lt;AmountSecrets&gt;</text>
<text text-anchor="start" x="4314.3" y="-813.3" font-family="Arial" font-size="14.00">&#45; key_image(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;KeyImage&gt;</text>
<text text-anchor="start" x="4314.3" y="-798.3" font-family="Arial" font-size="14.00">&#45; key_image_bearer(&amp;self) &#45;&gt; Result&lt;KeyImage&gt;</text>
<text text-anchor="start" x="4314.3" y="-783.3" font-family="Arial" font-size="14.00">&#45; as_true_input(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;TrueInput&gt;</text>
<text text-anchor="start" x="4314.3" y="-768.3" font-family="Arial" font-size="14.00">&#45; as_true_input_bearer(&amp;self) &#45;&gt; Result&lt;TrueInput&gt;</text>
<text text-anchor="start" x="4314.3" y="-753.3" font-family="Arial" font-size="14.00">&#45; hash(&amp;self) &#45;&gt; [u8; 32]</text>
<text text-anchor="start" x="4314.3" y="-738.3" font-family="Arial" font-size="14.00">&#45; confirm_valid(&amp;self, base_sk: &amp;SecretKey, mint_verifier: &amp;K) &#45;&gt; Result&lt;(), Error&gt;</text>
<text text-anchor="start" x="4314.3" y="-723.3" font-family="Arial" font-size="14.00">&#45; confirm_valid_bearer(&amp;self, mint_verifier: &amp;K) &#45;&gt; Result&lt;(), Error&gt;</text>
<text text-anchor="start" x="4314.3" y="-708.3" font-family="Arial" font-size="14.00">&#45; confirm_provided_amount_matches_commitment(&amp;self, base_sk: &amp;SecretKey, amount: &amp;AmountSecrets) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="4314.3" y="-693.3" font-family="Arial" font-size="14.00">&#45; confirm_provided_amount_matches_commitment_bearer(&amp;self, amount: &amp;AmountSecrets) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="4314.3" y="-678.3" font-family="Arial" font-size="14.00">&#45; my_output_proof(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;&amp;OutputProof&gt;</text>
<polygon fill="none" stroke="black" points="4302.3,-663 4302.3,-1076 5092.3,-1076 5092.3,-663 4302.3,-663"/>
</a>
</g>
</g>
<!-- ndError&#45;&gt;ndDbc -->
<g id="edge10" class="edge"><title>ndError&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M4456.42,-1604.76C4532.68,-1548.89 4607.86,-1487.24 4630.3,-1447 4666.36,-1382.34 4659.74,-1189.54 4668.3,-1116 4669.29,-1107.48 4670.31,-1098.8 4671.33,-1090.03"/>
<polygon fill="black" stroke="black" points="4672.5,-1080.09 4675.8,-1090.55 4671.91,-1085.06 4671.33,-1090.02 4671.33,-1090.02 4671.33,-1090.02 4671.91,-1085.06 4666.86,-1089.5 4672.5,-1080.09 4672.5,-1080.09"/>
</g>
<!-- ndAmountSecrets -->
<g id="node24" class="node"><title>ndAmountSecrets</title>
<g id="a_node24_12"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/amount_secrets.rs#:~:text=struct%20AmountSecrets" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="3920.3,-1404.5 3920.3,-1441.5 4612.3,-1441.5 4612.3,-1404.5 3920.3,-1404.5"/>
<polygon fill="none" stroke="black" points="3920.3,-1404.5 3920.3,-1441.5 4612.3,-1441.5 4612.3,-1404.5 3920.3,-1404.5"/>
<text text-anchor="start" x="4212.3" y="-1420.3" font-family="Arial" font-weight="bold" font-size="14.00">AmountSecrets</text>
<polygon fill="white" stroke="none" points="3920.3,-1367.5 3920.3,-1404.5 4612.3,-1404.5 4612.3,-1367.5 3920.3,-1367.5"/>
<polygon fill="none" stroke="black" points="3920.3,-1367.5 3920.3,-1404.5 4612.3,-1404.5 4612.3,-1367.5 3920.3,-1367.5"/>
<text text-anchor="start" x="3931.3" y="-1382.3" font-family="Arial" font-size="14.00">&#45; RevealedCommitment</text>
<polygon fill="white" stroke="none" points="3920.3,-1120.5 3920.3,-1367.5 4612.3,-1367.5 4612.3,-1120.5 3920.3,-1120.5"/>
<polygon fill="none" stroke="black" points="3920.3,-1120.5 3920.3,-1367.5 4612.3,-1367.5 4612.3,-1120.5 3920.3,-1120.5"/>
<text text-anchor="start" x="3931.3" y="-1345.3" font-family="Arial" font-size="14.00">&#45; amount(&amp;self) &#45;&gt; Amount</text>
<text text-anchor="start" x="3931.3" y="-1330.3" font-family="Arial" font-size="14.00">&#45; blinding_factor(&amp;self) &#45;&gt; SecretKeyBlst</text>
<text text-anchor="start" x="3931.3" y="-1315.3" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="3931.3" y="-1300.3" font-family="Arial" font-size="14.00">&#45; from_bytes(bytes: [u8; AMT_SIZE + BF_SIZE]) &#45;&gt; Self</text>
<text text-anchor="start" x="3931.3" y="-1285.3" font-family="Arial" font-size="14.00">&#45; from_bytes_ref(bytes: &amp;[u8]) &#45;&gt; Result&lt;Self, Error&gt;</text>
<text text-anchor="start" x="3931.3" y="-1270.3" font-family="Arial" font-size="14.00">&#45; from_amount(amount: Amount, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="3931.3" y="-1255.3" font-family="Arial" font-size="14.00">&#45; encrypt(&amp;self, public_key: &amp;PublicKey) &#45;&gt; Ciphertext</text>
<text text-anchor="start" x="3931.3" y="-1240.3" font-family="Arial" font-size="14.00">&#45; from(revealed_commitment: RevealedCommitment) &#45;&gt; Self</text>
<text text-anchor="start" x="3931.3" y="-1225.3" font-family="Arial" font-size="14.00">&#45; from(params: (Amount, BlindingFactor)) &#45;&gt; Self</text>
<text text-anchor="start" x="3931.3" y="-1210.3" font-family="Arial" font-size="14.00">&#45; into(self) &#45;&gt; RevealedCommitment</text>
<text text-anchor="start" x="3931.3" y="-1195.3" font-family="Arial" font-size="14.00">&#45; into(self) &#45;&gt; Amount</text>
<text text-anchor="start" x="3931.3" y="-1180.3" font-family="Arial" font-size="14.00">&#45; try_from(params: (&amp;SecretKey, &amp;Ciphertext)) &#45;&gt; Result&lt;Self, Error&gt;</text>
<text text-anchor="start" x="3931.3" y="-1165.3" font-family="Arial" font-size="14.00">&#45; try_from(params: (&amp;SecretKeySet, &amp;Ciphertext)) &#45;&gt; Result&lt;Self, Error&gt;</text>
<text text-anchor="start" x="3931.3" y="-1150.3" font-family="Arial" font-size="14.00">&#45; try_from(params: (&amp;PublicKeySet, &amp;BTreeMap&lt;I, SecretKeyShare&gt;, &amp;Ciphertext)) &#45;&gt; Result&lt;Self, Error&gt;</text>
<text text-anchor="start" x="3931.3" y="-1135.3" font-family="Arial" font-size="14.00">&#45; try_from(params: (&amp;PublicKeySet, &amp;BTreeMap&lt;I, DecryptionShare&gt;, &amp;Ciphertext)) &#45;&gt; Result&lt;Self, Error&gt;</text>
<polygon fill="none" stroke="black" points="3919.3,-1120 3919.3,-1443 4613.3,-1443 4613.3,-1120 3919.3,-1120"/>
</a>
</g>
</g>
<!-- ndError&#45;&gt;ndAmountSecrets -->
<g id="edge11" class="edge"><title>ndError&#45;&gt;ndAmountSecrets</title>
<path fill="none" stroke="black" d="M4266.3,-1482.83C4266.3,-1474.26 4266.3,-1465.73 4266.3,-1457.31"/>
<polygon fill="black" stroke="black" points="4266.3,-1447.08 4270.8,-1457.08 4266.3,-1452.08 4266.3,-1457.08 4266.3,-1457.08 4266.3,-1457.08 4266.3,-1452.08 4261.8,-1457.08 4266.3,-1447.08 4266.3,-1447.08"/>
</g>
<!-- ndError&#45;&gt;ndTransactionValidator -->
<g id="edge12" class="edge"><title>ndError&#45;&gt;ndTransactionValidator</title>
<path fill="none" stroke="black" d="M4076.22,-1645.07C3885.32,-1555.75 3596.35,-1420.55 3430.53,-1342.97"/>
<polygon fill="black" stroke="black" points="3421.26,-1338.63 3432.23,-1338.79 3425.79,-1340.75 3430.32,-1342.87 3430.32,-1342.87 3430.32,-1342.87 3425.79,-1340.75 3428.41,-1346.94 3421.26,-1338.63 3421.26,-1338.63"/>
</g>
<!-- ndNodeSignature -->
<g id="node3" class="node"><title>ndNodeSignature</title>
<g id="a_node3_13"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/key_manager.rs#:~:text=struct%20NodeSignature" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="1891.3,-1776 1891.3,-1813 2238.3,-1813 2238.3,-1776 1891.3,-1776"/>
<polygon fill="none" stroke="black" points="1891.3,-1776 1891.3,-1813 2238.3,-1813 2238.3,-1776 1891.3,-1776"/>
<text text-anchor="start" x="2012.8" y="-1791.8" font-family="Arial" font-weight="bold" font-size="14.00">NodeSignature</text>
<polygon fill="white" stroke="none" points="1891.3,-1724 1891.3,-1776 2238.3,-1776 2238.3,-1724 1891.3,-1724"/>
<polygon fill="none" stroke="black" points="1891.3,-1724 1891.3,-1776 2238.3,-1776 2238.3,-1724 1891.3,-1724"/>
<text text-anchor="start" x="1902.3" y="-1753.8" font-family="Arial" font-size="14.00">&#45; index: u64</text>
<text text-anchor="start" x="1902.3" y="-1738.8" font-family="Arial" font-size="14.00">&#45; sig: SignatureShare</text>
<polygon fill="white" stroke="none" points="1891.3,-1657 1891.3,-1724 2238.3,-1724 2238.3,-1657 1891.3,-1657"/>
<polygon fill="none" stroke="black" points="1891.3,-1657 1891.3,-1724 2238.3,-1724 2238.3,-1657 1891.3,-1657"/>
<text text-anchor="start" x="1902.3" y="-1701.8" font-family="Arial" font-size="14.00">&#45; new(index: u64, sig: SignatureShare) &#45;&gt; Self</text>
<text text-anchor="start" x="1902.3" y="-1686.8" font-family="Arial" font-size="14.00">&#45; threshold_crypto(&amp;self) &#45;&gt; (u64, &amp;SignatureShare)</text>
<text text-anchor="start" x="1902.3" y="-1671.8" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<polygon fill="none" stroke="black" points="1889.8,-1656 1889.8,-1814 2238.8,-1814 2238.8,-1656 1889.8,-1656"/>
</a>
</g>
</g>
<!-- ndNodeSignature&#45;&gt;ndSimpleKeyManager -->
<g id="edge13" class="edge"><title>ndNodeSignature&#45;&gt;ndSimpleKeyManager</title>
<path fill="none" stroke="black" d="M2011.31,-1651.77C1969.49,-1594.31 1905.75,-1521.26 1830.3,-1483 1709.35,-1421.66 1656.51,-1488.18 1527.3,-1447 1489.28,-1434.88 1450.53,-1417.88 1414.02,-1399.37"/>
<polygon fill="black" stroke="black" points="1404.79,-1394.63 1415.74,-1395.19 1409.23,-1396.92 1413.68,-1399.2 1413.68,-1399.2 1413.68,-1399.2 1409.23,-1396.92 1411.63,-1403.2 1404.79,-1394.63 1404.79,-1394.63"/>
</g>
<!-- ndNodeSignature&#45;&gt;ndSpentProofShare -->
<g id="edge14" class="edge"><title>ndNodeSignature&#45;&gt;ndSpentProofShare</title>
<path fill="none" stroke="black" d="M2068.66,-1651.97C2071.95,-1590.08 2076.55,-1503.51 2080.47,-1429.73"/>
<polygon fill="black" stroke="black" points="2080.49,-1429.52 2076.81,-1423.31 2081.12,-1417.53 2084.8,-1423.74 2080.49,-1429.52"/>
</g>
<!-- ndKeyManager -->
<g id="node4" class="node"><title>ndKeyManager</title>
<g id="a_node4_14"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/key_manager.rs#:~:text=trait%20KeyManager" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightgreen" stroke="none" points="116.301,-1772 116.301,-1809 643.301,-1809 643.301,-1772 116.301,-1772"/>
<polygon fill="none" stroke="black" points="116.301,-1772 116.301,-1809 643.301,-1809 643.301,-1772 116.301,-1772"/>
<text text-anchor="start" x="335.301" y="-1787.8" font-family="Arial" font-weight="bold" font-size="14.00">KeyManager</text>
<polygon fill="white" stroke="none" points="116.301,-1660 116.301,-1772 643.301,-1772 643.301,-1660 116.301,-1660"/>
<polygon fill="none" stroke="black" points="116.301,-1660 116.301,-1772 643.301,-1772 643.301,-1660 116.301,-1660"/>
<text text-anchor="start" x="127.301" y="-1749.8" font-family="Arial" font-size="14.00">add_known_key(&amp;mut Self, PublicKey) &#45;&gt; Result&lt;(), Self::Error&gt;</text>
<text text-anchor="start" x="127.301" y="-1734.8" font-family="Arial" font-size="14.00">sign_with_child_key(&amp;Self, &amp;[u8], &amp;Hash) &#45;&gt; Result&lt;NodeSignature, Self::Error&gt;</text>
<text text-anchor="start" x="127.301" y="-1719.8" font-family="Arial" font-size="14.00">sign(&amp;Self, &amp;Hash) &#45;&gt; Result&lt;NodeSignature, Self::Error&gt;</text>
<text text-anchor="start" x="127.301" y="-1704.8" font-family="Arial" font-size="14.00">public_key_set(&amp;Self) &#45;&gt; Result&lt;PublicKeySet, Self::Error&gt;</text>
<text text-anchor="start" x="127.301" y="-1689.8" font-family="Arial" font-size="14.00">verify(&amp;Self, &amp;Hash, &amp;PublicKey, &amp;Signature) &#45;&gt; Result&lt;(), Self::Error&gt;</text>
<text text-anchor="start" x="127.301" y="-1674.8" font-family="Arial" font-size="14.00">verify_known_key(&amp;Self, &amp;PublicKey) &#45;&gt; Result&lt;(), Self::Error&gt;</text>
<polygon fill="none" stroke="black" points="114.801,-1659.5 114.801,-1810.5 643.801,-1810.5 643.801,-1659.5 114.801,-1659.5"/>
</a>
</g>
</g>
<!-- ndKeyManager&#45;&gt;ndSimpleKeyManager -->
<g id="edge15" class="edge"><title>ndKeyManager&#45;&gt;ndSimpleKeyManager</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M451.319,-1655.47C504.851,-1600.93 582.054,-1529.9 661.301,-1483 741.654,-1435.44 835.08,-1396.57 922.504,-1366.14"/>
<polygon fill="none" stroke="black" points="923.726,-1369.42 932.035,-1362.85 921.44,-1362.8 923.726,-1369.42"/>
</g>
<!-- ndKeyManager&#45;&gt;ndSpentBookNodeMock -->
<g id="edge16" class="edge"><title>ndKeyManager&#45;&gt;ndSpentBookNodeMock</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M441.578,-1655.14C538.857,-1533.9 735.261,-1296.8 923.301,-1116 960.059,-1080.66 1001.39,-1044.82 1041.4,-1011.84"/>
<polygon fill="black" stroke="black" points="1049.39,-1005.29 1044.51,-1015.11 1045.52,-1008.46 1041.66,-1011.63 1041.66,-1011.63 1041.66,-1011.63 1045.52,-1008.46 1038.8,-1008.16 1049.39,-1005.29 1049.39,-1005.29"/>
</g>
<!-- ndSimpleSigner -->
<g id="node5" class="node"><title>ndSimpleSigner</title>
<g id="a_node5_15"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/key_manager.rs#:~:text=struct%20SimpleSigner" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="679.301,-1798 679.301,-1835 1251.3,-1835 1251.3,-1798 679.301,-1798"/>
<polygon fill="none" stroke="black" points="679.301,-1798 679.301,-1835 1251.3,-1835 1251.3,-1798 679.301,-1798"/>
<text text-anchor="start" x="918.301" y="-1813.8" font-family="Arial" font-weight="bold" font-size="14.00">SimpleSigner</text>
<polygon fill="white" stroke="none" points="679.301,-1746 679.301,-1798 1251.3,-1798 1251.3,-1746 679.301,-1746"/>
<polygon fill="none" stroke="black" points="679.301,-1746 679.301,-1798 1251.3,-1798 1251.3,-1746 679.301,-1746"/>
<text text-anchor="start" x="690.301" y="-1775.8" font-family="Arial" font-size="14.00">&#45; public_key_set: PublicKeySet</text>
<text text-anchor="start" x="690.301" y="-1760.8" font-family="Arial" font-size="14.00">&#45; secret_key_share: (u64, SerdeSecret&lt;SecretKeyShare&gt;)</text>
<polygon fill="white" stroke="none" points="679.301,-1634 679.301,-1746 1251.3,-1746 1251.3,-1634 679.301,-1634"/>
<polygon fill="none" stroke="black" points="679.301,-1634 679.301,-1746 1251.3,-1746 1251.3,-1634 679.301,-1634"/>
<text text-anchor="start" x="690.301" y="-1723.8" font-family="Arial" font-size="14.00">&#45; from(outcome: bls_dkg::outcome::Outcome) &#45;&gt; Self</text>
<text text-anchor="start" x="690.301" y="-1708.8" font-family="Arial" font-size="14.00">&#45; new(public_key_set: PublicKeySet, secret_key_share: (u64, SecretKeyShare)) &#45;&gt; Self</text>
<text text-anchor="start" x="690.301" y="-1693.8" font-family="Arial" font-size="14.00">&#45; index(&amp;self) &#45;&gt; u64</text>
<text text-anchor="start" x="690.301" y="-1678.8" font-family="Arial" font-size="14.00">&#45; public_key_set(&amp;self) &#45;&gt; PublicKeySet</text>
<text text-anchor="start" x="690.301" y="-1663.8" font-family="Arial" font-size="14.00">&#45; sign(&amp;self, msg: M) &#45;&gt; blsttc::SignatureShare</text>
<text text-anchor="start" x="690.301" y="-1648.8" font-family="Arial" font-size="14.00">&#45; derive_child(&amp;self, index: &amp;[u8]) &#45;&gt; Self</text>
<polygon fill="none" stroke="black" points="678.301,-1633.5 678.301,-1836.5 1252.3,-1836.5 1252.3,-1633.5 678.301,-1633.5"/>
</a>
</g>
</g>
<!-- ndSimpleSigner&#45;&gt;ndSimpleKeyManager -->
<g id="edge17" class="edge"><title>ndSimpleSigner&#45;&gt;ndSimpleKeyManager</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1025.6,-1629.28C1064.13,-1562.38 1114.25,-1475.34 1154.64,-1405.2"/>
<polygon fill="black" stroke="black" points="1154.79,-1404.94 1154.32,-1397.75 1160.78,-1394.54 1161.25,-1401.74 1154.79,-1404.94"/>
</g>
<!-- ndSimpleKeyManager&#45;&gt;ndSpentBookNodeMock -->
<g id="edge18" class="edge"><title>ndSimpleKeyManager&#45;&gt;ndSpentBookNodeMock</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1225.3,-1168.47C1225.3,-1121.92 1225.3,-1067.26 1225.3,-1017.56"/>
<polygon fill="black" stroke="black" points="1225.3,-1017.37 1221.3,-1011.37 1225.3,-1005.37 1229.3,-1011.37 1225.3,-1017.37"/>
</g>
<!-- ndKeys&#45;&gt;ndSimpleKeyManager -->
<g id="edge19" class="edge"><title>ndKeys&#45;&gt;ndSimpleKeyManager</title>
<path fill="none" stroke="black" d="M1477.35,-1651.97C1430.19,-1582.86 1362.05,-1482.96 1308.5,-1404.47"/>
<polygon fill="black" stroke="black" points="1308.48,-1404.43 1301.79,-1401.73 1301.72,-1394.52 1308.4,-1397.22 1308.48,-1404.43"/>
</g>
<!-- ndReissueRequest -->
<g id="node8" class="node"><title>ndReissueRequest</title>
<g id="a_node8_16"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/mint.rs#:~:text=struct%20ReissueRequest" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2340.3,-876.5 2340.3,-913.5 2617.3,-913.5 2617.3,-876.5 2340.3,-876.5"/>
<polygon fill="none" stroke="black" points="2340.3,-876.5 2340.3,-913.5 2617.3,-913.5 2617.3,-876.5 2340.3,-876.5"/>
<text text-anchor="start" x="2422.3" y="-892.3" font-family="Arial" font-weight="bold" font-size="14.00">ReissueRequest</text>
<polygon fill="white" stroke="none" points="2340.3,-824.5 2340.3,-876.5 2617.3,-876.5 2617.3,-824.5 2340.3,-824.5"/>
<polygon fill="none" stroke="black" points="2340.3,-824.5 2340.3,-876.5 2617.3,-876.5 2617.3,-824.5 2340.3,-824.5"/>
<text text-anchor="start" x="2351.3" y="-854.3" font-family="Arial" font-size="14.00">+ transaction: RingCtTransaction</text>
<text text-anchor="start" x="2351.3" y="-839.3" font-family="Arial" font-size="14.00">+ spent_proofs: BTreeSet&lt;SpentProof&gt;</text>
<polygon fill="none" stroke="black" points="2338.8,-824 2338.8,-915 2617.8,-915 2617.8,-824 2338.8,-824"/>
</a>
</g>
</g>
<!-- ndMintNode -->
<g id="node10" class="node"><title>ndMintNode</title>
<g id="a_node10_17"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/mint.rs#:~:text=struct%20MintNode" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2479.3,-581 2479.3,-618 3104.3,-618 3104.3,-581 2479.3,-581"/>
<polygon fill="none" stroke="black" points="2479.3,-581 2479.3,-618 3104.3,-618 3104.3,-581 2479.3,-581"/>
<text text-anchor="start" x="2758.3" y="-596.8" font-family="Arial" font-weight="bold" font-size="14.00">MintNode</text>
<polygon fill="white" stroke="none" points="2479.3,-544 2479.3,-581 3104.3,-581 3104.3,-544 2479.3,-544"/>
<polygon fill="none" stroke="black" points="2479.3,-544 2479.3,-581 3104.3,-581 3104.3,-544 2479.3,-544"/>
<text text-anchor="start" x="2490.3" y="-558.8" font-family="Arial" font-size="14.00">+ key_manager: K</text>
<polygon fill="white" stroke="none" points="2479.3,-432 2479.3,-544 3104.3,-544 3104.3,-432 2479.3,-432"/>
<polygon fill="none" stroke="black" points="2479.3,-432 2479.3,-544 3104.3,-544 3104.3,-432 2479.3,-432"/>
<text text-anchor="start" x="2490.3" y="-521.8" font-family="Arial" font-size="14.00">&#45; new(key_manager: K) &#45;&gt; Self</text>
<text text-anchor="start" x="2490.3" y="-506.8" font-family="Arial" font-size="14.00">&#45; trust_spentbook_public_key(mut self, public_key: PublicKey) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="2490.3" y="-491.8" font-family="Arial" font-size="14.00">&#45; key_manager(&amp;self) &#45;&gt; &amp;K</text>
<text text-anchor="start" x="2490.3" y="-476.8" font-family="Arial" font-size="14.00">&#45; spend(_key_image: KeyImage, _transaction: RingCtTransaction) &#45;&gt; Result&lt;SpentProofShare&gt;</text>
<text text-anchor="start" x="2490.3" y="-461.8" font-family="Arial" font-size="14.00">&#45; reissue(&amp;self, reissue_req: ReissueRequest) &#45;&gt; Result&lt;ReissueShare&gt;</text>
<text text-anchor="start" x="2490.3" y="-446.8" font-family="Arial" font-size="14.00">&#45; sign_transaction(&amp;self, transaction: &amp;RingCtTransaction) &#45;&gt; Result&lt;MintNodeSignatures&gt;</text>
<polygon fill="none" stroke="black" points="2477.8,-431 2477.8,-619 3104.8,-619 3104.8,-431 2477.8,-431"/>
</a>
</g>
</g>
<!-- ndReissueRequest&#45;&gt;ndMintNode -->
<g id="edge20" class="edge"><title>ndReissueRequest&#45;&gt;ndMintNode</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2511.89,-819.821C2543.07,-775.964 2591.86,-710.64 2640.3,-659 2649.34,-649.364 2659,-639.672 2668.91,-630.152"/>
<polygon fill="black" stroke="black" points="2676.16,-623.253 2672.02,-633.406 2672.54,-626.699 2668.92,-630.146 2668.92,-630.146 2668.92,-630.146 2672.54,-626.699 2665.82,-626.885 2676.16,-623.253 2676.16,-623.253"/>
</g>
<!-- ndReissueRequestBuilder -->
<g id="node19" class="node"><title>ndReissueRequestBuilder</title>
<g id="a_node19_18"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/builder.rs#:~:text=struct%20ReissueRequestBuilder" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="1818.3,-581 1818.3,-618 2442.3,-618 2442.3,-581 1818.3,-581"/>
<polygon fill="none" stroke="black" points="1818.3,-581 1818.3,-618 2442.3,-618 2442.3,-581 1818.3,-581"/>
<text text-anchor="start" x="2048.8" y="-596.8" font-family="Arial" font-weight="bold" font-size="14.00">ReissueRequestBuilder</text>
<polygon fill="white" stroke="none" points="1818.3,-529 1818.3,-581 2442.3,-581 2442.3,-529 1818.3,-529"/>
<polygon fill="none" stroke="black" points="1818.3,-529 1818.3,-581 2442.3,-581 2442.3,-529 1818.3,-529"/>
<text text-anchor="start" x="1829.3" y="-558.8" font-family="Arial" font-size="14.00">+ transaction: RingCtTransaction</text>
<text text-anchor="start" x="1829.3" y="-543.8" font-family="Arial" font-size="14.00">+ spent_proof_shares: BTreeMap&lt;KeyImage, HashSet&lt;SpentProofShare&gt;&gt;</text>
<polygon fill="white" stroke="none" points="1818.3,-432 1818.3,-529 2442.3,-529 2442.3,-432 1818.3,-432"/>
<polygon fill="none" stroke="black" points="1818.3,-432 1818.3,-529 2442.3,-529 2442.3,-432 1818.3,-432"/>
<text text-anchor="start" x="1829.3" y="-506.8" font-family="Arial" font-size="14.00">&#45; new(transaction: RingCtTransaction) &#45;&gt; Self</text>
<text text-anchor="start" x="1829.3" y="-491.8" font-family="Arial" font-size="14.00">&#45; add_spent_proof_share(mut self, share: SpentProofShare) &#45;&gt; Self</text>
<text text-anchor="start" x="1829.3" y="-476.8" font-family="Arial" font-size="14.00">&#45; add_spent_proof_shares(mut self, shares: impl IntoIterator&lt;Item = SpentProofShare&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="1829.3" y="-461.8" font-family="Arial" font-size="14.00">&#45; inputs(&amp;self) &#45;&gt; Vec&lt;(KeyImage, RingCtTransaction)&gt;</text>
<text text-anchor="start" x="1829.3" y="-446.8" font-family="Arial" font-size="14.00">&#45; build(self) &#45;&gt; Result&lt;ReissueRequest&gt;</text>
<polygon fill="none" stroke="black" points="1817.3,-431 1817.3,-619 2443.3,-619 2443.3,-431 1817.3,-431"/>
</a>
</g>
</g>
<!-- ndReissueRequest&#45;&gt;ndReissueRequestBuilder -->
<g id="edge21" class="edge"><title>ndReissueRequest&#45;&gt;ndReissueRequestBuilder</title>
<path fill="none" stroke="black" d="M2428.81,-819.792C2378.94,-770.711 2300.42,-693.428 2236.42,-630.443"/>
<polygon fill="black" stroke="black" points="2229.09,-623.227 2239.37,-627.034 2232.65,-626.734 2236.22,-630.242 2236.22,-630.242 2236.22,-630.242 2232.65,-626.734 2233.06,-633.449 2229.09,-623.227 2229.09,-623.227"/>
</g>
<!-- ndReissueShare -->
<g id="node9" class="node"><title>ndReissueShare</title>
<g id="a_node9_19"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/mint.rs#:~:text=struct%20ReissueShare" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2691.3,-884.5 2691.3,-921.5 3001.3,-921.5 3001.3,-884.5 2691.3,-884.5"/>
<polygon fill="none" stroke="black" points="2691.3,-884.5 2691.3,-921.5 3001.3,-921.5 3001.3,-884.5 2691.3,-884.5"/>
<text text-anchor="start" x="2797.8" y="-900.3" font-family="Arial" font-weight="bold" font-size="14.00">ReissueShare</text>
<polygon fill="white" stroke="none" points="2691.3,-817.5 2691.3,-884.5 3001.3,-884.5 3001.3,-817.5 2691.3,-817.5"/>
<polygon fill="none" stroke="black" points="2691.3,-817.5 2691.3,-884.5 3001.3,-884.5 3001.3,-817.5 2691.3,-817.5"/>
<text text-anchor="start" x="2702.3" y="-862.3" font-family="Arial" font-size="14.00">+ transaction: RingCtTransaction</text>
<text text-anchor="start" x="2702.3" y="-847.3" font-family="Arial" font-size="14.00">+ spent_proofs: BTreeSet&lt;SpentProof&gt;</text>
<text text-anchor="start" x="2702.3" y="-832.3" font-family="Arial" font-size="14.00">+ mint_node_signatures: MintNodeSignatures</text>
<polygon fill="none" stroke="black" points="2690.3,-816.5 2690.3,-922.5 3002.3,-922.5 3002.3,-816.5 2690.3,-816.5"/>
</a>
</g>
</g>
<!-- ndReissueShare&#45;&gt;ndMintNode -->
<g id="edge22" class="edge"><title>ndReissueShare&#45;&gt;ndMintNode</title>
<path fill="none" stroke="black" d="M2837.28,-812.327C2829.5,-763.889 2818.05,-692.59 2808.52,-633.26"/>
<polygon fill="black" stroke="black" points="2806.89,-623.089 2812.92,-632.249 2807.68,-628.026 2808.48,-632.963 2808.48,-632.963 2808.48,-632.963 2807.68,-628.026 2804.03,-633.676 2806.89,-623.089 2806.89,-623.089"/>
</g>
<!-- ndDbcBuilder -->
<g id="node20" class="node"><title>ndDbcBuilder</title>
<g id="a_node20_20"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/builder.rs#:~:text=struct%20DbcBuilder" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="4114.3,-581 4114.3,-618 4811.3,-618 4811.3,-581 4114.3,-581"/>
<polygon fill="none" stroke="black" points="4114.3,-581 4114.3,-618 4811.3,-618 4811.3,-581 4114.3,-581"/>
<text text-anchor="start" x="4423.3" y="-596.8" font-family="Arial" font-weight="bold" font-size="14.00">DbcBuilder</text>
<polygon fill="white" stroke="none" points="4114.3,-514 4114.3,-581 4811.3,-581 4811.3,-514 4114.3,-514"/>
<polygon fill="none" stroke="black" points="4114.3,-514 4114.3,-581 4811.3,-581 4811.3,-514 4114.3,-514"/>
<text text-anchor="start" x="4125.3" y="-558.8" font-family="Arial" font-size="14.00">+ revealed_commitments: Vec&lt;RevealedCommitment&gt;</text>
<text text-anchor="start" x="4125.3" y="-543.8" font-family="Arial" font-size="14.00">+ output_owner_map: OutputOwnerMap</text>
<text text-anchor="start" x="4125.3" y="-528.8" font-family="Arial" font-size="14.00">+ reissue_shares: Vec&lt;ReissueShare&gt;</text>
<polygon fill="white" stroke="none" points="4114.3,-432 4114.3,-514 4811.3,-514 4811.3,-432 4114.3,-432"/>
<polygon fill="none" stroke="black" points="4114.3,-432 4114.3,-514 4811.3,-514 4811.3,-432 4114.3,-432"/>
<text text-anchor="start" x="4125.3" y="-491.8" font-family="Arial" font-size="14.00">&#45; new(revealed_commitments: Vec&lt;RevealedCommitment&gt;, output_owner_map: OutputOwnerMap) &#45;&gt; Self</text>
<text text-anchor="start" x="4125.3" y="-476.8" font-family="Arial" font-size="14.00">&#45; add_reissue_share(mut self, reissue_share: ReissueShare) &#45;&gt; Self</text>
<text text-anchor="start" x="4125.3" y="-461.8" font-family="Arial" font-size="14.00">&#45; add_reissue_shares(mut self, shares: impl IntoIterator&lt;Item = ReissueShare&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="4125.3" y="-446.8" font-family="Arial" font-size="14.00">&#45; build(self) &#45;&gt; Result&lt;Vec&lt;(Dbc, OwnerOnce, AmountSecrets)&gt;&gt;</text>
<polygon fill="none" stroke="black" points="4112.8,-431 4112.8,-619 4811.8,-619 4811.8,-431 4112.8,-431"/>
</a>
</g>
</g>
<!-- ndReissueShare&#45;&gt;ndDbcBuilder -->
<g id="edge23" class="edge"><title>ndReissueShare&#45;&gt;ndDbcBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M3010.52,-833.695C3262.82,-780.222 3752.26,-676.489 4092.73,-604.328"/>
<polygon fill="black" stroke="black" points="4092.79,-604.316 4097.83,-599.159 4104.53,-601.828 4099.49,-606.985 4092.79,-604.316"/>
</g>
<!-- ndDbcContent&#45;&gt;ndDbc -->
<g id="edge24" class="edge"><title>ndDbcContent&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M4874.63,-1175.98C4859.35,-1149.66 4842.37,-1120.41 4825.14,-1090.73"/>
<polygon fill="black" stroke="black" points="4825.06,-1090.6 4818.59,-1087.42 4819.04,-1080.22 4825.51,-1083.4 4825.06,-1090.6"/>
</g>
<!-- ndGenesisMaterial -->
<g id="node12" class="node"><title>ndGenesisMaterial</title>
<g id="a_node12_21"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/genesis.rs#:~:text=struct%20GenesisMaterial" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="5297.3,-1776 5297.3,-1813 5524.3,-1813 5524.3,-1776 5297.3,-1776"/>
<polygon fill="none" stroke="black" points="5297.3,-1776 5297.3,-1813 5524.3,-1813 5524.3,-1776 5297.3,-1776"/>
<text text-anchor="start" x="5354.3" y="-1791.8" font-family="Arial" font-weight="bold" font-size="14.00">GenesisMaterial</text>
<polygon fill="white" stroke="none" points="5297.3,-1709 5297.3,-1776 5524.3,-1776 5524.3,-1709 5297.3,-1709"/>
<polygon fill="none" stroke="black" points="5297.3,-1709 5297.3,-1776 5524.3,-1776 5524.3,-1709 5297.3,-1709"/>
<text text-anchor="start" x="5308.3" y="-1753.8" font-family="Arial" font-size="14.00">+ ringct_material: RingCtMaterial</text>
<text text-anchor="start" x="5308.3" y="-1738.8" font-family="Arial" font-size="14.00">+ owner_once: OwnerOnce</text>
<text text-anchor="start" x="5308.3" y="-1723.8" font-family="Arial" font-size="14.00">+ input_key_image: KeyImage</text>
<polygon fill="white" stroke="none" points="5297.3,-1656 5297.3,-1709 5524.3,-1709 5524.3,-1656 5297.3,-1656"/>
<polygon fill="none" stroke="black" points="5297.3,-1656 5297.3,-1709 5524.3,-1709 5524.3,-1656 5297.3,-1656"/>
<text text-anchor="start" x="5308.3" y="-1671.8" font-family="Arial" font-size="14.00">&#45; default() &#45;&gt; Self</text>
<polygon fill="none" stroke="black" points="5295.8,-1655.5 5295.8,-1814.5 5524.8,-1814.5 5524.8,-1655.5 5295.8,-1655.5"/>
</a>
</g>
</g>
<!-- ndPublicKeyBlstMappable&#45;&gt;ndSpentBookNodeMock -->
<g id="edge25" class="edge"><title>ndPublicKeyBlstMappable&#45;&gt;ndSpentBookNodeMock</title>
<path fill="none" stroke="black" d="M1603.2,-1182.61C1578.48,-1160.47 1552.14,-1137.24 1527.3,-1116 1487.64,-1082.09 1444.42,-1046.29 1403.4,-1012.84"/>
<polygon fill="black" stroke="black" points="1403.16,-1012.64 1395.98,-1011.95 1393.85,-1005.06 1401.03,-1005.75 1403.16,-1012.64"/>
</g>
<!-- ndBlsHelper -->
<g id="node14" class="node"><title>ndBlsHelper</title>
<g id="a_node14_22"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/blst.rs#:~:text=struct%20BlsHelper" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="5560.3,-2135.5 5560.3,-2172.5 5976.3,-2172.5 5976.3,-2135.5 5560.3,-2135.5"/>
<polygon fill="none" stroke="black" points="5560.3,-2135.5 5560.3,-2172.5 5976.3,-2172.5 5976.3,-2135.5 5560.3,-2135.5"/>
<text text-anchor="start" x="5734.3" y="-2151.3" font-family="Arial" font-weight="bold" font-size="14.00">BlsHelper</text>
<polygon fill="white" stroke="none" points="5560.3,-2053.5 5560.3,-2135.5 5976.3,-2135.5 5976.3,-2053.5 5560.3,-2053.5"/>
<polygon fill="none" stroke="black" points="5560.3,-2053.5 5560.3,-2135.5 5976.3,-2135.5 5976.3,-2053.5 5560.3,-2053.5"/>
<text text-anchor="start" x="5571.3" y="-2113.3" font-family="Arial" font-size="14.00">&#45; blsttc_to_blstrs_secret_key(sk: SecretKey) &#45;&gt; SecretKeyBlst</text>
<text text-anchor="start" x="5571.3" y="-2098.3" font-family="Arial" font-size="14.00">&#45; blsttc_to_blstrs_public_key(pk: &amp;PublicKey) &#45;&gt; PublicKeyBlst</text>
<text text-anchor="start" x="5571.3" y="-2083.3" font-family="Arial" font-size="14.00">&#45; blstrs_to_blsttc_public_key(pk: &amp;PublicKeyBlst) &#45;&gt; PublicKey</text>
<text text-anchor="start" x="5571.3" y="-2068.3" font-family="Arial" font-size="14.00">&#45; blstrs_to_blsttc_secret_key(sk: SecretKeyBlst) &#45;&gt; SecretKey</text>
<polygon fill="none" stroke="black" points="5559.3,-2053 5559.3,-2174 5977.3,-2174 5977.3,-2053 5559.3,-2053"/>
</a>
</g>
</g>
<!-- ndOwner -->
<g id="node15" class="node"><title>ndOwner</title>
<g id="a_node15_23"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/owner.rs#:~:text=enum%20Owner" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="4786.3,-1859 4786.3,-1896 5223.3,-1896 5223.3,-1859 4786.3,-1859"/>
<polygon fill="none" stroke="black" points="4786.3,-1859 4786.3,-1896 5223.3,-1896 5223.3,-1859 4786.3,-1859"/>
<text text-anchor="start" x="4981.8" y="-1874.8" font-family="Arial" font-weight="bold" font-size="14.00">Owner</text>
<polygon fill="white" stroke="none" points="4786.3,-1807 4786.3,-1859 5223.3,-1859 5223.3,-1807 4786.3,-1807"/>
<polygon fill="none" stroke="black" points="4786.3,-1807 4786.3,-1859 5223.3,-1859 5223.3,-1807 4786.3,-1807"/>
<text text-anchor="start" x="4797.3" y="-1836.8" font-family="Arial" font-size="14.00">SecretKey(SerdeSecret&lt;SecretKey&gt;)</text>
<text text-anchor="start" x="4797.3" y="-1821.8" font-family="Arial" font-size="14.00">PublicKey(PublicKey)</text>
<polygon fill="white" stroke="none" points="4786.3,-1574 4786.3,-1807 5223.3,-1807 5223.3,-1574 4786.3,-1574"/>
<polygon fill="none" stroke="black" points="4786.3,-1574 4786.3,-1807 5223.3,-1807 5223.3,-1574 4786.3,-1574"/>
<text text-anchor="start" x="4797.3" y="-1784.8" font-family="Arial" font-size="14.00">&#45; fmt(&amp;self, f: &amp;mut fmt::Formatter&lt;&#39;_&gt;) &#45;&gt; fmt::Result</text>
<text text-anchor="start" x="4797.3" y="-1769.8" font-family="Arial" font-size="14.00">&#45; from(s: SecretKey) &#45;&gt; Self</text>
<text text-anchor="start" x="4797.3" y="-1754.8" font-family="Arial" font-size="14.00">&#45; from(p: PublicKey) &#45;&gt; Self</text>
<text text-anchor="start" x="4797.3" y="-1739.8" font-family="Arial" font-size="14.00">&#45; eq(&amp;self, other: &amp;Self) &#45;&gt; bool</text>
<text text-anchor="start" x="4797.3" y="-1708" font-family="Arial" font-size="14.00">&#45; public_key(&amp;self) &#45;&gt; PublicKey</text>
<text text-anchor="start" x="4797.3" y="-1693" font-family="Arial" font-size="14.00">&#45; secret_key(&amp;self) &#45;&gt; Result&lt;SecretKey&gt;</text>
<text text-anchor="start" x="4797.3" y="-1678" font-family="Arial" font-size="14.00">&#45; public_key_blst(&amp;self) &#45;&gt; PublicKeyBlst</text>
<text text-anchor="start" x="4797.3" y="-1663" font-family="Arial" font-size="14.00">&#45; secret_key_blst(&amp;self) &#45;&gt; Result&lt;SecretKeyBlst&gt;</text>
<text text-anchor="start" x="4797.3" y="-1648" font-family="Arial" font-size="14.00">&#45; derive(&amp;self, i: &amp;DerivationIndex) &#45;&gt; Self</text>
<text text-anchor="start" x="4797.3" y="-1633" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="4797.3" y="-1618" font-family="Arial" font-size="14.00">&#45; has_secret_key(&amp;self) &#45;&gt; bool</text>
<text text-anchor="start" x="4797.3" y="-1603" font-family="Arial" font-size="14.00">&#45; from_random_secret_key(rng: &amp;mut impl rand::RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="4797.3" y="-1588" font-family="Arial" font-size="14.00">&#45; from(o: OwnerOnce) &#45;&gt; Self</text>
<polygon fill="none" stroke="black" points="4784.8,-1573 4784.8,-1897 5223.8,-1897 5223.8,-1573 4784.8,-1573"/>
</a>
</g>
</g>
<!-- ndOwner&#45;&gt;ndDbcContent -->
<g id="edge26" class="edge"><title>ndOwner&#45;&gt;ndDbcContent</title>
<path fill="none" stroke="black" d="M4979.05,-1568.76C4970.44,-1512.47 4961.01,-1450.75 4953.12,-1399.08"/>
<polygon fill="black" stroke="black" points="4953.11,-1399.06 4948.25,-1393.73 4951.3,-1387.2 4956.16,-1392.52 4953.11,-1399.06"/>
</g>
<!-- ndOwnerOnce -->
<g id="node16" class="node"><title>ndOwnerOnce</title>
<g id="a_node16_24"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/owner.rs#:~:text=struct%20OwnerOnce" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="4994.3,-2161.5 4994.3,-2198.5 5524.3,-2198.5 5524.3,-2161.5 4994.3,-2161.5"/>
<polygon fill="none" stroke="black" points="4994.3,-2161.5 4994.3,-2198.5 5524.3,-2198.5 5524.3,-2161.5 4994.3,-2161.5"/>
<text text-anchor="start" x="5217.8" y="-2177.3" font-family="Arial" font-weight="bold" font-size="14.00">OwnerOnce</text>
<polygon fill="white" stroke="none" points="4994.3,-2109.5 4994.3,-2161.5 5524.3,-2161.5 5524.3,-2109.5 4994.3,-2109.5"/>
<polygon fill="none" stroke="black" points="4994.3,-2109.5 4994.3,-2161.5 5524.3,-2161.5 5524.3,-2109.5 4994.3,-2109.5"/>
<text text-anchor="start" x="5005.3" y="-2139.3" font-family="Arial" font-size="14.00">+ owner_base: Owner</text>
<text text-anchor="start" x="5005.3" y="-2124.3" font-family="Arial" font-size="14.00">+ derivation_index: DerivationIndex</text>
<polygon fill="white" stroke="none" points="4994.3,-2027.5 4994.3,-2109.5 5524.3,-2109.5 5524.3,-2027.5 4994.3,-2027.5"/>
<polygon fill="none" stroke="black" points="4994.3,-2027.5 4994.3,-2109.5 5524.3,-2109.5 5524.3,-2027.5 4994.3,-2027.5"/>
<text text-anchor="start" x="5005.3" y="-2087.3" font-family="Arial" font-size="14.00">&#45; owner_base(&amp;self) &#45;&gt; &amp;Owner</text>
<text text-anchor="start" x="5005.3" y="-2072.3" font-family="Arial" font-size="14.00">&#45; as_owner(&amp;self) &#45;&gt; Owner</text>
<text text-anchor="start" x="5005.3" y="-2057.3" font-family="Arial" font-size="14.00">&#45; from_owner_base(owner_base: Owner, rng: &amp;mut impl rand8::RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="5005.3" y="-2042.3" font-family="Arial" font-size="14.00">&#45; random_derivation_index(rng: &amp;mut impl rand8::RngCore) &#45;&gt; [u8; 32]</text>
<polygon fill="none" stroke="black" points="4993.3,-2027 4993.3,-2200 5525.3,-2200 5525.3,-2027 4993.3,-2027"/>
</a>
</g>
</g>
<!-- ndOwner&#45;&gt;ndOwnerOnce -->
<g id="edge27" class="edge"><title>ndOwner&#45;&gt;ndOwnerOnce</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M5122.97,-1901.32C5148.75,-1939.16 5175.02,-1978.26 5197.53,-2012.38"/>
<polygon fill="black" stroke="black" points="5197.79,-2012.78 5204.44,-2015.59 5204.4,-2022.8 5197.75,-2019.99 5197.79,-2012.78"/>
</g>
<!-- ndOwner&#45;&gt;ndDbc -->
<g id="edge28" class="edge"><title>ndOwner&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M5142.79,-1568.77C5167.26,-1530.94 5189.11,-1489.33 5202.3,-1447 5224.18,-1376.77 5241.32,-1178.35 5202.3,-1116 5177.96,-1077.11 5145.5,-1044.22 5108.73,-1016.43"/>
<polygon fill="black" stroke="black" points="5100.32,-1010.22 5111.04,-1012.54 5104.34,-1013.19 5108.36,-1016.16 5108.36,-1016.16 5108.36,-1016.16 5104.34,-1013.19 5105.69,-1019.78 5100.32,-1010.22 5100.32,-1010.22"/>
</g>
<!-- ndOwnerOnce&#45;&gt;ndGenesisMaterial -->
<g id="edge29" class="edge"><title>ndOwnerOnce&#45;&gt;ndGenesisMaterial</title>
<path fill="none" stroke="black" d="M5295.28,-2022.8C5318.63,-1964.56 5349.02,-1888.81 5372.69,-1829.78"/>
<polygon fill="black" stroke="black" points="5372.71,-1829.72 5371.23,-1822.66 5377.18,-1818.58 5378.66,-1825.64 5372.71,-1829.72"/>
</g>
<!-- ndOwnerOnce&#45;&gt;ndOwner -->
<g id="edge30" class="edge"><title>ndOwnerOnce&#45;&gt;ndOwner</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M5192.7,-2022.8C5168.97,-1988.78 5141.6,-1948.8 5115.18,-1909.65"/>
<polygon fill="black" stroke="black" points="5109.56,-1901.32 5118.88,-1907.09 5112.36,-1905.46 5115.15,-1909.61 5115.15,-1909.61 5115.15,-1909.61 5112.36,-1905.46 5111.42,-1912.12 5109.56,-1901.32 5109.56,-1901.32"/>
</g>
<!-- ndTransactionBuilder -->
<g id="node18" class="node"><title>ndTransactionBuilder</title>
<g id="a_node18_25"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/builder.rs#:~:text=struct%20TransactionBuilder" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="3942.3,-348.5 3942.3,-385.5 4982.3,-385.5 4982.3,-348.5 3942.3,-348.5"/>
<polygon fill="none" stroke="black" points="3942.3,-348.5 3942.3,-385.5 4982.3,-385.5 4982.3,-348.5 3942.3,-348.5"/>
<text text-anchor="start" x="4395.3" y="-364.3" font-family="Arial" font-weight="bold" font-size="14.00">TransactionBuilder</text>
<polygon fill="white" stroke="none" points="3942.3,-296.5 3942.3,-348.5 4982.3,-348.5 4982.3,-296.5 3942.3,-296.5"/>
<polygon fill="none" stroke="black" points="3942.3,-296.5 3942.3,-348.5 4982.3,-348.5 4982.3,-296.5 3942.3,-296.5"/>
<text text-anchor="start" x="3953.3" y="-326.3" font-family="Arial" font-size="14.00">&#45; ringct_material: RingCtMaterial</text>
<text text-anchor="start" x="3953.3" y="-311.3" font-family="Arial" font-size="14.00">&#45; output_owner_map: OutputOwnerMap</text>
<polygon fill="white" stroke="none" points="3942.3,-4.5 3942.3,-296.5 4982.3,-296.5 4982.3,-4.5 3942.3,-4.5"/>
<polygon fill="none" stroke="black" points="3942.3,-4.5 3942.3,-296.5 4982.3,-296.5 4982.3,-4.5 3942.3,-4.5"/>
<text text-anchor="start" x="3953.3" y="-274.3" font-family="Arial" font-size="14.00">&#45; add_input(mut self, mlsag: MlsagMaterial) &#45;&gt; Self</text>
<text text-anchor="start" x="3953.3" y="-259.3" font-family="Arial" font-size="14.00">&#45; add_inputs(mut self, inputs: impl IntoIterator&lt;Item = MlsagMaterial&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="3953.3" y="-244.3" font-family="Arial" font-size="14.00">&#45; add_input_by_true_input(mut self, true_input: TrueInput, decoy_inputs: Vec&lt;DecoyInput&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="3953.3" y="-229.3" font-family="Arial" font-size="14.00">&#45; add_inputs_by_true_inputs(mut self, inputs: impl IntoIterator&lt;Item = (TrueInput, Vec&lt;DecoyInput&gt;)&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="3953.3" y="-214.3" font-family="Arial" font-size="14.00">&#45; add_input_dbc(mut self, dbc: &amp;Dbc, base_sk: &amp;SecretKey, decoy_inputs: Vec&lt;DecoyInput&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="3953.3" y="-199.3" font-family="Arial" font-size="14.00">&#45; add_inputs_dbc(mut self, dbcs: impl IntoIterator&lt;Item = (Dbc, SecretKey, Vec&lt;DecoyInput&gt;)&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="3953.3" y="-184.3" font-family="Arial" font-size="14.00">&#45; add_input_dbc_bearer(mut self, dbc: &amp;Dbc, decoy_inputs: Vec&lt;DecoyInput&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="3953.3" y="-169.3" font-family="Arial" font-size="14.00">&#45; add_inputs_dbc_bearer(mut self, dbcs: impl IntoIterator&lt;Item = (Dbc, Vec&lt;DecoyInput&gt;)&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="3953.3" y="-154.3" font-family="Arial" font-size="14.00">&#45; add_input_by_secrets(mut self, secret_key: SecretKeyBlst, amount_secrets: AmountSecrets, decoy_inputs: Vec&lt;DecoyInput&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="3953.3" y="-139.3" font-family="Arial" font-size="14.00">&#45; add_inputs_by_secrets(mut self, secrets: Vec&lt;(SecretKeyBlst, AmountSecrets, Vec&lt;DecoyInput&gt;)&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="3953.3" y="-124.3" font-family="Arial" font-size="14.00">&#45; add_output(mut self, output: Output, owner: OwnerOnce) &#45;&gt; Self</text>
<text text-anchor="start" x="3953.3" y="-109.3" font-family="Arial" font-size="14.00">&#45; add_outputs(mut self, outputs: impl IntoIterator&lt;Item = (Output, OwnerOnce)&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="3953.3" y="-94.3" font-family="Arial" font-size="14.00">&#45; input_owners(&amp;self) &#45;&gt; Vec&lt;PublicKeyBlst&gt;</text>
<text text-anchor="start" x="3953.3" y="-79.3" font-family="Arial" font-size="14.00">&#45; inputs_amount_sum(&amp;self) &#45;&gt; Amount</text>
<text text-anchor="start" x="3953.3" y="-64.3" font-family="Arial" font-size="14.00">&#45; outputs_amount_sum(&amp;self) &#45;&gt; Amount</text>
<text text-anchor="start" x="3953.3" y="-49.3" font-family="Arial" font-size="14.00">&#45; inputs(&amp;self) &#45;&gt; &amp;Vec&lt;MlsagMaterial&gt;</text>
<text text-anchor="start" x="3953.3" y="-34.3" font-family="Arial" font-size="14.00">&#45; outputs(&amp;self) &#45;&gt; &amp;Vec&lt;Output&gt;</text>
<text text-anchor="start" x="3953.3" y="-19.3" font-family="Arial" font-size="14.00">&#45; build(self, rng: impl RngCore + rand_core::CryptoRng) &#45;&gt; Result&lt;(ReissueRequestBuilder, DbcBuilder, RingCtMaterial)&gt;</text>
<polygon fill="none" stroke="black" points="3941.3,-4 3941.3,-387 4983.3,-387 4983.3,-4 3941.3,-4"/>
</a>
</g>
</g>
<!-- ndOwnerOnce&#45;&gt;ndTransactionBuilder -->
<g id="edge31" class="edge"><title>ndOwnerOnce&#45;&gt;ndTransactionBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M5510.87,-2022.82C5522.75,-2012.18 5533.4,-2000.28 5542.3,-1987 5716.61,-1726.76 5561.3,-1595.72 5561.3,-1282.5 5561.3,-1282.5 5561.3,-1282.5 5561.3,-868.5 5561.3,-578.544 5279.41,-409.922 5001.16,-314.106"/>
<polygon fill="black" stroke="black" points="4991.68,-310.869 5002.6,-309.842 4996.41,-312.485 5001.14,-314.1 5001.14,-314.1 5001.14,-314.1 4996.41,-312.485 4999.69,-318.359 4991.68,-310.869 4991.68,-310.869"/>
</g>
<!-- ndOwnerOnce&#45;&gt;ndDbcBuilder -->
<g id="edge32" class="edge"><title>ndOwnerOnce&#45;&gt;ndDbcBuilder</title>
<path fill="none" stroke="black" d="M5264.41,-2022.82C5278.67,-1735.56 5305.91,-846.031 5109.3,-659 5066.07,-617.878 4951.09,-588.212 4829.82,-567.482"/>
<polygon fill="black" stroke="black" points="4819.96,-565.818 4830.57,-563.045 4824.89,-566.65 4829.82,-567.482 4829.82,-567.482 4829.82,-567.482 4824.89,-566.65 4829.07,-571.919 4819.96,-565.818 4819.96,-565.818"/>
</g>
<!-- ndDbc&#45;&gt;ndTransactionBuilder -->
<g id="edge33" class="edge"><title>ndDbc&#45;&gt;ndTransactionBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M4825.99,-658.947C4855.84,-583.012 4868.78,-498.416 4829.3,-427 4824.01,-417.421 4818.13,-408.187 4811.75,-399.288"/>
<polygon fill="black" stroke="black" points="4805.75,-391.211 4815.33,-396.558 4808.73,-395.226 4811.71,-399.24 4811.71,-399.24 4811.71,-399.24 4808.73,-395.226 4808.1,-401.922 4805.75,-391.211 4805.75,-391.211"/>
</g>
<!-- ndDbc&#45;&gt;ndDbcBuilder -->
<g id="edge34" class="edge"><title>ndDbc&#45;&gt;ndDbcBuilder</title>
<path fill="none" stroke="black" d="M4553.49,-658.91C4547.14,-649.649 4540.89,-640.545 4534.84,-631.716"/>
<polygon fill="black" stroke="black" points="4529.09,-623.338 4538.46,-629.038 4531.92,-627.461 4534.74,-631.584 4534.74,-631.584 4534.74,-631.584 4531.92,-627.461 4531.03,-634.13 4529.09,-623.338 4529.09,-623.338"/>
</g>
<!-- ndReissueRequestBuilder&#45;&gt;ndTransactionBuilder -->
<g id="edge35" class="edge"><title>ndReissueRequestBuilder&#45;&gt;ndTransactionBuilder</title>
<path fill="none" stroke="black" d="M2451.49,-428.822C2454.44,-428.202 2457.37,-427.594 2460.3,-427 2950.58,-327.484 3517.76,-267.226 3922.97,-233.418"/>
<polygon fill="black" stroke="black" points="3933.11,-232.574 3923.52,-237.888 3928.13,-232.989 3923.14,-233.403 3923.14,-233.403 3923.14,-233.403 3928.13,-232.989 3922.77,-228.919 3933.11,-232.574 3933.11,-232.574"/>
</g>
<!-- ndDbcBuilder&#45;&gt;ndTransactionBuilder -->
<g id="edge36" class="edge"><title>ndDbcBuilder&#45;&gt;ndTransactionBuilder</title>
<path fill="none" stroke="black" d="M4462.3,-426.626C4462.3,-418.427 4462.3,-409.961 4462.3,-401.332"/>
<polygon fill="black" stroke="black" points="4462.3,-391.133 4466.8,-401.133 4462.3,-396.133 4462.3,-401.133 4462.3,-401.133 4462.3,-401.133 4462.3,-396.133 4457.8,-401.134 4462.3,-391.133 4462.3,-391.133"/>
</g>
<!-- ndSpentProofContent&#45;&gt;ndSpentProofShare -->
<g id="edge37" class="edge"><title>ndSpentProofContent&#45;&gt;ndSpentProofShare</title>
<path fill="none" stroke="black" d="M2417.04,-1636.74C2379.46,-1589.4 2332.65,-1532.23 2288.3,-1483 2271.54,-1464.39 2253.53,-1445.26 2235.43,-1426.53"/>
<polygon fill="black" stroke="black" points="2235.19,-1426.28 2228.14,-1424.76 2226.83,-1417.67 2233.88,-1419.19 2235.19,-1426.28"/>
</g>
<!-- ndSpentProofContent&#45;&gt;ndSpentProof -->
<g id="edge38" class="edge"><title>ndSpentProofContent&#45;&gt;ndSpentProof</title>
<path fill="none" stroke="black" d="M2492.3,-1636.86C2492.3,-1567.26 2492.3,-1473.19 2492.3,-1399.46"/>
<polygon fill="black" stroke="black" points="2492.3,-1399.34 2488.3,-1393.34 2492.3,-1387.34 2496.3,-1393.34 2492.3,-1399.34"/>
</g>
<!-- ndSpentProofShare&#45;&gt;ndMintNode -->
<g id="edge39" class="edge"><title>ndSpentProofShare&#45;&gt;ndMintNode</title>
<path fill="none" stroke="black" d="M2230.74,-1145.34C2247.9,-1133.93 2265.89,-1123.79 2284.3,-1116 2356.31,-1085.53 2579.29,-1135.57 2634.3,-1080 2700.4,-1013.23 2635.93,-745.205 2673.3,-659 2677.35,-649.664 2682.31,-640.527 2687.88,-631.692"/>
<polygon fill="black" stroke="black" points="2693.4,-623.318 2691.66,-634.144 2690.65,-627.493 2687.9,-631.667 2687.9,-631.667 2687.9,-631.667 2690.65,-627.493 2684.14,-629.19 2693.4,-623.318 2693.4,-623.318"/>
</g>
<!-- ndSpentProofShare&#45;&gt;ndReissueRequestBuilder -->
<g id="edge40" class="edge"><title>ndSpentProofShare&#45;&gt;ndReissueRequestBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2095.83,-1145.18C2103.95,-999.394 2116.7,-770.245 2124.21,-635.398"/>
<polygon fill="black" stroke="black" points="2124.23,-635.031 2120.57,-628.818 2124.9,-623.05 2128.56,-629.263 2124.23,-635.031"/>
</g>
<!-- ndSpentProofShare&#45;&gt;ndSpentBookNodeMock -->
<g id="edge41" class="edge"><title>ndSpentProofShare&#45;&gt;ndSpentBookNodeMock</title>
<path fill="none" stroke="black" d="M1937.43,-1145.43C1922.64,-1134.8 1907.48,-1124.8 1892.3,-1116 1815.39,-1071.4 1728.94,-1032.47 1644.41,-999.531"/>
<polygon fill="black" stroke="black" points="1634.91,-995.853 1645.86,-995.268 1639.57,-997.659 1644.24,-999.464 1644.24,-999.464 1644.24,-999.464 1639.57,-997.659 1642.61,-1003.66 1634.91,-995.853 1634.91,-995.853"/>
</g>
<!-- ndSpentProof&#45;&gt;ndReissueRequest -->
<g id="edge42" class="edge"><title>ndSpentProof&#45;&gt;ndReissueRequest</title>
<path fill="none" stroke="black" d="M2488.73,-1175.98C2486.09,-1098.58 2482.58,-995.782 2480.38,-931.384"/>
<polygon fill="black" stroke="black" points="2480.37,-931.028 2476.17,-925.168 2479.96,-919.035 2484.16,-924.895 2480.37,-931.028"/>
</g>
<!-- ndSpentProof&#45;&gt;ndReissueShare -->
<g id="edge43" class="edge"><title>ndSpentProof&#45;&gt;ndReissueShare</title>
<path fill="none" stroke="black" d="M2584.65,-1175.94C2611.71,-1145.13 2641.28,-1111.29 2668.3,-1080 2709.77,-1031.98 2756.18,-977.334 2791.2,-935.896"/>
<polygon fill="black" stroke="black" points="2791.2,-935.895 2792.02,-928.73 2798.95,-926.729 2798.13,-933.894 2791.2,-935.895"/>
</g>
<!-- ndSpentProof&#45;&gt;ndDbc -->
<g id="edge44" class="edge"><title>ndSpentProof&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M2601.3,-1175.96C2631.3,-1152.56 2665.29,-1130.42 2700.3,-1116 2832.22,-1061.66 2877.62,-1096.84 3019.3,-1080 3450.03,-1028.81 3942.5,-966.924 4281.98,-923.74"/>
<polygon fill="black" stroke="black" points="4282.09,-923.727 4287.53,-919.001 4293.99,-922.212 4288.54,-926.938 4282.09,-923.727"/>
</g>
<!-- ndAmountSecrets&#45;&gt;ndDbc -->
<g id="edge45" class="edge"><title>ndAmountSecrets&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M4439.43,-1115.8C4449.41,-1106.31 4459.52,-1096.69 4469.67,-1087.04"/>
<polygon fill="black" stroke="black" points="4477.06,-1080.01 4472.91,-1090.16 4473.44,-1083.46 4469.81,-1086.9 4469.81,-1086.9 4469.81,-1086.9 4473.44,-1083.46 4466.71,-1083.64 4477.06,-1080.01 4477.06,-1080.01"/>
</g>
<!-- ndAmountSecrets&#45;&gt;ndTransactionBuilder -->
<g id="edge46" class="edge"><title>ndAmountSecrets&#45;&gt;ndTransactionBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M4170.9,-1115.95C4080.41,-936.265 3974.75,-645.061 4095.3,-427 4100.6,-417.421 4106.47,-408.187 4112.85,-399.288"/>
<polygon fill="black" stroke="black" points="4118.85,-391.211 4116.5,-401.922 4115.87,-395.226 4112.89,-399.24 4112.89,-399.24 4112.89,-399.24 4115.87,-395.226 4109.28,-396.558 4118.85,-391.211 4118.85,-391.211"/>
</g>
<!-- ndAmountSecrets&#45;&gt;ndDbcBuilder -->
<g id="edge47" class="edge"><title>ndAmountSecrets&#45;&gt;ndDbcBuilder</title>
<path fill="none" stroke="black" d="M4234.05,-1115.71C4216.83,-984.507 4212.11,-800.105 4285.3,-659 4290.38,-649.204 4296.55,-639.932 4303.5,-631.19"/>
<polygon fill="black" stroke="black" points="4310.09,-623.311 4307.12,-633.869 4306.88,-627.146 4303.67,-630.981 4303.67,-630.981 4303.67,-630.981 4306.88,-627.146 4300.22,-628.094 4310.09,-623.311 4310.09,-623.311"/>
</g>
</g>
</svg>
