<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.38.0 (20140413.2041)
 -->
<!-- Title: ml Pages: 1 -->
<svg width="4987pt" height="2122pt"
 viewBox="0.00 0.00 4986.89 2122.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2118)">
<title>ml</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-2118 4982.89,-2118 4982.89,4 -4,4"/>
<!-- ndHash -->
<g id="node1" class="node"><title>ndHash</title>
<g id="a_node1_0"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/lib.rs#:~:text=struct%20Hash" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2139.89,-2064.5 2139.89,-2101.5 2494.89,-2101.5 2494.89,-2064.5 2139.89,-2064.5"/>
<polygon fill="none" stroke="black" points="2139.89,-2064.5 2139.89,-2101.5 2494.89,-2101.5 2494.89,-2064.5 2139.89,-2064.5"/>
<text text-anchor="start" x="2299.39" y="-2080.3" font-family="Arial" font-weight="bold" font-size="14.00">Hash</text>
<polygon fill="white" stroke="none" points="2139.89,-2027.5 2139.89,-2064.5 2494.89,-2064.5 2494.89,-2027.5 2139.89,-2027.5"/>
<polygon fill="none" stroke="black" points="2139.89,-2027.5 2139.89,-2064.5 2494.89,-2064.5 2494.89,-2027.5 2139.89,-2027.5"/>
<text text-anchor="start" x="2150.89" y="-2042.3" font-family="Arial" font-size="14.00">&#45; [u8; 32]</text>
<polygon fill="white" stroke="none" points="2139.89,-1945.5 2139.89,-2027.5 2494.89,-2027.5 2494.89,-1945.5 2139.89,-1945.5"/>
<polygon fill="none" stroke="black" points="2139.89,-1945.5 2139.89,-2027.5 2494.89,-2027.5 2494.89,-1945.5 2139.89,-1945.5"/>
<text text-anchor="start" x="2150.89" y="-2005.3" font-family="Arial" font-size="14.00">&#45; hash(input: &amp;[u8]) &#45;&gt; Self</text>
<text text-anchor="start" x="2150.89" y="-1990.3" font-family="Arial" font-size="14.00">&#45; from(val: [u8; 32]) &#45;&gt; Hash</text>
<text text-anchor="start" x="2150.89" y="-1975.3" font-family="Arial" font-size="14.00">&#45; fmt(&amp;self, f: &amp;mut fmt::Formatter&lt;&#39;_&gt;) &#45;&gt; fmt::Result</text>
<text text-anchor="start" x="2150.89" y="-1960.3" font-family="Arial" font-size="14.00">&#45; as_ref(&amp;self) &#45;&gt; &amp;[u8]</text>
<polygon fill="none" stroke="black" points="2138.39,-1944.5 2138.39,-2102.5 2495.39,-2102.5 2495.39,-1944.5 2138.39,-1944.5"/>
</a>
</g>
</g>
<!-- ndSimpleKeyManager -->
<g id="node6" class="node"><title>ndSimpleKeyManager</title>
<g id="a_node6_1"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/key_manager.rs#:~:text=struct%20SimpleKeyManager" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="920.894,-1397.5 920.894,-1434.5 1533.89,-1434.5 1533.89,-1397.5 920.894,-1397.5"/>
<polygon fill="none" stroke="black" points="920.894,-1397.5 920.894,-1434.5 1533.89,-1434.5 1533.89,-1397.5 920.894,-1397.5"/>
<text text-anchor="start" x="1159.39" y="-1413.3" font-family="Arial" font-weight="bold" font-size="14.00">SimpleKeyManager</text>
<polygon fill="white" stroke="none" points="920.894,-1345.5 920.894,-1397.5 1533.89,-1397.5 1533.89,-1345.5 920.894,-1345.5"/>
<polygon fill="none" stroke="black" points="920.894,-1345.5 920.894,-1397.5 1533.89,-1397.5 1533.89,-1345.5 920.894,-1345.5"/>
<text text-anchor="start" x="931.894" y="-1375.3" font-family="Arial" font-size="14.00">&#45; signer: SimpleSigner</text>
<text text-anchor="start" x="931.894" y="-1360.3" font-family="Arial" font-size="14.00">&#45; cache: Keys</text>
<polygon fill="white" stroke="none" points="920.894,-1218.5 920.894,-1345.5 1533.89,-1345.5 1533.89,-1218.5 920.894,-1218.5"/>
<polygon fill="none" stroke="black" points="920.894,-1218.5 920.894,-1345.5 1533.89,-1345.5 1533.89,-1218.5 920.894,-1218.5"/>
<text text-anchor="start" x="931.894" y="-1323.3" font-family="Arial" font-size="14.00">&#45; from(signer: SimpleSigner) &#45;&gt; Self</text>
<text text-anchor="start" x="931.894" y="-1308.3" font-family="Arial" font-size="14.00">&#45; add_known_key(&amp;mut self, key: PublicKey) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="931.894" y="-1293.3" font-family="Arial" font-size="14.00">&#45; public_key_set(&amp;self) &#45;&gt; Result&lt;PublicKeySet&gt;</text>
<text text-anchor="start" x="931.894" y="-1278.3" font-family="Arial" font-size="14.00">&#45; sign_with_child_key(&amp;self, index: &amp;[u8], tx_hash: &amp;Hash) &#45;&gt; Result&lt;IndexedSignatureShare&gt;</text>
<text text-anchor="start" x="931.894" y="-1263.3" font-family="Arial" font-size="14.00">&#45; sign(&amp;self, msg_hash: &amp;Hash) &#45;&gt; Result&lt;IndexedSignatureShare&gt;</text>
<text text-anchor="start" x="931.894" y="-1248.3" font-family="Arial" font-size="14.00">&#45; verify(&amp;self, msg_hash: &amp;Hash, key: &amp;PublicKey, signature: &amp;Signature) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="931.894" y="-1233.3" font-family="Arial" font-size="14.00">&#45; verify_known_key(&amp;self, key: &amp;PublicKey) &#45;&gt; Result&lt;()&gt;</text>
<polygon fill="none" stroke="black" points="919.394,-1217.5 919.394,-1435.5 1534.39,-1435.5 1534.39,-1217.5 919.394,-1217.5"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSimpleKeyManager -->
<g id="edge1" class="edge"><title>ndHash&#45;&gt;ndSimpleKeyManager</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2130.18,-2013.39C1841.18,-1997.39 1312.48,-1959.85 1253.89,-1897 1224.17,-1865.12 1222.57,-1607.52 1224.46,-1449.9"/>
<polygon fill="black" stroke="black" points="1224.59,-1439.66 1228.96,-1449.72 1224.53,-1444.66 1224.46,-1449.66 1224.46,-1449.66 1224.46,-1449.66 1224.53,-1444.66 1219.96,-1449.6 1224.59,-1439.66 1224.59,-1439.66"/>
</g>
<!-- ndKeys -->
<g id="node7" class="node"><title>ndKeys</title>
<g id="a_node7_2"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/key_manager.rs#:~:text=struct%20Keys" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="98.894,-1746 98.894,-1783 589.894,-1783 589.894,-1746 98.894,-1746"/>
<polygon fill="none" stroke="black" points="98.894,-1746 98.894,-1783 589.894,-1783 589.894,-1746 98.894,-1746"/>
<text text-anchor="start" x="326.394" y="-1761.8" font-family="Arial" font-weight="bold" font-size="14.00">Keys</text>
<polygon fill="white" stroke="none" points="98.894,-1709 98.894,-1746 589.894,-1746 589.894,-1709 98.894,-1709"/>
<polygon fill="none" stroke="black" points="98.894,-1709 98.894,-1746 589.894,-1746 589.894,-1709 98.894,-1709"/>
<text text-anchor="start" x="109.894" y="-1723.8" font-family="Arial" font-size="14.00">&#45; HashSet&lt;PublicKey&gt;</text>
<polygon fill="white" stroke="none" points="98.894,-1627 98.894,-1709 589.894,-1709 589.894,-1627 98.894,-1627"/>
<polygon fill="none" stroke="black" points="98.894,-1627 98.894,-1709 589.894,-1709 589.894,-1627 98.894,-1627"/>
<text text-anchor="start" x="109.894" y="-1686.8" font-family="Arial" font-size="14.00">&#45; from(keys: Vec&lt;PublicKey&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="109.894" y="-1671.8" font-family="Arial" font-size="14.00">&#45; add_known_key(&amp;mut self, key: PublicKey)</text>
<text text-anchor="start" x="109.894" y="-1656.8" font-family="Arial" font-size="14.00">&#45; verify(&amp;self, msg: &amp;Hash, key: &amp;PublicKey, sig: &amp;Signature) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="109.894" y="-1641.8" font-family="Arial" font-size="14.00">&#45; verify_known_key(&amp;self, key: &amp;PublicKey) &#45;&gt; Result&lt;()&gt;</text>
<polygon fill="none" stroke="black" points="97.394,-1626 97.394,-1784 590.394,-1784 590.394,-1626 97.394,-1626"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndKeys -->
<g id="edge2" class="edge"><title>ndHash&#45;&gt;ndKeys</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2130.28,-2021.58C1746.82,-2017.61 883.185,-1997.43 607.894,-1897 546.099,-1874.46 485.975,-1832.99 438.753,-1794.44"/>
<polygon fill="black" stroke="black" points="430.988,-1788.03 441.565,-1790.92 434.845,-1791.21 438.701,-1794.39 438.701,-1794.39 438.701,-1794.39 434.845,-1791.21 435.837,-1797.86 430.988,-1788.03 430.988,-1788.03"/>
</g>
<!-- ndDbcContent -->
<g id="node8" class="node"><title>ndDbcContent</title>
<g id="a_node8_3"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/dbc_content.rs#:~:text=struct%20DbcContent" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2866.89,-1389.5 2866.89,-1426.5 3363.89,-1426.5 3363.89,-1389.5 2866.89,-1389.5"/>
<polygon fill="none" stroke="black" points="2866.89,-1389.5 2866.89,-1426.5 3363.89,-1426.5 3363.89,-1389.5 2866.89,-1389.5"/>
<text text-anchor="start" x="3073.89" y="-1405.3" font-family="Arial" font-weight="bold" font-size="14.00">DbcContent</text>
<polygon fill="white" stroke="none" points="2866.89,-1322.5 2866.89,-1389.5 3363.89,-1389.5 3363.89,-1322.5 2866.89,-1322.5"/>
<polygon fill="none" stroke="black" points="2866.89,-1322.5 2866.89,-1389.5 3363.89,-1389.5 3363.89,-1322.5 2866.89,-1322.5"/>
<text text-anchor="start" x="2877.89" y="-1367.3" font-family="Arial" font-size="14.00">+ owner_base: Owner</text>
<text text-anchor="start" x="2877.89" y="-1352.3" font-family="Arial" font-size="14.00">+ owner_derivation_cipher: Ciphertext</text>
<text text-anchor="start" x="2877.89" y="-1337.3" font-family="Arial" font-size="14.00">+ amount_secrets_cipher: Ciphertext</text>
<polygon fill="white" stroke="none" points="2866.89,-1225.5 2866.89,-1322.5 3363.89,-1322.5 3363.89,-1225.5 2866.89,-1225.5"/>
<polygon fill="none" stroke="black" points="2866.89,-1225.5 2866.89,-1322.5 3363.89,-1322.5 3363.89,-1225.5 2866.89,-1225.5"/>
<text text-anchor="start" x="2877.89" y="-1300.3" font-family="Arial" font-size="14.00">&#45; from(params: (Owner, Ciphertext, Ciphertext)) &#45;&gt; Self</text>
<text text-anchor="start" x="2877.89" y="-1285.3" font-family="Arial" font-size="14.00">&#45; from(params: (Owner, DerivationIndex, AmountSecrets)) &#45;&gt; Self</text>
<text text-anchor="start" x="2877.89" y="-1270.3" font-family="Arial" font-size="14.00">&#45; derivation_index(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;DerivationIndex&gt;</text>
<text text-anchor="start" x="2877.89" y="-1255.3" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="2877.89" y="-1240.3" font-family="Arial" font-size="14.00">&#45; hash(&amp;self) &#45;&gt; Hash</text>
<polygon fill="none" stroke="black" points="2865.39,-1225 2865.39,-1428 3364.39,-1428 3364.39,-1225 2865.39,-1225"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndDbcContent -->
<g id="edge3" class="edge"><title>ndHash&#45;&gt;ndDbcContent</title>
<path fill="none" stroke="black" d="M2503.61,-2007.53C2591.28,-1991.84 2691.85,-1960.24 2762.89,-1897 2900.74,-1774.29 2816.83,-1665.41 2920.89,-1513 2938.5,-1487.22 2960.18,-1462.22 2982.59,-1439.37"/>
<polygon fill="black" stroke="black" points="2989.89,-1432.03 2986.03,-1442.29 2986.36,-1435.57 2982.84,-1439.12 2982.84,-1439.12 2982.84,-1439.12 2986.36,-1435.57 2979.65,-1435.95 2989.89,-1432.03 2989.89,-1432.03"/>
</g>
<!-- ndSpentProofContent -->
<g id="node15" class="node"><title>ndSpentProofContent</title>
<g id="a_node15_4"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/spent_proof.rs#:~:text=struct%20SpentProofContent" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2353.89,-1761 2353.89,-1798 2716.89,-1798 2716.89,-1761 2353.89,-1761"/>
<polygon fill="none" stroke="black" points="2353.89,-1761 2353.89,-1798 2716.89,-1798 2716.89,-1761 2353.89,-1761"/>
<text text-anchor="start" x="2468.39" y="-1776.8" font-family="Arial" font-weight="bold" font-size="14.00">SpentProofContent</text>
<polygon fill="white" stroke="none" points="2353.89,-1694 2353.89,-1761 2716.89,-1761 2716.89,-1694 2353.89,-1694"/>
<polygon fill="none" stroke="black" points="2353.89,-1694 2353.89,-1761 2716.89,-1761 2716.89,-1694 2353.89,-1694"/>
<text text-anchor="start" x="2364.89" y="-1738.8" font-family="Arial" font-size="14.00">+ key_image: KeyImage</text>
<text text-anchor="start" x="2364.89" y="-1723.8" font-family="Arial" font-size="14.00">+ transaction_hash: Hash</text>
<text text-anchor="start" x="2364.89" y="-1708.8" font-family="Arial" font-size="14.00">+ public_commitments: Vec&lt;Commitment&gt;</text>
<polygon fill="white" stroke="none" points="2353.89,-1612 2353.89,-1694 2716.89,-1694 2716.89,-1612 2353.89,-1612"/>
<polygon fill="none" stroke="black" points="2353.89,-1612 2353.89,-1694 2716.89,-1694 2716.89,-1612 2353.89,-1612"/>
<text text-anchor="start" x="2364.89" y="-1671.8" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="2364.89" y="-1656.8" font-family="Arial" font-size="14.00">&#45; hash(&amp;self) &#45;&gt; Hash</text>
<text text-anchor="start" x="2364.89" y="-1641.8" font-family="Arial" font-size="14.00">&#45; partial_cmp(&amp;self, other: &amp;Self) &#45;&gt; Option&lt;Ordering&gt;</text>
<text text-anchor="start" x="2364.89" y="-1626.8" font-family="Arial" font-size="14.00">&#45; cmp(&amp;self, other: &amp;Self) &#45;&gt; Ordering</text>
<polygon fill="none" stroke="black" points="2352.39,-1611 2352.39,-1799 2717.39,-1799 2717.39,-1611 2352.39,-1611"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSpentProofContent -->
<g id="edge4" class="edge"><title>ndHash&#45;&gt;ndSpentProofContent</title>
<path fill="none" stroke="black" d="M2373.6,-1940.17C2400.29,-1901.42 2432.46,-1854.71 2461.03,-1813.24"/>
<polygon fill="black" stroke="black" points="2461.21,-1812.98 2461.32,-1805.77 2468.02,-1803.1 2467.91,-1810.31 2461.21,-1812.98"/>
</g>
<!-- ndSpentProofShare -->
<g id="node16" class="node"><title>ndSpentProofShare</title>
<g id="a_node16_5"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/spent_proof.rs#:~:text=struct%20SpentProofShare" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2000.89,-1420.5 2000.89,-1457.5 2389.89,-1457.5 2389.89,-1420.5 2000.89,-1420.5"/>
<polygon fill="none" stroke="black" points="2000.89,-1420.5 2000.89,-1457.5 2389.89,-1457.5 2389.89,-1420.5 2000.89,-1420.5"/>
<text text-anchor="start" x="2134.89" y="-1436.3" font-family="Arial" font-weight="bold" font-size="14.00">SpentProofShare</text>
<polygon fill="white" stroke="none" points="2000.89,-1353.5 2000.89,-1420.5 2389.89,-1420.5 2389.89,-1353.5 2000.89,-1353.5"/>
<polygon fill="none" stroke="black" points="2000.89,-1353.5 2000.89,-1420.5 2389.89,-1420.5 2389.89,-1353.5 2000.89,-1353.5"/>
<text text-anchor="start" x="2011.89" y="-1398.3" font-family="Arial" font-size="14.00">+ content: SpentProofContent</text>
<text text-anchor="start" x="2011.89" y="-1383.3" font-family="Arial" font-size="14.00">+ spentbook_pks: PublicKeySet</text>
<text text-anchor="start" x="2011.89" y="-1368.3" font-family="Arial" font-size="14.00">+ spentbook_sig_share: IndexedSignatureShare</text>
<polygon fill="white" stroke="none" points="2000.89,-1195.5 2000.89,-1353.5 2389.89,-1353.5 2389.89,-1195.5 2000.89,-1195.5"/>
<polygon fill="none" stroke="black" points="2000.89,-1195.5 2000.89,-1353.5 2389.89,-1353.5 2389.89,-1195.5 2000.89,-1195.5"/>
<text text-anchor="start" x="2011.89" y="-1331.3" font-family="Arial" font-size="14.00">&#45; eq(&amp;self, other: &amp;Self) &#45;&gt; bool</text>
<text text-anchor="start" x="2011.89" y="-1299.5" font-family="Arial" font-size="14.00">&#45; hash(&amp;self, state: &amp;mut H)</text>
<text text-anchor="start" x="2011.89" y="-1284.5" font-family="Arial" font-size="14.00">&#45; key_image(&amp;self) &#45;&gt; &amp;KeyImage</text>
<text text-anchor="start" x="2011.89" y="-1269.5" font-family="Arial" font-size="14.00">&#45; transaction_hash(&amp;self) &#45;&gt; Hash</text>
<text text-anchor="start" x="2011.89" y="-1254.5" font-family="Arial" font-size="14.00">&#45; public_commitments(&amp;self) &#45;&gt; &amp;Vec&lt;Commitment&gt;</text>
<text text-anchor="start" x="2011.89" y="-1239.5" font-family="Arial" font-size="14.00">&#45; spentbook_sig_share(&amp;self) &#45;&gt; &amp;IndexedSignatureShare</text>
<text text-anchor="start" x="2011.89" y="-1224.5" font-family="Arial" font-size="14.00">&#45; spentbook_pks(&amp;self) &#45;&gt; &amp;PublicKeySet</text>
<text text-anchor="start" x="2011.89" y="-1209.5" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<polygon fill="none" stroke="black" points="1999.39,-1194.5 1999.39,-1458.5 2390.39,-1458.5 2390.39,-1194.5 1999.39,-1194.5"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSpentProofShare -->
<g id="edge5" class="edge"><title>ndHash&#45;&gt;ndSpentProofShare</title>
<path fill="none" stroke="black" d="M2325.38,-1940.41C2333.35,-1838.19 2338.69,-1659.22 2297.89,-1513 2294.07,-1499.31 2289.06,-1485.53 2283.31,-1472"/>
<polygon fill="black" stroke="black" points="2279.21,-1462.67 2287.36,-1470.02 2281.23,-1467.25 2283.24,-1471.83 2283.24,-1471.83 2283.24,-1471.83 2281.23,-1467.25 2279.12,-1473.64 2279.21,-1462.67 2279.21,-1462.67"/>
</g>
<!-- ndSpentProof -->
<g id="node17" class="node"><title>ndSpentProof</title>
<g id="a_node17_6"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/spent_proof.rs#:~:text=struct%20SpentProof" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2425.89,-1389.5 2425.89,-1426.5 2791.89,-1426.5 2791.89,-1389.5 2425.89,-1389.5"/>
<polygon fill="none" stroke="black" points="2425.89,-1389.5 2425.89,-1426.5 2791.89,-1426.5 2791.89,-1389.5 2425.89,-1389.5"/>
<text text-anchor="start" x="2569.39" y="-1405.3" font-family="Arial" font-weight="bold" font-size="14.00">SpentProof</text>
<polygon fill="white" stroke="none" points="2425.89,-1322.5 2425.89,-1389.5 2791.89,-1389.5 2791.89,-1322.5 2425.89,-1322.5"/>
<polygon fill="none" stroke="black" points="2425.89,-1322.5 2425.89,-1389.5 2791.89,-1389.5 2791.89,-1322.5 2425.89,-1322.5"/>
<text text-anchor="start" x="2436.89" y="-1367.3" font-family="Arial" font-size="14.00">+ content: SpentProofContent</text>
<text text-anchor="start" x="2436.89" y="-1352.3" font-family="Arial" font-size="14.00">+ spentbook_pub_key: PublicKey</text>
<text text-anchor="start" x="2436.89" y="-1337.3" font-family="Arial" font-size="14.00">+ spentbook_sig: Signature</text>
<polygon fill="white" stroke="none" points="2425.89,-1225.5 2425.89,-1322.5 2791.89,-1322.5 2791.89,-1225.5 2425.89,-1225.5"/>
<polygon fill="none" stroke="black" points="2425.89,-1225.5 2425.89,-1322.5 2791.89,-1322.5 2791.89,-1225.5 2425.89,-1225.5"/>
<text text-anchor="start" x="2436.89" y="-1300.3" font-family="Arial" font-size="14.00">&#45; key_image(&amp;self) &#45;&gt; &amp;KeyImage</text>
<text text-anchor="start" x="2436.89" y="-1285.3" font-family="Arial" font-size="14.00">&#45; transaction_hash(&amp;self) &#45;&gt; Hash</text>
<text text-anchor="start" x="2436.89" y="-1270.3" font-family="Arial" font-size="14.00">&#45; public_commitments(&amp;self) &#45;&gt; &amp;Vec&lt;Commitment&gt;</text>
<text text-anchor="start" x="2436.89" y="-1255.3" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="2436.89" y="-1240.3" font-family="Arial" font-size="14.00">&#45; verify(&amp;self, tx_hash: Hash, verifier: &amp;K) &#45;&gt; Result&lt;()&gt;</text>
<polygon fill="none" stroke="black" points="2424.89,-1225 2424.89,-1428 2792.89,-1428 2792.89,-1225 2424.89,-1225"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSpentProof -->
<g id="edge6" class="edge"><title>ndHash&#45;&gt;ndSpentProof</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2503.46,-1988.94C2600.57,-1967.27 2705,-1935.87 2733.89,-1897 2784.8,-1828.52 2758.82,-1594.61 2733.89,-1513 2726.3,-1488.14 2714.13,-1463.59 2700.29,-1440.9"/>
<polygon fill="black" stroke="black" points="2694.91,-1432.29 2704.03,-1438.39 2697.56,-1436.53 2700.21,-1440.77 2700.21,-1440.77 2700.21,-1440.77 2697.56,-1436.53 2696.4,-1443.16 2694.91,-1432.29 2694.91,-1432.29"/>
</g>
<!-- ndSpentBookNodeMock -->
<g id="node19" class="node"><title>ndSpentBookNodeMock</title>
<g id="a_node19_7"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/spentbook.rs#:~:text=struct%20SpentBookNodeMock" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="998.894,-1037.5 998.894,-1074.5 1799.89,-1074.5 1799.89,-1037.5 998.894,-1037.5"/>
<polygon fill="none" stroke="black" points="998.894,-1037.5 998.894,-1074.5 1799.89,-1074.5 1799.89,-1037.5 998.894,-1037.5"/>
<text text-anchor="start" x="1323.39" y="-1053.3" font-family="Arial" font-weight="bold" font-size="14.00">SpentBookNodeMock</text>
<polygon fill="white" stroke="none" points="998.894,-940.5 998.894,-1037.5 1799.89,-1037.5 1799.89,-940.5 998.894,-940.5"/>
<polygon fill="none" stroke="black" points="998.894,-940.5 998.894,-1037.5 1799.89,-1037.5 1799.89,-940.5 998.894,-940.5"/>
<text text-anchor="start" x="1009.89" y="-1015.3" font-family="Arial" font-size="14.00">+ key_manager: SimpleKeyManager</text>
<text text-anchor="start" x="1009.89" y="-1000.3" font-family="Arial" font-size="14.00">+ transactions: HashMap&lt;Hash, RingCtTransaction&gt;</text>
<text text-anchor="start" x="1009.89" y="-985.3" font-family="Arial" font-size="14.00">+ key_images: BTreeMap&lt;KeyImage, Hash&gt;</text>
<text text-anchor="start" x="1009.89" y="-970.3" font-family="Arial" font-size="14.00">+ outputs: BTreeMap&lt;PublicKey, OutputProof&gt;</text>
<text text-anchor="start" x="1009.89" y="-955.3" font-family="Arial" font-size="14.00">+ genesis: (KeyImage, Commitment)</text>
<polygon fill="white" stroke="none" points="998.894,-813.5 998.894,-940.5 1799.89,-940.5 1799.89,-813.5 998.894,-813.5"/>
<polygon fill="none" stroke="black" points="998.894,-813.5 998.894,-940.5 1799.89,-940.5 1799.89,-813.5 998.894,-813.5"/>
<text text-anchor="start" x="1009.89" y="-918.3" font-family="Arial" font-size="14.00">&#45; from(key_manager: SimpleKeyManager) &#45;&gt; Self</text>
<text text-anchor="start" x="1009.89" y="-903.3" font-family="Arial" font-size="14.00">&#45; iter(&amp;self) &#45;&gt; impl Iterator&lt;Item = (&amp;KeyImage, &amp;RingCtTransaction)&gt; + &#39;_</text>
<text text-anchor="start" x="1009.89" y="-888.3" font-family="Arial" font-size="14.00">&#45; is_spent(&amp;self, key_image: &amp;KeyImage) &#45;&gt; bool</text>
<text text-anchor="start" x="1009.89" y="-873.3" font-family="Arial" font-size="14.00">&#45; log_spent(&amp;mut self, key_image: KeyImage, tx: RingCtTransaction) &#45;&gt; Result&lt;SpentProofShare&gt;</text>
<text text-anchor="start" x="1009.89" y="-858.3" font-family="Arial" font-size="14.00">&#45; log_spent_and_skip_tx_verification(&amp;mut self, key_image: KeyImage, tx: RingCtTransaction) &#45;&gt; Result&lt;SpentProofShare&gt;</text>
<text text-anchor="start" x="1009.89" y="-843.3" font-family="Arial" font-size="14.00">&#45; log_spent_worker(&amp;mut self, key_image: KeyImage, tx: RingCtTransaction, verify_tx: bool) &#45;&gt; Result&lt;SpentProofShare&gt;</text>
<text text-anchor="start" x="1009.89" y="-828.3" font-family="Arial" font-size="14.00">&#45; random_decoys(&amp;self, target_num: usize, rng: &amp;mut impl RngCore) &#45;&gt; Vec&lt;DecoyInput&gt;</text>
<polygon fill="none" stroke="black" points="997.394,-813 997.394,-1076 1800.39,-1076 1800.39,-813 997.394,-813"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSpentBookNodeMock -->
<g id="edge7" class="edge"><title>ndHash&#45;&gt;ndSpentBookNodeMock</title>
<path fill="none" stroke="black" d="M2130.16,-2018.93C1605.2,-2007.98 149.918,-1971.06 79.894,-1897 -37.357,-1772.99 -13.9555,-1655.55 79.894,-1513 277.664,-1212.61 671.432,-1070.56 977.476,-1003.78"/>
<polygon fill="black" stroke="black" points="977.508,-1003.77 982.529,-998.599 989.238,-1001.24 984.217,-1006.42 977.508,-1003.77"/>
</g>
<!-- ndError -->
<g id="node2" class="node"><title>ndError</title>
<g id="a_node2_8"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/error.rs#:~:text=enum%20Error" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="3664.89,-1855 3664.89,-1892 3978.89,-1892 3978.89,-1855 3664.89,-1855"/>
<polygon fill="none" stroke="black" points="3664.89,-1855 3664.89,-1892 3978.89,-1892 3978.89,-1855 3664.89,-1855"/>
<text text-anchor="start" x="3803.39" y="-1870.8" font-family="Arial" font-weight="bold" font-size="14.00">Error</text>
<polygon fill="white" stroke="none" points="3664.89,-1518 3664.89,-1855 3978.89,-1855 3978.89,-1518 3664.89,-1518"/>
<polygon fill="none" stroke="black" points="3664.89,-1518 3664.89,-1855 3978.89,-1855 3978.89,-1518 3664.89,-1518"/>
<text text-anchor="start" x="3675.89" y="-1832.8" font-family="Arial" font-size="14.00">FailedSignature</text>
<text text-anchor="start" x="3675.89" y="-1817.8" font-family="Arial" font-size="14.00">UnrecognisedAuthority</text>
<text text-anchor="start" x="3675.89" y="-1802.8" font-family="Arial" font-size="14.00">InvalidSpentProofSignature(KeyImage, String)</text>
<text text-anchor="start" x="3675.89" y="-1787.8" font-family="Arial" font-size="14.00">InvalidTransactionHash</text>
<text text-anchor="start" x="3675.89" y="-1772.8" font-family="Arial" font-size="14.00">DbcContentNotPresentInTransactionOutput</text>
<text text-anchor="start" x="3675.89" y="-1757.8" font-family="Arial" font-size="14.00">OutputProofNotFound</text>
<text text-anchor="start" x="3675.89" y="-1742.8" font-family="Arial" font-size="14.00">PublicKeyNotUniqueAcrossOutputs</text>
<text text-anchor="start" x="3675.89" y="-1727.8" font-family="Arial" font-size="14.00">SpentProofInputLenMismatch</text>
<text text-anchor="start" x="3675.89" y="-1712.8" font-family="Arial" font-size="14.00">SpentProofInputKeyImageMismatch</text>
<text text-anchor="start" x="3675.89" y="-1697.8" font-family="Arial" font-size="14.00">MissingSpentProofShare(KeyImage)</text>
<text text-anchor="start" x="3675.89" y="-1682.8" font-family="Arial" font-size="14.00">DecryptionBySecretKeyFailed</text>
<text text-anchor="start" x="3675.89" y="-1667.8" font-family="Arial" font-size="14.00">AmountSecretsBytesInvalid</text>
<text text-anchor="start" x="3675.89" y="-1652.8" font-family="Arial" font-size="14.00">AmountCommitmentsDoNotMatch</text>
<text text-anchor="start" x="3675.89" y="-1637.8" font-family="Arial" font-size="14.00">SecretKeyUnavailable</text>
<text text-anchor="start" x="3675.89" y="-1622.8" font-family="Arial" font-size="14.00">PublicKeyNotFound</text>
<text text-anchor="start" x="3675.89" y="-1607.8" font-family="Arial" font-size="14.00">SecretKeyDoesNotMatchPublicKey</text>
<text text-anchor="start" x="3675.89" y="-1592.8" font-family="Arial" font-size="14.00">SpentbookKeyImageAlreadySpent</text>
<text text-anchor="start" x="3675.89" y="-1577.8" font-family="Arial" font-size="14.00">SpentbookRingSizeMismatch(usize, usize)</text>
<text text-anchor="start" x="3675.89" y="-1562.8" font-family="Arial" font-size="14.00">Blsttc(blsttc::error::Error)</text>
<text text-anchor="start" x="3675.89" y="-1547.8" font-family="Arial" font-size="14.00">RingCt(blst_ringct::Error)</text>
<text text-anchor="start" x="3675.89" y="-1532.8" font-family="Arial" font-size="14.00">Infallible(std::convert::Infallible)</text>
<polygon fill="none" stroke="black" points="3663.89,-1517 3663.89,-1893 3979.89,-1893 3979.89,-1517 3663.89,-1517"/>
</a>
</g>
</g>
<!-- ndDbc -->
<g id="node12" class="node"><title>ndDbc</title>
<g id="a_node12_9"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/dbc.rs#:~:text=struct%20Dbc" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="3129.89,-1097.5 3129.89,-1134.5 3671.89,-1134.5 3671.89,-1097.5 3129.89,-1097.5"/>
<polygon fill="none" stroke="black" points="3129.89,-1097.5 3129.89,-1134.5 3671.89,-1134.5 3671.89,-1097.5 3129.89,-1097.5"/>
<text text-anchor="start" x="3386.89" y="-1113.3" font-family="Arial" font-weight="bold" font-size="14.00">Dbc</text>
<polygon fill="white" stroke="none" points="3129.89,-1030.5 3129.89,-1097.5 3671.89,-1097.5 3671.89,-1030.5 3129.89,-1030.5"/>
<polygon fill="none" stroke="black" points="3129.89,-1030.5 3129.89,-1097.5 3671.89,-1097.5 3671.89,-1030.5 3129.89,-1030.5"/>
<text text-anchor="start" x="3140.89" y="-1075.3" font-family="Arial" font-size="14.00">+ content: DbcContent</text>
<text text-anchor="start" x="3140.89" y="-1060.3" font-family="Arial" font-size="14.00">+ transaction: RingCtTransaction</text>
<text text-anchor="start" x="3140.89" y="-1045.3" font-family="Arial" font-size="14.00">+ spent_proofs: BTreeSet&lt;SpentProof&gt;</text>
<polygon fill="white" stroke="none" points="3129.89,-753.5 3129.89,-1030.5 3671.89,-1030.5 3671.89,-753.5 3129.89,-753.5"/>
<polygon fill="none" stroke="black" points="3129.89,-753.5 3129.89,-1030.5 3671.89,-1030.5 3671.89,-753.5 3129.89,-753.5"/>
<text text-anchor="start" x="3140.89" y="-1008.3" font-family="Arial" font-size="14.00">&#45; owner_base(&amp;self) &#45;&gt; &amp;Owner</text>
<text text-anchor="start" x="3140.89" y="-993.3" font-family="Arial" font-size="14.00">&#45; owner_once(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;Owner&gt;</text>
<text text-anchor="start" x="3140.89" y="-978.3" font-family="Arial" font-size="14.00">&#45; owner_once_bearer(&amp;self) &#45;&gt; Result&lt;Owner&gt;</text>
<text text-anchor="start" x="3140.89" y="-963.3" font-family="Arial" font-size="14.00">&#45; derivation_index(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;DerivationIndex&gt;</text>
<text text-anchor="start" x="3140.89" y="-948.3" font-family="Arial" font-size="14.00">&#45; derivation_index_bearer(&amp;self) &#45;&gt; Result&lt;DerivationIndex&gt;</text>
<text text-anchor="start" x="3140.89" y="-933.3" font-family="Arial" font-size="14.00">&#45; is_bearer(&amp;self) &#45;&gt; bool</text>
<text text-anchor="start" x="3140.89" y="-918.3" font-family="Arial" font-size="14.00">&#45; amount_secrets(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;AmountSecrets&gt;</text>
<text text-anchor="start" x="3140.89" y="-903.3" font-family="Arial" font-size="14.00">&#45; amount_secrets_bearer(&amp;self) &#45;&gt; Result&lt;AmountSecrets&gt;</text>
<text text-anchor="start" x="3140.89" y="-888.3" font-family="Arial" font-size="14.00">&#45; key_image(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;KeyImage&gt;</text>
<text text-anchor="start" x="3140.89" y="-873.3" font-family="Arial" font-size="14.00">&#45; key_image_bearer(&amp;self) &#45;&gt; Result&lt;KeyImage&gt;</text>
<text text-anchor="start" x="3140.89" y="-858.3" font-family="Arial" font-size="14.00">&#45; as_true_input(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;TrueInput&gt;</text>
<text text-anchor="start" x="3140.89" y="-843.3" font-family="Arial" font-size="14.00">&#45; as_true_input_bearer(&amp;self) &#45;&gt; Result&lt;TrueInput&gt;</text>
<text text-anchor="start" x="3140.89" y="-828.3" font-family="Arial" font-size="14.00">&#45; hash(&amp;self) &#45;&gt; [u8; 32]</text>
<text text-anchor="start" x="3140.89" y="-813.3" font-family="Arial" font-size="14.00">&#45; verify(&amp;self, base_sk: &amp;SecretKey, verifier: &amp;K) &#45;&gt; Result&lt;(), Error&gt;</text>
<text text-anchor="start" x="3140.89" y="-798.3" font-family="Arial" font-size="14.00">&#45; verify_bearer(&amp;self, verifier: &amp;K) &#45;&gt; Result&lt;(), Error&gt;</text>
<text text-anchor="start" x="3140.89" y="-783.3" font-family="Arial" font-size="14.00">&#45; verify_amount_matches_commitment(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="3140.89" y="-768.3" font-family="Arial" font-size="14.00">&#45; my_output_proof(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;&amp;OutputProof&gt;</text>
<polygon fill="none" stroke="black" points="3128.89,-753 3128.89,-1136 3672.89,-1136 3672.89,-753 3128.89,-753"/>
</a>
</g>
</g>
<!-- ndError&#45;&gt;ndDbc -->
<g id="edge8" class="edge"><title>ndError&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M3655.6,-1534.2C3644.29,-1526.43 3632.69,-1519.27 3620.89,-1513 3555.39,-1478.17 3507.38,-1532.28 3457.89,-1477 3435.78,-1452.29 3420.59,-1289.51 3411.49,-1150.52"/>
<polygon fill="black" stroke="black" points="3410.82,-1140.14 3415.95,-1149.83 3411.14,-1145.13 3411.46,-1150.12 3411.46,-1150.12 3411.46,-1150.12 3411.14,-1145.13 3406.97,-1150.41 3410.82,-1140.14 3410.82,-1140.14"/>
</g>
<!-- ndAmountSecrets -->
<g id="node18" class="node"><title>ndAmountSecrets</title>
<g id="a_node18_10"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/amount_secrets.rs#:~:text=struct%20AmountSecrets" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="3475.89,-1434.5 3475.89,-1471.5 4167.89,-1471.5 4167.89,-1434.5 3475.89,-1434.5"/>
<polygon fill="none" stroke="black" points="3475.89,-1434.5 3475.89,-1471.5 4167.89,-1471.5 4167.89,-1434.5 3475.89,-1434.5"/>
<text text-anchor="start" x="3767.89" y="-1450.3" font-family="Arial" font-weight="bold" font-size="14.00">AmountSecrets</text>
<polygon fill="white" stroke="none" points="3475.89,-1397.5 3475.89,-1434.5 4167.89,-1434.5 4167.89,-1397.5 3475.89,-1397.5"/>
<polygon fill="none" stroke="black" points="3475.89,-1397.5 3475.89,-1434.5 4167.89,-1434.5 4167.89,-1397.5 3475.89,-1397.5"/>
<text text-anchor="start" x="3486.89" y="-1412.3" font-family="Arial" font-size="14.00">&#45; RevealedCommitment</text>
<polygon fill="white" stroke="none" points="3475.89,-1180.5 3475.89,-1397.5 4167.89,-1397.5 4167.89,-1180.5 3475.89,-1180.5"/>
<polygon fill="none" stroke="black" points="3475.89,-1180.5 3475.89,-1397.5 4167.89,-1397.5 4167.89,-1180.5 3475.89,-1180.5"/>
<text text-anchor="start" x="3486.89" y="-1375.3" font-family="Arial" font-size="14.00">&#45; amount(&amp;self) &#45;&gt; Amount</text>
<text text-anchor="start" x="3486.89" y="-1360.3" font-family="Arial" font-size="14.00">&#45; blinding_factor(&amp;self) &#45;&gt; BlindingFactor</text>
<text text-anchor="start" x="3486.89" y="-1345.3" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="3486.89" y="-1330.3" font-family="Arial" font-size="14.00">&#45; from_bytes(bytes: [u8; AMT_SIZE + BF_SIZE]) &#45;&gt; Self</text>
<text text-anchor="start" x="3486.89" y="-1315.3" font-family="Arial" font-size="14.00">&#45; from_bytes_ref(bytes: &amp;[u8]) &#45;&gt; Result&lt;Self, Error&gt;</text>
<text text-anchor="start" x="3486.89" y="-1300.3" font-family="Arial" font-size="14.00">&#45; from_amount(amount: Amount, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="3486.89" y="-1285.3" font-family="Arial" font-size="14.00">&#45; encrypt(&amp;self, public_key: &amp;PublicKey) &#45;&gt; Ciphertext</text>
<text text-anchor="start" x="3486.89" y="-1270.3" font-family="Arial" font-size="14.00">&#45; from(revealed_commitment: RevealedCommitment) &#45;&gt; Self</text>
<text text-anchor="start" x="3486.89" y="-1255.3" font-family="Arial" font-size="14.00">&#45; from(params: (Amount, BlindingFactor)) &#45;&gt; Self</text>
<text text-anchor="start" x="3486.89" y="-1240.3" font-family="Arial" font-size="14.00">&#45; try_from(params: (&amp;SecretKey, &amp;Ciphertext)) &#45;&gt; Result&lt;Self, Error&gt;</text>
<text text-anchor="start" x="3486.89" y="-1225.3" font-family="Arial" font-size="14.00">&#45; try_from(params: (&amp;SecretKeySet, &amp;Ciphertext)) &#45;&gt; Result&lt;Self, Error&gt;</text>
<text text-anchor="start" x="3486.89" y="-1210.3" font-family="Arial" font-size="14.00">&#45; try_from(params: (&amp;PublicKeySet, &amp;BTreeMap&lt;I, SecretKeyShare&gt;, &amp;Ciphertext)) &#45;&gt; Result&lt;Self, Error&gt;</text>
<text text-anchor="start" x="3486.89" y="-1195.3" font-family="Arial" font-size="14.00">&#45; try_from(params: (&amp;PublicKeySet, &amp;BTreeMap&lt;I, DecryptionShare&gt;, &amp;Ciphertext)) &#45;&gt; Result&lt;Self, Error&gt;</text>
<polygon fill="none" stroke="black" points="3474.89,-1180 3474.89,-1473 4168.89,-1473 4168.89,-1180 3474.89,-1180"/>
</a>
</g>
</g>
<!-- ndError&#45;&gt;ndAmountSecrets -->
<g id="edge9" class="edge"><title>ndError&#45;&gt;ndAmountSecrets</title>
<path fill="none" stroke="black" d="M3821.89,-1512.99C3821.89,-1504.45 3821.89,-1495.92 3821.89,-1487.46"/>
<polygon fill="black" stroke="black" points="3821.89,-1477.19 3826.39,-1487.19 3821.89,-1482.19 3821.89,-1487.19 3821.89,-1487.19 3821.89,-1487.19 3821.89,-1482.19 3817.39,-1487.19 3821.89,-1477.19 3821.89,-1477.19"/>
</g>
<!-- ndTransactionVerifier -->
<g id="node20" class="node"><title>ndTransactionVerifier</title>
<g id="a_node20_11"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/verification.rs#:~:text=struct%20TransactionVerifier" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="4204.89,-1326.5 4204.89,-1363.5 4941.89,-1363.5 4941.89,-1326.5 4204.89,-1326.5"/>
<polygon fill="none" stroke="black" points="4204.89,-1326.5 4204.89,-1363.5 4941.89,-1363.5 4941.89,-1326.5 4204.89,-1326.5"/>
<text text-anchor="start" x="4506.89" y="-1342.3" font-family="Arial" font-weight="bold" font-size="14.00">TransactionVerifier</text>
<polygon fill="white" stroke="none" points="4204.89,-1289.5 4204.89,-1326.5 4941.89,-1326.5 4941.89,-1289.5 4204.89,-1289.5"/>
<polygon fill="none" stroke="black" points="4204.89,-1289.5 4204.89,-1326.5 4941.89,-1326.5 4941.89,-1289.5 4204.89,-1289.5"/>
<text text-anchor="start" x="4215.89" y="-1304.3" font-family="Arial" font-size="14.00">&#45; verify(verifier: &amp;K, transaction: &amp;RingCtTransaction, spent_proofs: &amp;BTreeSet&lt;SpentProof&gt;) &#45;&gt; Result&lt;(), Error&gt;</text>
<polygon fill="none" stroke="black" points="4203.39,-1288.5 4203.39,-1364.5 4942.39,-1364.5 4942.39,-1288.5 4203.39,-1288.5"/>
</a>
</g>
</g>
<!-- ndError&#45;&gt;ndTransactionVerifier -->
<g id="edge10" class="edge"><title>ndError&#45;&gt;ndTransactionVerifier</title>
<path fill="none" stroke="black" d="M3988.1,-1620.68C4140.26,-1544.39 4359.79,-1434.34 4482.01,-1373.06"/>
<polygon fill="black" stroke="black" points="4491,-1368.56 4484.08,-1377.06 4486.53,-1370.8 4482.06,-1373.04 4482.06,-1373.04 4482.06,-1373.04 4486.53,-1370.8 4480.04,-1369.02 4491,-1368.56 4491,-1368.56"/>
</g>
<!-- ndIndexedSignatureShare -->
<g id="node3" class="node"><title>ndIndexedSignatureShare</title>
<g id="a_node3_12"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/key_manager.rs#:~:text=struct%20IndexedSignatureShare" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="1889.89,-1746 1889.89,-1783 2279.89,-1783 2279.89,-1746 1889.89,-1746"/>
<polygon fill="none" stroke="black" points="1889.89,-1746 1889.89,-1783 2279.89,-1783 2279.89,-1746 1889.89,-1746"/>
<text text-anchor="start" x="2002.39" y="-1761.8" font-family="Arial" font-weight="bold" font-size="14.00">IndexedSignatureShare</text>
<polygon fill="white" stroke="none" points="1889.89,-1694 1889.89,-1746 2279.89,-1746 2279.89,-1694 1889.89,-1694"/>
<polygon fill="none" stroke="black" points="1889.89,-1694 1889.89,-1746 2279.89,-1746 2279.89,-1694 1889.89,-1694"/>
<text text-anchor="start" x="1900.89" y="-1723.8" font-family="Arial" font-size="14.00">&#45; index: u64</text>
<text text-anchor="start" x="1900.89" y="-1708.8" font-family="Arial" font-size="14.00">&#45; signature_share: SignatureShare</text>
<polygon fill="white" stroke="none" points="1889.89,-1627 1889.89,-1694 2279.89,-1694 2279.89,-1627 1889.89,-1627"/>
<polygon fill="none" stroke="black" points="1889.89,-1627 1889.89,-1694 2279.89,-1694 2279.89,-1627 1889.89,-1627"/>
<text text-anchor="start" x="1900.89" y="-1671.8" font-family="Arial" font-size="14.00">&#45; new(index: u64, signature_share: SignatureShare) &#45;&gt; Self</text>
<text text-anchor="start" x="1900.89" y="-1656.8" font-family="Arial" font-size="14.00">&#45; threshold_crypto(&amp;self) &#45;&gt; (u64, &amp;SignatureShare)</text>
<text text-anchor="start" x="1900.89" y="-1641.8" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<polygon fill="none" stroke="black" points="1888.89,-1626 1888.89,-1784 2280.89,-1784 2280.89,-1626 1888.89,-1626"/>
</a>
</g>
</g>
<!-- ndIndexedSignatureShare&#45;&gt;ndSimpleKeyManager -->
<g id="edge11" class="edge"><title>ndIndexedSignatureShare&#45;&gt;ndSimpleKeyManager</title>
<path fill="none" stroke="black" d="M2009.74,-1621.61C1971.4,-1583.84 1922.12,-1541.29 1870.89,-1513 1773.11,-1459 1658.1,-1419.42 1552.53,-1391.03"/>
<polygon fill="black" stroke="black" points="1542.68,-1388.4 1553.5,-1386.63 1547.51,-1389.69 1552.34,-1390.97 1552.34,-1390.97 1552.34,-1390.97 1547.51,-1389.69 1551.18,-1395.32 1542.68,-1388.4 1542.68,-1388.4"/>
</g>
<!-- ndIndexedSignatureShare&#45;&gt;ndSpentProofShare -->
<g id="edge12" class="edge"><title>ndIndexedSignatureShare&#45;&gt;ndSpentProofShare</title>
<path fill="none" stroke="black" d="M2108.9,-1621.84C2121.51,-1578.68 2137.34,-1524.48 2151.98,-1474.39"/>
<polygon fill="black" stroke="black" points="2152.01,-1474.28 2149.85,-1467.4 2155.37,-1462.76 2157.53,-1469.64 2152.01,-1474.28"/>
</g>
<!-- ndKeyManager -->
<g id="node4" class="node"><title>ndKeyManager</title>
<g id="a_node4_13"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/key_manager.rs#:~:text=trait%20KeyManager" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightgreen" stroke="none" points="1272.89,-1742 1272.89,-1779 1853.89,-1779 1853.89,-1742 1272.89,-1742"/>
<polygon fill="none" stroke="black" points="1272.89,-1742 1272.89,-1779 1853.89,-1779 1853.89,-1742 1272.89,-1742"/>
<text text-anchor="start" x="1518.89" y="-1757.8" font-family="Arial" font-weight="bold" font-size="14.00">KeyManager</text>
<polygon fill="white" stroke="none" points="1272.89,-1630 1272.89,-1742 1853.89,-1742 1853.89,-1630 1272.89,-1630"/>
<polygon fill="none" stroke="black" points="1272.89,-1630 1272.89,-1742 1853.89,-1742 1853.89,-1630 1272.89,-1630"/>
<text text-anchor="start" x="1283.89" y="-1719.8" font-family="Arial" font-size="14.00">add_known_key(&amp;mut Self, PublicKey) &#45;&gt; Result&lt;(), Self::Error&gt;</text>
<text text-anchor="start" x="1283.89" y="-1704.8" font-family="Arial" font-size="14.00">sign_with_child_key(&amp;Self, &amp;[u8], &amp;Hash) &#45;&gt; Result&lt;IndexedSignatureShare, Self::Error&gt;</text>
<text text-anchor="start" x="1283.89" y="-1689.8" font-family="Arial" font-size="14.00">sign(&amp;Self, &amp;Hash) &#45;&gt; Result&lt;IndexedSignatureShare, Self::Error&gt;</text>
<text text-anchor="start" x="1283.89" y="-1674.8" font-family="Arial" font-size="14.00">public_key_set(&amp;Self) &#45;&gt; Result&lt;PublicKeySet, Self::Error&gt;</text>
<text text-anchor="start" x="1283.89" y="-1659.8" font-family="Arial" font-size="14.00">verify(&amp;Self, &amp;Hash, &amp;PublicKey, &amp;Signature) &#45;&gt; Result&lt;(), Self::Error&gt;</text>
<text text-anchor="start" x="1283.89" y="-1644.8" font-family="Arial" font-size="14.00">verify_known_key(&amp;Self, &amp;PublicKey) &#45;&gt; Result&lt;(), Self::Error&gt;</text>
<polygon fill="none" stroke="black" points="1271.39,-1629.5 1271.39,-1780.5 1854.39,-1780.5 1854.39,-1629.5 1271.39,-1629.5"/>
</a>
</g>
</g>
<!-- ndKeyManager&#45;&gt;ndSimpleKeyManager -->
<g id="edge13" class="edge"><title>ndKeyManager&#45;&gt;ndSimpleKeyManager</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1492.46,-1625.07C1446.51,-1573.59 1385.66,-1505.4 1333.8,-1447.29"/>
<polygon fill="none" stroke="black" points="1336.14,-1444.66 1326.87,-1439.53 1330.92,-1449.32 1336.14,-1444.66"/>
</g>
<!-- ndKeyManager&#45;&gt;ndSpentBookNodeMock -->
<g id="edge14" class="edge"><title>ndKeyManager&#45;&gt;ndSpentBookNodeMock</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1574.37,-1625.32C1586.75,-1520.2 1598.82,-1329.37 1550.89,-1176 1541.57,-1146.17 1527.14,-1116.59 1510.81,-1089.06"/>
<polygon fill="black" stroke="black" points="1505.44,-1080.19 1514.47,-1086.42 1508.03,-1084.47 1510.62,-1088.75 1510.62,-1088.75 1510.62,-1088.75 1508.03,-1084.47 1506.77,-1091.08 1505.44,-1080.19 1505.44,-1080.19"/>
</g>
<!-- ndSimpleSigner -->
<g id="node5" class="node"><title>ndSimpleSigner</title>
<g id="a_node5_14"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/key_manager.rs#:~:text=struct%20SimpleSigner" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="625.894,-1768 625.894,-1805 1197.89,-1805 1197.89,-1768 625.894,-1768"/>
<polygon fill="none" stroke="black" points="625.894,-1768 625.894,-1805 1197.89,-1805 1197.89,-1768 625.894,-1768"/>
<text text-anchor="start" x="864.894" y="-1783.8" font-family="Arial" font-weight="bold" font-size="14.00">SimpleSigner</text>
<polygon fill="white" stroke="none" points="625.894,-1716 625.894,-1768 1197.89,-1768 1197.89,-1716 625.894,-1716"/>
<polygon fill="none" stroke="black" points="625.894,-1716 625.894,-1768 1197.89,-1768 1197.89,-1716 625.894,-1716"/>
<text text-anchor="start" x="636.894" y="-1745.8" font-family="Arial" font-size="14.00">&#45; public_key_set: PublicKeySet</text>
<text text-anchor="start" x="636.894" y="-1730.8" font-family="Arial" font-size="14.00">&#45; secret_key_share: (u64, SerdeSecret&lt;SecretKeyShare&gt;)</text>
<polygon fill="white" stroke="none" points="625.894,-1604 625.894,-1716 1197.89,-1716 1197.89,-1604 625.894,-1604"/>
<polygon fill="none" stroke="black" points="625.894,-1604 625.894,-1716 1197.89,-1716 1197.89,-1604 625.894,-1604"/>
<text text-anchor="start" x="636.894" y="-1693.8" font-family="Arial" font-size="14.00">&#45; from(outcome: (PublicKeySet, SecretKeyShare, usize)) &#45;&gt; Self</text>
<text text-anchor="start" x="636.894" y="-1678.8" font-family="Arial" font-size="14.00">&#45; new(public_key_set: PublicKeySet, secret_key_share: (u64, SecretKeyShare)) &#45;&gt; Self</text>
<text text-anchor="start" x="636.894" y="-1663.8" font-family="Arial" font-size="14.00">&#45; index(&amp;self) &#45;&gt; u64</text>
<text text-anchor="start" x="636.894" y="-1648.8" font-family="Arial" font-size="14.00">&#45; public_key_set(&amp;self) &#45;&gt; PublicKeySet</text>
<text text-anchor="start" x="636.894" y="-1633.8" font-family="Arial" font-size="14.00">&#45; sign(&amp;self, msg: M) &#45;&gt; blsttc::SignatureShare</text>
<text text-anchor="start" x="636.894" y="-1618.8" font-family="Arial" font-size="14.00">&#45; derive_child(&amp;self, index: &amp;[u8]) &#45;&gt; Self</text>
<polygon fill="none" stroke="black" points="624.894,-1603.5 624.894,-1806.5 1198.89,-1806.5 1198.89,-1603.5 624.894,-1603.5"/>
</a>
</g>
</g>
<!-- ndSimpleSigner&#45;&gt;ndSimpleKeyManager -->
<g id="edge15" class="edge"><title>ndSimpleSigner&#45;&gt;ndSimpleKeyManager</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M999.639,-1599.12C1038.63,-1552.52 1084.77,-1497.37 1125.26,-1448.98"/>
<polygon fill="black" stroke="black" points="1125.31,-1448.92 1126.09,-1441.75 1133.01,-1439.71 1132.23,-1446.88 1125.31,-1448.92"/>
</g>
<!-- ndSimpleKeyManager&#45;&gt;ndSpentBookNodeMock -->
<g id="edge16" class="edge"><title>ndSimpleKeyManager&#45;&gt;ndSpentBookNodeMock</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1277.69,-1213.29C1294.97,-1175.09 1314.56,-1131.82 1332.86,-1091.38"/>
<polygon fill="black" stroke="black" points="1332.92,-1091.27 1331.75,-1084.15 1337.86,-1080.33 1339.03,-1087.45 1332.92,-1091.27"/>
</g>
<!-- ndKeys&#45;&gt;ndSimpleKeyManager -->
<g id="edge17" class="edge"><title>ndKeys&#45;&gt;ndSimpleKeyManager</title>
<path fill="none" stroke="black" d="M440.688,-1621.9C488.563,-1584.54 548.676,-1542.25 607.894,-1513 698.995,-1468.01 803.112,-1431.63 899.632,-1403.41"/>
<polygon fill="black" stroke="black" points="899.838,-1403.35 904.487,-1397.84 911.364,-1400.01 906.715,-1405.52 899.838,-1403.35"/>
</g>
<!-- ndDbcContent&#45;&gt;ndDbc -->
<g id="edge18" class="edge"><title>ndDbcContent&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M3193.61,-1220.91C3210.33,-1198.7 3228.52,-1174.53 3246.96,-1150.03"/>
<polygon fill="black" stroke="black" points="3247.09,-1149.85 3247.51,-1142.65 3254.31,-1140.26 3253.9,-1147.46 3247.09,-1149.85"/>
</g>
<!-- ndGenesisMaterial -->
<g id="node9" class="node"><title>ndGenesisMaterial</title>
<g id="a_node9_15"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/genesis.rs#:~:text=struct%20GenesisMaterial" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="3376.89,-1746 3376.89,-1783 3603.89,-1783 3603.89,-1746 3376.89,-1746"/>
<polygon fill="none" stroke="black" points="3376.89,-1746 3376.89,-1783 3603.89,-1783 3603.89,-1746 3376.89,-1746"/>
<text text-anchor="start" x="3433.89" y="-1761.8" font-family="Arial" font-weight="bold" font-size="14.00">GenesisMaterial</text>
<polygon fill="white" stroke="none" points="3376.89,-1679 3376.89,-1746 3603.89,-1746 3603.89,-1679 3376.89,-1679"/>
<polygon fill="none" stroke="black" points="3376.89,-1679 3376.89,-1746 3603.89,-1746 3603.89,-1679 3376.89,-1679"/>
<text text-anchor="start" x="3387.89" y="-1723.8" font-family="Arial" font-size="14.00">+ ringct_material: RingCtMaterial</text>
<text text-anchor="start" x="3387.89" y="-1708.8" font-family="Arial" font-size="14.00">+ owner_once: OwnerOnce</text>
<text text-anchor="start" x="3387.89" y="-1693.8" font-family="Arial" font-size="14.00">+ input_key_image: KeyImage</text>
<polygon fill="white" stroke="none" points="3376.89,-1626 3376.89,-1679 3603.89,-1679 3603.89,-1626 3376.89,-1626"/>
<polygon fill="none" stroke="black" points="3376.89,-1626 3376.89,-1679 3603.89,-1679 3603.89,-1626 3376.89,-1626"/>
<text text-anchor="start" x="3387.89" y="-1641.8" font-family="Arial" font-size="14.00">&#45; default() &#45;&gt; Self</text>
<polygon fill="none" stroke="black" points="3375.39,-1625.5 3375.39,-1784.5 3604.39,-1784.5 3604.39,-1625.5 3375.39,-1625.5"/>
</a>
</g>
</g>
<!-- ndOwner -->
<g id="node10" class="node"><title>ndOwner</title>
<g id="a_node10_16"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/owner.rs#:~:text=enum%20Owner" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="2939.89,-1814 2939.89,-1851 3340.89,-1851 3340.89,-1814 2939.89,-1814"/>
<polygon fill="none" stroke="black" points="2939.89,-1814 2939.89,-1851 3340.89,-1851 3340.89,-1814 2939.89,-1814"/>
<text text-anchor="start" x="3117.39" y="-1829.8" font-family="Arial" font-weight="bold" font-size="14.00">Owner</text>
<polygon fill="white" stroke="none" points="2939.89,-1762 2939.89,-1814 3340.89,-1814 3340.89,-1762 2939.89,-1762"/>
<polygon fill="none" stroke="black" points="2939.89,-1762 2939.89,-1814 3340.89,-1814 3340.89,-1762 2939.89,-1762"/>
<text text-anchor="start" x="2950.89" y="-1791.8" font-family="Arial" font-size="14.00">SecretKey(SerdeSecret&lt;SecretKey&gt;)</text>
<text text-anchor="start" x="2950.89" y="-1776.8" font-family="Arial" font-size="14.00">PublicKey(PublicKey)</text>
<polygon fill="white" stroke="none" points="2939.89,-1559 2939.89,-1762 3340.89,-1762 3340.89,-1559 2939.89,-1559"/>
<polygon fill="none" stroke="black" points="2939.89,-1559 2939.89,-1762 3340.89,-1762 3340.89,-1559 2939.89,-1559"/>
<text text-anchor="start" x="2950.89" y="-1739.8" font-family="Arial" font-size="14.00">&#45; fmt(&amp;self, f: &amp;mut fmt::Formatter&lt;&#39;_&gt;) &#45;&gt; fmt::Result</text>
<text text-anchor="start" x="2950.89" y="-1724.8" font-family="Arial" font-size="14.00">&#45; from(s: SecretKey) &#45;&gt; Self</text>
<text text-anchor="start" x="2950.89" y="-1709.8" font-family="Arial" font-size="14.00">&#45; from(p: PublicKey) &#45;&gt; Self</text>
<text text-anchor="start" x="2950.89" y="-1694.8" font-family="Arial" font-size="14.00">&#45; eq(&amp;self, other: &amp;Self) &#45;&gt; bool</text>
<text text-anchor="start" x="2950.89" y="-1663" font-family="Arial" font-size="14.00">&#45; public_key(&amp;self) &#45;&gt; PublicKey</text>
<text text-anchor="start" x="2950.89" y="-1648" font-family="Arial" font-size="14.00">&#45; secret_key(&amp;self) &#45;&gt; Result&lt;SecretKey&gt;</text>
<text text-anchor="start" x="2950.89" y="-1633" font-family="Arial" font-size="14.00">&#45; derive(&amp;self, i: &amp;DerivationIndex) &#45;&gt; Self</text>
<text text-anchor="start" x="2950.89" y="-1618" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="2950.89" y="-1603" font-family="Arial" font-size="14.00">&#45; has_secret_key(&amp;self) &#45;&gt; bool</text>
<text text-anchor="start" x="2950.89" y="-1588" font-family="Arial" font-size="14.00">&#45; from_random_secret_key(rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="2950.89" y="-1573" font-family="Arial" font-size="14.00">&#45; from(o: OwnerOnce) &#45;&gt; Self</text>
<polygon fill="none" stroke="black" points="2938.39,-1558 2938.39,-1852 3341.39,-1852 3341.39,-1558 2938.39,-1558"/>
</a>
</g>
</g>
<!-- ndOwner&#45;&gt;ndDbcContent -->
<g id="edge19" class="edge"><title>ndOwner&#45;&gt;ndDbcContent</title>
<path fill="none" stroke="black" d="M3129.92,-1553.84C3127.5,-1517.36 3124.95,-1478.89 3122.64,-1444.22"/>
<polygon fill="black" stroke="black" points="3122.64,-1444.09 3118.25,-1438.37 3121.84,-1432.12 3126.23,-1437.84 3122.64,-1444.09"/>
</g>
<!-- ndOwnerOnce -->
<g id="node11" class="node"><title>ndOwnerOnce</title>
<g id="a_node11_17"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/owner.rs#:~:text=struct%20OwnerOnce" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2896.89,-2071.5 2896.89,-2108.5 3383.89,-2108.5 3383.89,-2071.5 2896.89,-2071.5"/>
<polygon fill="none" stroke="black" points="2896.89,-2071.5 2896.89,-2108.5 3383.89,-2108.5 3383.89,-2071.5 2896.89,-2071.5"/>
<text text-anchor="start" x="3098.89" y="-2087.3" font-family="Arial" font-weight="bold" font-size="14.00">OwnerOnce</text>
<polygon fill="white" stroke="none" points="2896.89,-2019.5 2896.89,-2071.5 3383.89,-2071.5 3383.89,-2019.5 2896.89,-2019.5"/>
<polygon fill="none" stroke="black" points="2896.89,-2019.5 2896.89,-2071.5 3383.89,-2071.5 3383.89,-2019.5 2896.89,-2019.5"/>
<text text-anchor="start" x="2907.89" y="-2049.3" font-family="Arial" font-size="14.00">+ owner_base: Owner</text>
<text text-anchor="start" x="2907.89" y="-2034.3" font-family="Arial" font-size="14.00">+ derivation_index: DerivationIndex</text>
<polygon fill="white" stroke="none" points="2896.89,-1937.5 2896.89,-2019.5 3383.89,-2019.5 3383.89,-1937.5 2896.89,-1937.5"/>
<polygon fill="none" stroke="black" points="2896.89,-1937.5 2896.89,-2019.5 3383.89,-2019.5 3383.89,-1937.5 2896.89,-1937.5"/>
<text text-anchor="start" x="2907.89" y="-1997.3" font-family="Arial" font-size="14.00">&#45; owner_base(&amp;self) &#45;&gt; &amp;Owner</text>
<text text-anchor="start" x="2907.89" y="-1982.3" font-family="Arial" font-size="14.00">&#45; as_owner(&amp;self) &#45;&gt; Owner</text>
<text text-anchor="start" x="2907.89" y="-1967.3" font-family="Arial" font-size="14.00">&#45; from_owner_base(owner_base: Owner, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="2907.89" y="-1952.3" font-family="Arial" font-size="14.00">&#45; random_derivation_index(rng: &amp;mut impl RngCore) &#45;&gt; [u8; 32]</text>
<polygon fill="none" stroke="black" points="2895.39,-1937 2895.39,-2110 3384.39,-2110 3384.39,-1937 2895.39,-1937"/>
</a>
</g>
</g>
<!-- ndOwner&#45;&gt;ndOwnerOnce -->
<g id="edge20" class="edge"><title>ndOwner&#45;&gt;ndOwnerOnce</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M3146.64,-1856.26C3146.68,-1878 3146.55,-1899.93 3146.25,-1920.43"/>
<polygon fill="black" stroke="black" points="3146.25,-1920.65 3150.15,-1926.72 3146.05,-1932.65 3142.15,-1926.59 3146.25,-1920.65"/>
</g>
<!-- ndOwner&#45;&gt;ndDbc -->
<g id="edge21" class="edge"><title>ndOwner&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M3317.29,-1553.76C3347.44,-1524.42 3371.95,-1496.69 3380.89,-1477 3406.76,-1420.06 3410.86,-1274.57 3408.97,-1150.18"/>
<polygon fill="black" stroke="black" points="3408.81,-1140.12 3413.47,-1150.05 3408.89,-1145.12 3408.97,-1150.12 3408.97,-1150.12 3408.97,-1150.12 3408.89,-1145.12 3404.47,-1150.2 3408.81,-1140.12 3408.81,-1140.12"/>
</g>
<!-- ndOwnerOnce&#45;&gt;ndGenesisMaterial -->
<g id="edge22" class="edge"><title>ndOwnerOnce&#45;&gt;ndGenesisMaterial</title>
<path fill="none" stroke="black" d="M3312.82,-1932.85C3328.76,-1921.71 3344.08,-1909.72 3357.89,-1897 3388.39,-1868.91 3415.69,-1832.56 3437.44,-1799.12"/>
<polygon fill="black" stroke="black" points="3437.55,-1798.96 3437.41,-1791.75 3444.01,-1788.85 3444.15,-1796.06 3437.55,-1798.96"/>
</g>
<!-- ndOwnerOnce&#45;&gt;ndOwner -->
<g id="edge23" class="edge"><title>ndOwnerOnce&#45;&gt;ndOwner</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M3133.74,-1932.65C3133.35,-1911.88 3133.16,-1889.15 3133.14,-1866.37"/>
<polygon fill="black" stroke="black" points="3133.15,-1856.26 3137.64,-1866.26 3133.15,-1861.26 3133.14,-1866.26 3133.14,-1866.26 3133.14,-1866.26 3133.15,-1861.26 3128.64,-1866.26 3133.15,-1856.26 3133.15,-1856.26"/>
</g>
<!-- ndTransactionBuilder -->
<g id="node13" class="node"><title>ndTransactionBuilder</title>
<g id="a_node13_18"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/builder.rs#:~:text=struct%20TransactionBuilder" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="3224.89,-378.5 3224.89,-415.5 4240.89,-415.5 4240.89,-378.5 3224.89,-378.5"/>
<polygon fill="none" stroke="black" points="3224.89,-378.5 3224.89,-415.5 4240.89,-415.5 4240.89,-378.5 3224.89,-378.5"/>
<text text-anchor="start" x="3665.89" y="-394.3" font-family="Arial" font-weight="bold" font-size="14.00">TransactionBuilder</text>
<polygon fill="white" stroke="none" points="3224.89,-326.5 3224.89,-378.5 4240.89,-378.5 4240.89,-326.5 3224.89,-326.5"/>
<polygon fill="none" stroke="black" points="3224.89,-326.5 3224.89,-378.5 4240.89,-378.5 4240.89,-326.5 3224.89,-326.5"/>
<text text-anchor="start" x="3235.89" y="-356.3" font-family="Arial" font-size="14.00">&#45; ringct_material: RingCtMaterial</text>
<text text-anchor="start" x="3235.89" y="-341.3" font-family="Arial" font-size="14.00">&#45; output_owner_map: OutputOwnerMap</text>
<polygon fill="white" stroke="none" points="3224.89,-4.5 3224.89,-326.5 4240.89,-326.5 4240.89,-4.5 3224.89,-4.5"/>
<polygon fill="none" stroke="black" points="3224.89,-4.5 3224.89,-326.5 4240.89,-326.5 4240.89,-4.5 3224.89,-4.5"/>
<text text-anchor="start" x="3235.89" y="-304.3" font-family="Arial" font-size="14.00">&#45; add_input(mut self, mlsag: MlsagMaterial) &#45;&gt; Self</text>
<text text-anchor="start" x="3235.89" y="-289.3" font-family="Arial" font-size="14.00">&#45; add_inputs(mut self, inputs: impl IntoIterator&lt;Item = MlsagMaterial&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="3235.89" y="-274.3" font-family="Arial" font-size="14.00">&#45; add_input_by_true_input(mut self, true_input: TrueInput, decoy_inputs: Vec&lt;DecoyInput&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="3235.89" y="-259.3" font-family="Arial" font-size="14.00">&#45; add_inputs_by_true_inputs(mut self, inputs: impl IntoIterator&lt;Item = (TrueInput, Vec&lt;DecoyInput&gt;)&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="3235.89" y="-244.3" font-family="Arial" font-size="14.00">&#45; add_input_dbc(mut self, dbc: &amp;Dbc, base_sk: &amp;SecretKey, decoy_inputs: Vec&lt;DecoyInput&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="3235.89" y="-229.3" font-family="Arial" font-size="14.00">&#45; add_inputs_dbc(mut self, dbcs: impl IntoIterator&lt;Item = (Dbc, SecretKey, Vec&lt;DecoyInput&gt;)&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="3235.89" y="-214.3" font-family="Arial" font-size="14.00">&#45; add_input_dbc_bearer(mut self, dbc: &amp;Dbc, decoy_inputs: Vec&lt;DecoyInput&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="3235.89" y="-199.3" font-family="Arial" font-size="14.00">&#45; add_inputs_dbc_bearer(mut self, dbcs: impl IntoIterator&lt;Item = (Dbc, Vec&lt;DecoyInput&gt;)&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="3235.89" y="-184.3" font-family="Arial" font-size="14.00">&#45; add_input_by_secrets(mut self, secret_key: SecretKey, amount_secrets: AmountSecrets, decoy_inputs: Vec&lt;DecoyInput&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="3235.89" y="-169.3" font-family="Arial" font-size="14.00">&#45; add_inputs_by_secrets(mut self, secrets: Vec&lt;(SecretKey, AmountSecrets, Vec&lt;DecoyInput&gt;)&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="3235.89" y="-154.3" font-family="Arial" font-size="14.00">&#45; add_output(mut self, output: Output, owner: OwnerOnce) &#45;&gt; Self</text>
<text text-anchor="start" x="3235.89" y="-139.3" font-family="Arial" font-size="14.00">&#45; add_outputs(mut self, outputs: impl IntoIterator&lt;Item = (Output, OwnerOnce)&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="3235.89" y="-124.3" font-family="Arial" font-size="14.00">&#45; add_output_by_amount(mut self, amount: Amount, owner: OwnerOnce) &#45;&gt; Self</text>
<text text-anchor="start" x="3235.89" y="-109.3" font-family="Arial" font-size="14.00">&#45; add_outputs_by_amount(mut self, outputs: impl IntoIterator&lt;Item = (Amount, OwnerOnce)&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="3235.89" y="-94.3" font-family="Arial" font-size="14.00">&#45; input_owners(&amp;self) &#45;&gt; Vec&lt;PublicKey&gt;</text>
<text text-anchor="start" x="3235.89" y="-79.3" font-family="Arial" font-size="14.00">&#45; inputs_amount_sum(&amp;self) &#45;&gt; Amount</text>
<text text-anchor="start" x="3235.89" y="-64.3" font-family="Arial" font-size="14.00">&#45; outputs_amount_sum(&amp;self) &#45;&gt; Amount</text>
<text text-anchor="start" x="3235.89" y="-49.3" font-family="Arial" font-size="14.00">&#45; inputs(&amp;self) &#45;&gt; &amp;Vec&lt;MlsagMaterial&gt;</text>
<text text-anchor="start" x="3235.89" y="-34.3" font-family="Arial" font-size="14.00">&#45; outputs(&amp;self) &#45;&gt; &amp;Vec&lt;Output&gt;</text>
<text text-anchor="start" x="3235.89" y="-19.3" font-family="Arial" font-size="14.00">&#45; build(self, rng: impl RngCore + CryptoRng) &#45;&gt; Result&lt;DbcBuilder&gt;</text>
<polygon fill="none" stroke="black" points="3223.89,-4 3223.89,-417 4241.89,-417 4241.89,-4 3223.89,-4"/>
</a>
</g>
</g>
<!-- ndOwnerOnce&#45;&gt;ndTransactionBuilder -->
<g id="edge24" class="edge"><title>ndOwnerOnce&#45;&gt;ndTransactionBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M3392.52,-2003.29C3565.19,-1985.86 3797.91,-1953.86 3996.89,-1897 4482.01,-1758.38 4978.89,-1832.03 4978.89,-1327.5 4978.89,-1327.5 4978.89,-1327.5 4978.89,-943.5 4978.89,-589.235 4599.81,-403.077 4259.83,-307.358"/>
<polygon fill="black" stroke="black" points="4250.04,-304.623 4260.88,-302.979 4254.85,-305.968 4259.67,-307.313 4259.67,-307.313 4259.67,-307.313 4254.85,-305.968 4258.46,-311.647 4250.04,-304.623 4250.04,-304.623"/>
</g>
<!-- ndDbcBuilder -->
<g id="node14" class="node"><title>ndDbcBuilder</title>
<g id="a_node14_19"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/builder.rs#:~:text=struct%20DbcBuilder" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2331.89,-671 2331.89,-708 3427.89,-708 3427.89,-671 2331.89,-671"/>
<polygon fill="none" stroke="black" points="2331.89,-671 2331.89,-708 3427.89,-708 3427.89,-671 2331.89,-671"/>
<text text-anchor="start" x="2840.39" y="-686.8" font-family="Arial" font-weight="bold" font-size="14.00">DbcBuilder</text>
<polygon fill="white" stroke="none" points="2331.89,-574 2331.89,-671 3427.89,-671 3427.89,-574 2331.89,-574"/>
<polygon fill="none" stroke="black" points="2331.89,-574 2331.89,-671 3427.89,-671 3427.89,-574 2331.89,-574"/>
<text text-anchor="start" x="2342.89" y="-648.8" font-family="Arial" font-size="14.00">+ transaction: RingCtTransaction</text>
<text text-anchor="start" x="2342.89" y="-633.8" font-family="Arial" font-size="14.00">+ revealed_commitments: Vec&lt;RevealedCommitment&gt;</text>
<text text-anchor="start" x="2342.89" y="-618.8" font-family="Arial" font-size="14.00">+ output_owner_map: OutputOwnerMap</text>
<text text-anchor="start" x="2342.89" y="-603.8" font-family="Arial" font-size="14.00">+ ringct_material: RingCtMaterial</text>
<text text-anchor="start" x="2342.89" y="-588.8" font-family="Arial" font-size="14.00">+ spent_proof_shares: BTreeMap&lt;KeyImage, HashSet&lt;SpentProofShare&gt;&gt;</text>
<polygon fill="white" stroke="none" points="2331.89,-462 2331.89,-574 3427.89,-574 3427.89,-462 2331.89,-462"/>
<polygon fill="none" stroke="black" points="2331.89,-462 2331.89,-574 3427.89,-574 3427.89,-462 2331.89,-462"/>
<text text-anchor="start" x="2342.89" y="-551.8" font-family="Arial" font-size="14.00">&#45; new(transaction: RingCtTransaction, revealed_commitments: Vec&lt;RevealedCommitment&gt;, output_owner_map: OutputOwnerMap, ringct_material: RingCtMaterial) &#45;&gt; Self</text>
<text text-anchor="start" x="2342.89" y="-536.8" font-family="Arial" font-size="14.00">&#45; inputs(&amp;self) &#45;&gt; Vec&lt;(KeyImage, RingCtTransaction)&gt;</text>
<text text-anchor="start" x="2342.89" y="-521.8" font-family="Arial" font-size="14.00">&#45; add_spent_proof_share(mut self, share: SpentProofShare) &#45;&gt; Self</text>
<text text-anchor="start" x="2342.89" y="-506.8" font-family="Arial" font-size="14.00">&#45; add_spent_proof_shares(mut self, shares: impl IntoIterator&lt;Item = SpentProofShare&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="2342.89" y="-491.8" font-family="Arial" font-size="14.00">&#45; build(self, verifier: &amp;K) &#45;&gt; Result&lt;Vec&lt;(Dbc, OwnerOnce, AmountSecrets)&gt;&gt;</text>
<text text-anchor="start" x="2342.89" y="-476.8" font-family="Arial" font-size="14.00">&#45; spent_proofs(&amp;self) &#45;&gt; Result&lt;BTreeSet&lt;SpentProof&gt;&gt;</text>
<polygon fill="none" stroke="black" points="2330.89,-461 2330.89,-709 3428.89,-709 3428.89,-461 2330.89,-461"/>
</a>
</g>
</g>
<!-- ndOwnerOnce&#45;&gt;ndDbcBuilder -->
<g id="edge25" class="edge"><title>ndOwnerOnce&#45;&gt;ndDbcBuilder</title>
<path fill="none" stroke="black" d="M2953.23,-1932.82C2941.09,-1922.01 2930.07,-1910.1 2920.89,-1897 2790.67,-1711.17 2838.36,-1020.11 2865.87,-723.104"/>
<polygon fill="black" stroke="black" points="2866.8,-713.137 2870.35,-723.512 2866.34,-718.116 2865.87,-723.094 2865.87,-723.094 2865.87,-723.094 2866.34,-718.116 2861.39,-722.676 2866.8,-713.137 2866.8,-713.137"/>
</g>
<!-- ndDbc&#45;&gt;ndTransactionBuilder -->
<g id="edge26" class="edge"><title>ndDbc&#45;&gt;ndTransactionBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M3489.21,-748.779C3533.68,-650.725 3587.76,-531.493 3633.66,-430.284"/>
<polygon fill="black" stroke="black" points="3637.8,-421.17 3637.77,-432.136 3635.73,-425.724 3633.67,-430.277 3633.67,-430.277 3633.67,-430.277 3635.73,-425.724 3629.57,-428.419 3637.8,-421.17 3637.8,-421.17"/>
</g>
<!-- ndDbc&#45;&gt;ndDbcBuilder -->
<g id="edge27" class="edge"><title>ndDbc&#45;&gt;ndDbcBuilder</title>
<path fill="none" stroke="black" d="M3120.57,-751.146C3104.72,-740.269 3088.96,-729.46 3073.55,-718.881"/>
<polygon fill="black" stroke="black" points="3065.02,-713.028 3075.81,-714.976 3069.14,-715.857 3073.26,-718.686 3073.26,-718.686 3073.26,-718.686 3069.14,-715.857 3070.72,-722.396 3065.02,-713.028 3065.02,-713.028"/>
</g>
<!-- ndDbcBuilder&#45;&gt;ndTransactionBuilder -->
<g id="edge28" class="edge"><title>ndDbcBuilder&#45;&gt;ndTransactionBuilder</title>
<path fill="none" stroke="black" d="M3170.76,-456.979C3194.52,-446.604 3218.9,-435.957 3243.57,-425.184"/>
<polygon fill="black" stroke="black" points="3253.04,-421.049 3245.68,-429.175 3248.46,-423.05 3243.88,-425.051 3243.88,-425.051 3243.88,-425.051 3248.46,-423.05 3242.08,-420.927 3253.04,-421.049 3253.04,-421.049"/>
</g>
<!-- ndSpentProofContent&#45;&gt;ndSpentProofShare -->
<g id="edge29" class="edge"><title>ndSpentProofContent&#45;&gt;ndSpentProofShare</title>
<path fill="none" stroke="black" d="M2446.89,-1606.55C2409.82,-1565.5 2365.9,-1516.86 2325.19,-1471.79"/>
<polygon fill="black" stroke="black" points="2325.14,-1471.73 2318.15,-1469.96 2317.1,-1462.82 2324.09,-1464.6 2325.14,-1471.73"/>
</g>
<!-- ndSpentProofContent&#45;&gt;ndSpentProof -->
<g id="edge30" class="edge"><title>ndSpentProofContent&#45;&gt;ndSpentProof</title>
<path fill="none" stroke="black" d="M2554.05,-1606.55C2563.8,-1556.93 2575.73,-1496.23 2585.97,-1444.14"/>
<polygon fill="black" stroke="black" points="2586.01,-1443.9 2583.25,-1437.25 2588.33,-1432.13 2591.1,-1438.79 2586.01,-1443.9"/>
</g>
<!-- ndSpentProofShare&#45;&gt;ndDbcBuilder -->
<g id="edge31" class="edge"><title>ndSpentProofShare&#45;&gt;ndDbcBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2293.47,-1190.34C2385.07,-1068.84 2528.57,-888.57 2671.89,-749 2681.49,-739.655 2691.6,-730.321 2701.99,-721.117"/>
<polygon fill="black" stroke="black" points="2702.16,-720.972 2704.03,-714.01 2711.18,-713.066 2709.31,-720.028 2702.16,-720.972"/>
</g>
<!-- ndSpentProofShare&#45;&gt;ndSpentBookNodeMock -->
<g id="edge32" class="edge"><title>ndSpentProofShare&#45;&gt;ndSpentBookNodeMock</title>
<path fill="none" stroke="black" d="M1991.2,-1228.26C1899.65,-1184.55 1789.92,-1132.17 1689.92,-1084.43"/>
<polygon fill="black" stroke="black" points="1680.9,-1080.12 1691.86,-1080.37 1685.41,-1082.28 1689.92,-1084.43 1689.92,-1084.43 1689.92,-1084.43 1685.41,-1082.28 1687.98,-1088.49 1680.9,-1080.12 1680.9,-1080.12"/>
</g>
<!-- ndSpentProof&#45;&gt;ndDbc -->
<g id="edge33" class="edge"><title>ndSpentProof&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M2768.13,-1220.88C2794.37,-1205.11 2821.59,-1189.59 2847.89,-1176 2931,-1133.06 3023.96,-1091.84 3109.6,-1056.44"/>
<polygon fill="black" stroke="black" points="3109.72,-1056.38 3113.74,-1050.4 3120.81,-1051.81 3116.79,-1057.8 3109.72,-1056.38"/>
</g>
<!-- ndSpentProof&#45;&gt;ndDbcBuilder -->
<g id="edge34" class="edge"><title>ndSpentProof&#45;&gt;ndDbcBuilder</title>
<path fill="none" stroke="black" d="M2644.98,-1220.94C2685.24,-1105.12 2752.9,-913.046 2814.89,-749 2818.17,-740.328 2821.59,-731.415 2825.06,-722.44"/>
<polygon fill="black" stroke="black" points="2828.71,-713.072 2829.28,-724.023 2826.89,-717.732 2825.08,-722.393 2825.08,-722.393 2825.08,-722.393 2826.89,-717.732 2820.89,-720.762 2828.71,-713.072 2828.71,-713.072"/>
</g>
<!-- ndAmountSecrets&#45;&gt;ndDbc -->
<g id="edge35" class="edge"><title>ndAmountSecrets&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M3656.11,-1175.86C3645.54,-1166.33 3634.82,-1156.65 3624.06,-1146.93"/>
<polygon fill="black" stroke="black" points="3616.6,-1140.2 3627.04,-1143.56 3620.31,-1143.55 3624.02,-1146.9 3624.02,-1146.9 3624.02,-1146.9 3620.31,-1143.55 3621.01,-1150.24 3616.6,-1140.2 3616.6,-1140.2"/>
</g>
<!-- ndAmountSecrets&#45;&gt;ndTransactionBuilder -->
<g id="edge36" class="edge"><title>ndAmountSecrets&#45;&gt;ndTransactionBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M3809.94,-1175.84C3794.65,-984.446 3768.05,-651.49 3750.45,-431.287"/>
<polygon fill="black" stroke="black" points="3749.65,-421.214 3754.93,-430.824 3750.05,-426.199 3750.45,-431.183 3750.45,-431.183 3750.45,-431.183 3750.05,-426.199 3745.96,-431.541 3749.65,-421.214 3749.65,-421.214"/>
</g>
<!-- ndAmountSecrets&#45;&gt;ndDbcBuilder -->
<g id="edge37" class="edge"><title>ndAmountSecrets&#45;&gt;ndDbcBuilder</title>
<path fill="none" stroke="black" d="M3779.87,-1175.87C3776.74,-1163.76 3773.71,-1151.69 3770.89,-1140 3729.35,-967.464 3815.74,-874.131 3689.89,-749 3649.53,-708.87 3556.37,-677.956 3447,-654.402"/>
<polygon fill="black" stroke="black" points="3437.06,-652.289 3447.78,-649.965 3441.95,-653.328 3446.84,-654.367 3446.84,-654.367 3446.84,-654.367 3441.95,-653.328 3445.91,-658.769 3437.06,-652.289 3437.06,-652.289"/>
</g>
</g>
</svg>
