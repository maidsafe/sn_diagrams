<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.38.0 (20140413.2041)
 -->
<!-- Title: ml Pages: 1 -->
<svg width="4073pt" height="2160pt"
 viewBox="0.00 0.00 4073.48 2160.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2156)">
<title>ml</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-2156 4069.48,-2156 4069.48,4 -4,4"/>
<!-- ndHash -->
<g id="node1" class="node"><title>ndHash</title>
<g id="a_node1_0"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/lib.rs#:~:text=struct%20Hash" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2951.12,-2102.5 2951.12,-2139.5 3306.12,-2139.5 3306.12,-2102.5 2951.12,-2102.5"/>
<polygon fill="none" stroke="black" points="2951.12,-2102.5 2951.12,-2139.5 3306.12,-2139.5 3306.12,-2102.5 2951.12,-2102.5"/>
<text text-anchor="start" x="3110.62" y="-2118.3" font-family="Arial" font-weight="bold" font-size="14.00">Hash</text>
<polygon fill="white" stroke="none" points="2951.12,-2065.5 2951.12,-2102.5 3306.12,-2102.5 3306.12,-2065.5 2951.12,-2065.5"/>
<polygon fill="none" stroke="black" points="2951.12,-2065.5 2951.12,-2102.5 3306.12,-2102.5 3306.12,-2065.5 2951.12,-2065.5"/>
<text text-anchor="start" x="2962.12" y="-2080.3" font-family="Arial" font-size="14.00">&#45; [u8; 32]</text>
<polygon fill="white" stroke="none" points="2951.12,-1983.5 2951.12,-2065.5 3306.12,-2065.5 3306.12,-1983.5 2951.12,-1983.5"/>
<polygon fill="none" stroke="black" points="2951.12,-1983.5 2951.12,-2065.5 3306.12,-2065.5 3306.12,-1983.5 2951.12,-1983.5"/>
<text text-anchor="start" x="2962.12" y="-2043.3" font-family="Arial" font-size="14.00">&#45; hash(input: &amp;[u8]) &#45;&gt; Self</text>
<text text-anchor="start" x="2962.12" y="-2028.3" font-family="Arial" font-size="14.00">&#45; from(val: [u8; 32]) &#45;&gt; Hash</text>
<text text-anchor="start" x="2962.12" y="-2013.3" font-family="Arial" font-size="14.00">&#45; fmt(&amp;self, f: &amp;mut fmt::Formatter&lt;&#39;_&gt;) &#45;&gt; fmt::Result</text>
<text text-anchor="start" x="2962.12" y="-1998.3" font-family="Arial" font-size="14.00">&#45; as_ref(&amp;self) &#45;&gt; &amp;[u8]</text>
<polygon fill="none" stroke="black" points="2949.62,-1982.5 2949.62,-2140.5 3306.62,-2140.5 3306.62,-1982.5 2949.62,-1982.5"/>
</a>
</g>
</g>
<!-- ndKeyManager -->
<g id="node4" class="node"><title>ndKeyManager</title>
<g id="a_node4_1"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/mock/key_manager.rs#:~:text=struct%20KeyManager" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2478.12,-1517.5 2478.12,-1554.5 3091.12,-1554.5 3091.12,-1517.5 2478.12,-1517.5"/>
<polygon fill="none" stroke="black" points="2478.12,-1517.5 2478.12,-1554.5 3091.12,-1554.5 3091.12,-1517.5 2478.12,-1517.5"/>
<text text-anchor="start" x="2740.12" y="-1533.3" font-family="Arial" font-weight="bold" font-size="14.00">KeyManager</text>
<polygon fill="white" stroke="none" points="2478.12,-1465.5 2478.12,-1517.5 3091.12,-1517.5 3091.12,-1465.5 2478.12,-1465.5"/>
<polygon fill="none" stroke="black" points="2478.12,-1465.5 2478.12,-1517.5 3091.12,-1517.5 3091.12,-1465.5 2478.12,-1465.5"/>
<text text-anchor="start" x="2489.12" y="-1495.3" font-family="Arial" font-size="14.00">&#45; signer: Signer</text>
<text text-anchor="start" x="2489.12" y="-1480.3" font-family="Arial" font-size="14.00">&#45; cache: Keys</text>
<polygon fill="white" stroke="none" points="2478.12,-1338.5 2478.12,-1465.5 3091.12,-1465.5 3091.12,-1338.5 2478.12,-1338.5"/>
<polygon fill="none" stroke="black" points="2478.12,-1338.5 2478.12,-1465.5 3091.12,-1465.5 3091.12,-1338.5 2478.12,-1338.5"/>
<text text-anchor="start" x="2489.12" y="-1443.3" font-family="Arial" font-size="14.00">&#45; from(signer: Signer) &#45;&gt; Self</text>
<text text-anchor="start" x="2489.12" y="-1428.3" font-family="Arial" font-size="14.00">&#45; add_known_key(&amp;mut self, key: PublicKey) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="2489.12" y="-1413.3" font-family="Arial" font-size="14.00">&#45; public_key_set(&amp;self) &#45;&gt; Result&lt;PublicKeySet&gt;</text>
<text text-anchor="start" x="2489.12" y="-1398.3" font-family="Arial" font-size="14.00">&#45; sign_with_child_key(&amp;self, index: &amp;[u8], tx_hash: &amp;Hash) &#45;&gt; Result&lt;IndexedSignatureShare&gt;</text>
<text text-anchor="start" x="2489.12" y="-1383.3" font-family="Arial" font-size="14.00">&#45; sign(&amp;self, msg_hash: &amp;Hash) &#45;&gt; Result&lt;IndexedSignatureShare&gt;</text>
<text text-anchor="start" x="2489.12" y="-1368.3" font-family="Arial" font-size="14.00">&#45; verify(&amp;self, msg_hash: &amp;Hash, key: &amp;PublicKey, signature: &amp;Signature) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="2489.12" y="-1353.3" font-family="Arial" font-size="14.00">&#45; verify_known_key(&amp;self, key: &amp;PublicKey) &#45;&gt; Result&lt;()&gt;</text>
<polygon fill="none" stroke="black" points="2476.62,-1337.5 2476.62,-1555.5 3091.62,-1555.5 3091.62,-1337.5 2476.62,-1337.5"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndKeyManager -->
<g id="edge1" class="edge"><title>ndHash&#45;&gt;ndKeyManager</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2941.47,-2042.36C2801.25,-2024.42 2625.97,-1991.3 2581.12,-1935 2539.31,-1882.51 2554.05,-1694.41 2581.12,-1633 2591.62,-1609.18 2606.86,-1587.09 2624.34,-1567.07"/>
<polygon fill="black" stroke="black" points="2631.15,-1559.5 2627.81,-1569.95 2627.8,-1563.22 2624.46,-1566.94 2624.46,-1566.94 2624.46,-1566.94 2627.8,-1563.22 2621.12,-1563.93 2631.15,-1559.5 2631.15,-1559.5"/>
</g>
<!-- ndDbcContent -->
<g id="node5" class="node"><title>ndDbcContent</title>
<g id="a_node5_2"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/dbc_content.rs#:~:text=struct%20DbcContent" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="1674.12,-1509.5 1674.12,-1546.5 2171.12,-1546.5 2171.12,-1509.5 1674.12,-1509.5"/>
<polygon fill="none" stroke="black" points="1674.12,-1509.5 1674.12,-1546.5 2171.12,-1546.5 2171.12,-1509.5 1674.12,-1509.5"/>
<text text-anchor="start" x="1881.12" y="-1525.3" font-family="Arial" font-weight="bold" font-size="14.00">DbcContent</text>
<polygon fill="white" stroke="none" points="1674.12,-1442.5 1674.12,-1509.5 2171.12,-1509.5 2171.12,-1442.5 1674.12,-1442.5"/>
<polygon fill="none" stroke="black" points="1674.12,-1442.5 1674.12,-1509.5 2171.12,-1509.5 2171.12,-1442.5 1674.12,-1442.5"/>
<text text-anchor="start" x="1685.12" y="-1487.3" font-family="Arial" font-size="14.00">+ owner_base: Owner</text>
<text text-anchor="start" x="1685.12" y="-1472.3" font-family="Arial" font-size="14.00">+ owner_derivation_cipher: Ciphertext</text>
<text text-anchor="start" x="1685.12" y="-1457.3" font-family="Arial" font-size="14.00">+ amount_secrets_cipher: Ciphertext</text>
<polygon fill="white" stroke="none" points="1674.12,-1345.5 1674.12,-1442.5 2171.12,-1442.5 2171.12,-1345.5 1674.12,-1345.5"/>
<polygon fill="none" stroke="black" points="1674.12,-1345.5 1674.12,-1442.5 2171.12,-1442.5 2171.12,-1345.5 1674.12,-1345.5"/>
<text text-anchor="start" x="1685.12" y="-1420.3" font-family="Arial" font-size="14.00">&#45; from(params: (Owner, Ciphertext, Ciphertext)) &#45;&gt; Self</text>
<text text-anchor="start" x="1685.12" y="-1405.3" font-family="Arial" font-size="14.00">&#45; from(params: (Owner, DerivationIndex, AmountSecrets)) &#45;&gt; Self</text>
<text text-anchor="start" x="1685.12" y="-1390.3" font-family="Arial" font-size="14.00">&#45; derivation_index(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;DerivationIndex&gt;</text>
<text text-anchor="start" x="1685.12" y="-1375.3" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="1685.12" y="-1360.3" font-family="Arial" font-size="14.00">&#45; hash(&amp;self) &#45;&gt; Hash</text>
<polygon fill="none" stroke="black" points="1672.62,-1345 1672.62,-1548 2171.62,-1548 2171.62,-1345 1672.62,-1345"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndDbcContent -->
<g id="edge2" class="edge"><title>ndHash&#45;&gt;ndDbcContent</title>
<path fill="none" stroke="black" d="M2941.37,-2054.13C2622.8,-2041.36 2002.06,-2007.39 1935.12,-1935 1843.75,-1836.19 1860.83,-1672.14 1886.92,-1561.96"/>
<polygon fill="black" stroke="black" points="1889.3,-1552.13 1891.31,-1562.91 1888.12,-1556.99 1886.94,-1561.85 1886.94,-1561.85 1886.94,-1561.85 1888.12,-1556.99 1882.57,-1560.79 1889.3,-1552.13 1889.3,-1552.13"/>
</g>
<!-- ndKeys -->
<g id="node9" class="node"><title>ndKeys</title>
<g id="a_node9_3"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/mock/key_manager.rs#:~:text=struct%20Keys" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2600.12,-1825 2600.12,-1862 3091.12,-1862 3091.12,-1825 2600.12,-1825"/>
<polygon fill="none" stroke="black" points="2600.12,-1825 2600.12,-1862 3091.12,-1862 3091.12,-1825 2600.12,-1825"/>
<text text-anchor="start" x="2827.62" y="-1840.8" font-family="Arial" font-weight="bold" font-size="14.00">Keys</text>
<polygon fill="white" stroke="none" points="2600.12,-1788 2600.12,-1825 3091.12,-1825 3091.12,-1788 2600.12,-1788"/>
<polygon fill="none" stroke="black" points="2600.12,-1788 2600.12,-1825 3091.12,-1825 3091.12,-1788 2600.12,-1788"/>
<text text-anchor="start" x="2611.12" y="-1802.8" font-family="Arial" font-size="14.00">&#45; HashSet&lt;PublicKey&gt;</text>
<polygon fill="white" stroke="none" points="2600.12,-1706 2600.12,-1788 3091.12,-1788 3091.12,-1706 2600.12,-1706"/>
<polygon fill="none" stroke="black" points="2600.12,-1706 2600.12,-1788 3091.12,-1788 3091.12,-1706 2600.12,-1706"/>
<text text-anchor="start" x="2611.12" y="-1765.8" font-family="Arial" font-size="14.00">&#45; from(keys: Vec&lt;PublicKey&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="2611.12" y="-1750.8" font-family="Arial" font-size="14.00">&#45; add_known_key(&amp;mut self, key: PublicKey)</text>
<text text-anchor="start" x="2611.12" y="-1735.8" font-family="Arial" font-size="14.00">&#45; verify(&amp;self, msg: &amp;Hash, key: &amp;PublicKey, sig: &amp;Signature) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="2611.12" y="-1720.8" font-family="Arial" font-size="14.00">&#45; verify_known_key(&amp;self, key: &amp;PublicKey) &#45;&gt; Result&lt;()&gt;</text>
<polygon fill="none" stroke="black" points="2598.62,-1705 2598.62,-1863 3091.62,-1863 3091.62,-1705 2598.62,-1705"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndKeys -->
<g id="edge3" class="edge"><title>ndHash&#45;&gt;ndKeys</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M3043.59,-1978.21C3009.99,-1945.5 2971.24,-1907.78 2936.95,-1874.39"/>
<polygon fill="black" stroke="black" points="2929.7,-1867.34 2940,-1871.09 2933.28,-1870.83 2936.86,-1874.31 2936.86,-1874.31 2936.86,-1874.31 2933.28,-1870.83 2933.73,-1877.54 2929.7,-1867.34 2929.7,-1867.34"/>
</g>
<!-- ndSpentBookNode -->
<g id="node10" class="node"><title>ndSpentBookNode</title>
<g id="a_node10_4"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/mock/spentbook.rs#:~:text=struct%20SpentBookNode" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2415.12,-1157.5 2415.12,-1194.5 3216.12,-1194.5 3216.12,-1157.5 2415.12,-1157.5"/>
<polygon fill="none" stroke="black" points="2415.12,-1157.5 2415.12,-1194.5 3216.12,-1194.5 3216.12,-1157.5 2415.12,-1157.5"/>
<text text-anchor="start" x="2758.62" y="-1173.3" font-family="Arial" font-weight="bold" font-size="14.00">SpentBookNode</text>
<polygon fill="white" stroke="none" points="2415.12,-1060.5 2415.12,-1157.5 3216.12,-1157.5 3216.12,-1060.5 2415.12,-1060.5"/>
<polygon fill="none" stroke="black" points="2415.12,-1060.5 2415.12,-1157.5 3216.12,-1157.5 3216.12,-1060.5 2415.12,-1060.5"/>
<text text-anchor="start" x="2426.12" y="-1135.3" font-family="Arial" font-size="14.00">+ key_manager: mock::KeyManager</text>
<text text-anchor="start" x="2426.12" y="-1120.3" font-family="Arial" font-size="14.00">+ transactions: HashMap&lt;Hash, RingCtTransaction&gt;</text>
<text text-anchor="start" x="2426.12" y="-1105.3" font-family="Arial" font-size="14.00">+ key_images: BTreeMap&lt;KeyImage, Hash&gt;</text>
<text text-anchor="start" x="2426.12" y="-1090.3" font-family="Arial" font-size="14.00">+ outputs: BTreeMap&lt;PublicKey, OutputProof&gt;</text>
<text text-anchor="start" x="2426.12" y="-1075.3" font-family="Arial" font-size="14.00">+ genesis: (KeyImage, Commitment)</text>
<polygon fill="white" stroke="none" points="2415.12,-933.5 2415.12,-1060.5 3216.12,-1060.5 3216.12,-933.5 2415.12,-933.5"/>
<polygon fill="none" stroke="black" points="2415.12,-933.5 2415.12,-1060.5 3216.12,-1060.5 3216.12,-933.5 2415.12,-933.5"/>
<text text-anchor="start" x="2426.12" y="-1038.3" font-family="Arial" font-size="14.00">&#45; from(key_manager: mock::KeyManager) &#45;&gt; Self</text>
<text text-anchor="start" x="2426.12" y="-1023.3" font-family="Arial" font-size="14.00">&#45; iter(&amp;self) &#45;&gt; impl Iterator&lt;Item = (&amp;KeyImage, &amp;RingCtTransaction)&gt; + &#39;_</text>
<text text-anchor="start" x="2426.12" y="-1008.3" font-family="Arial" font-size="14.00">&#45; is_spent(&amp;self, key_image: &amp;KeyImage) &#45;&gt; bool</text>
<text text-anchor="start" x="2426.12" y="-993.3" font-family="Arial" font-size="14.00">&#45; log_spent(&amp;mut self, key_image: KeyImage, tx: RingCtTransaction) &#45;&gt; Result&lt;SpentProofShare&gt;</text>
<text text-anchor="start" x="2426.12" y="-978.3" font-family="Arial" font-size="14.00">&#45; log_spent_and_skip_tx_verification(&amp;mut self, key_image: KeyImage, tx: RingCtTransaction) &#45;&gt; Result&lt;SpentProofShare&gt;</text>
<text text-anchor="start" x="2426.12" y="-963.3" font-family="Arial" font-size="14.00">&#45; log_spent_worker(&amp;mut self, key_image: KeyImage, tx: RingCtTransaction, verify_tx: bool) &#45;&gt; Result&lt;SpentProofShare&gt;</text>
<text text-anchor="start" x="2426.12" y="-948.3" font-family="Arial" font-size="14.00">&#45; random_decoys(&amp;self, target_num: usize, rng: &amp;mut impl RngCore) &#45;&gt; Vec&lt;DecoyInput&gt;</text>
<polygon fill="none" stroke="black" points="2413.62,-933 2413.62,-1196 3216.62,-1196 3216.62,-933 2413.62,-933"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSpentBookNode -->
<g id="edge4" class="edge"><title>ndHash&#45;&gt;ndSpentBookNode</title>
<path fill="none" stroke="black" d="M3129.89,-1978.4C3133.3,-1793.46 3138.07,-1355.66 3108.12,-1296 3091.95,-1263.78 3068.94,-1234.67 3042.84,-1208.84"/>
<polygon fill="black" stroke="black" points="3042.52,-1208.53 3035.42,-1207.24 3033.87,-1200.2 3040.97,-1201.48 3042.52,-1208.53"/>
</g>
<!-- ndSpentProofContent -->
<g id="node16" class="node"><title>ndSpentProofContent</title>
<g id="a_node16_5"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/spent_proof.rs#:~:text=struct%20SpentProofContent" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="3629.12,-1840 3629.12,-1877 3992.12,-1877 3992.12,-1840 3629.12,-1840"/>
<polygon fill="none" stroke="black" points="3629.12,-1840 3629.12,-1877 3992.12,-1877 3992.12,-1840 3629.12,-1840"/>
<text text-anchor="start" x="3743.62" y="-1855.8" font-family="Arial" font-weight="bold" font-size="14.00">SpentProofContent</text>
<polygon fill="white" stroke="none" points="3629.12,-1773 3629.12,-1840 3992.12,-1840 3992.12,-1773 3629.12,-1773"/>
<polygon fill="none" stroke="black" points="3629.12,-1773 3629.12,-1840 3992.12,-1840 3992.12,-1773 3629.12,-1773"/>
<text text-anchor="start" x="3640.12" y="-1817.8" font-family="Arial" font-size="14.00">+ key_image: KeyImage</text>
<text text-anchor="start" x="3640.12" y="-1802.8" font-family="Arial" font-size="14.00">+ transaction_hash: Hash</text>
<text text-anchor="start" x="3640.12" y="-1787.8" font-family="Arial" font-size="14.00">+ public_commitments: Vec&lt;Commitment&gt;</text>
<polygon fill="white" stroke="none" points="3629.12,-1691 3629.12,-1773 3992.12,-1773 3992.12,-1691 3629.12,-1691"/>
<polygon fill="none" stroke="black" points="3629.12,-1691 3629.12,-1773 3992.12,-1773 3992.12,-1691 3629.12,-1691"/>
<text text-anchor="start" x="3640.12" y="-1750.8" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="3640.12" y="-1735.8" font-family="Arial" font-size="14.00">&#45; hash(&amp;self) &#45;&gt; Hash</text>
<text text-anchor="start" x="3640.12" y="-1720.8" font-family="Arial" font-size="14.00">&#45; partial_cmp(&amp;self, other: &amp;Self) &#45;&gt; Option&lt;Ordering&gt;</text>
<text text-anchor="start" x="3640.12" y="-1705.8" font-family="Arial" font-size="14.00">&#45; cmp(&amp;self, other: &amp;Self) &#45;&gt; Ordering</text>
<polygon fill="none" stroke="black" points="3627.62,-1690 3627.62,-1878 3992.62,-1878 3992.62,-1690 3627.62,-1690"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSpentProofContent -->
<g id="edge5" class="edge"><title>ndHash&#45;&gt;ndSpentProofContent</title>
<path fill="none" stroke="black" d="M3314.85,-2028.56C3405.6,-2008.82 3514.56,-1978.71 3606.12,-1935 3632.53,-1922.39 3659,-1906.2 3683.72,-1889.13"/>
<polygon fill="black" stroke="black" points="3684.01,-1888.93 3686.62,-1882.21 3693.83,-1882.04 3691.22,-1888.76 3684.01,-1888.93"/>
</g>
<!-- ndSpentProofShare -->
<g id="node17" class="node"><title>ndSpentProofShare</title>
<g id="a_node17_6"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/spent_proof.rs#:~:text=struct%20SpentProofShare" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="3568.12,-1540.5 3568.12,-1577.5 3957.12,-1577.5 3957.12,-1540.5 3568.12,-1540.5"/>
<polygon fill="none" stroke="black" points="3568.12,-1540.5 3568.12,-1577.5 3957.12,-1577.5 3957.12,-1540.5 3568.12,-1540.5"/>
<text text-anchor="start" x="3702.12" y="-1556.3" font-family="Arial" font-weight="bold" font-size="14.00">SpentProofShare</text>
<polygon fill="white" stroke="none" points="3568.12,-1473.5 3568.12,-1540.5 3957.12,-1540.5 3957.12,-1473.5 3568.12,-1473.5"/>
<polygon fill="none" stroke="black" points="3568.12,-1473.5 3568.12,-1540.5 3957.12,-1540.5 3957.12,-1473.5 3568.12,-1473.5"/>
<text text-anchor="start" x="3579.12" y="-1518.3" font-family="Arial" font-size="14.00">+ content: SpentProofContent</text>
<text text-anchor="start" x="3579.12" y="-1503.3" font-family="Arial" font-size="14.00">+ spentbook_pks: PublicKeySet</text>
<text text-anchor="start" x="3579.12" y="-1488.3" font-family="Arial" font-size="14.00">+ spentbook_sig_share: IndexedSignatureShare</text>
<polygon fill="white" stroke="none" points="3568.12,-1315.5 3568.12,-1473.5 3957.12,-1473.5 3957.12,-1315.5 3568.12,-1315.5"/>
<polygon fill="none" stroke="black" points="3568.12,-1315.5 3568.12,-1473.5 3957.12,-1473.5 3957.12,-1315.5 3568.12,-1315.5"/>
<text text-anchor="start" x="3579.12" y="-1451.3" font-family="Arial" font-size="14.00">&#45; eq(&amp;self, other: &amp;Self) &#45;&gt; bool</text>
<text text-anchor="start" x="3579.12" y="-1419.5" font-family="Arial" font-size="14.00">&#45; hash(&amp;self, state: &amp;mut H)</text>
<text text-anchor="start" x="3579.12" y="-1404.5" font-family="Arial" font-size="14.00">&#45; key_image(&amp;self) &#45;&gt; &amp;KeyImage</text>
<text text-anchor="start" x="3579.12" y="-1389.5" font-family="Arial" font-size="14.00">&#45; transaction_hash(&amp;self) &#45;&gt; Hash</text>
<text text-anchor="start" x="3579.12" y="-1374.5" font-family="Arial" font-size="14.00">&#45; public_commitments(&amp;self) &#45;&gt; &amp;Vec&lt;Commitment&gt;</text>
<text text-anchor="start" x="3579.12" y="-1359.5" font-family="Arial" font-size="14.00">&#45; spentbook_sig_share(&amp;self) &#45;&gt; &amp;IndexedSignatureShare</text>
<text text-anchor="start" x="3579.12" y="-1344.5" font-family="Arial" font-size="14.00">&#45; spentbook_pks(&amp;self) &#45;&gt; &amp;PublicKeySet</text>
<text text-anchor="start" x="3579.12" y="-1329.5" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<polygon fill="none" stroke="black" points="3566.62,-1314.5 3566.62,-1578.5 3957.62,-1578.5 3957.62,-1314.5 3566.62,-1314.5"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSpentProofShare -->
<g id="edge6" class="edge"><title>ndHash&#45;&gt;ndSpentProofShare</title>
<path fill="none" stroke="black" d="M3314.71,-2046.82C3559.74,-2026.92 3964.29,-1986.67 4009.12,-1935 4097.08,-1833.62 4069.11,-1753.07 4009.12,-1633 3999.65,-1614.04 3987.21,-1596.5 3972.95,-1580.42"/>
<polygon fill="black" stroke="black" points="3965.8,-1572.63 3975.88,-1576.96 3969.18,-1576.32 3972.57,-1580 3972.57,-1580 3972.57,-1580 3969.18,-1576.32 3969.25,-1583.04 3965.8,-1572.63 3965.8,-1572.63"/>
</g>
<!-- ndSpentProof -->
<g id="node18" class="node"><title>ndSpentProof</title>
<g id="a_node18_7"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/spent_proof.rs#:~:text=struct%20SpentProof" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="3165.12,-1509.5 3165.12,-1546.5 3531.12,-1546.5 3531.12,-1509.5 3165.12,-1509.5"/>
<polygon fill="none" stroke="black" points="3165.12,-1509.5 3165.12,-1546.5 3531.12,-1546.5 3531.12,-1509.5 3165.12,-1509.5"/>
<text text-anchor="start" x="3308.62" y="-1525.3" font-family="Arial" font-weight="bold" font-size="14.00">SpentProof</text>
<polygon fill="white" stroke="none" points="3165.12,-1442.5 3165.12,-1509.5 3531.12,-1509.5 3531.12,-1442.5 3165.12,-1442.5"/>
<polygon fill="none" stroke="black" points="3165.12,-1442.5 3165.12,-1509.5 3531.12,-1509.5 3531.12,-1442.5 3165.12,-1442.5"/>
<text text-anchor="start" x="3176.12" y="-1487.3" font-family="Arial" font-size="14.00">+ content: SpentProofContent</text>
<text text-anchor="start" x="3176.12" y="-1472.3" font-family="Arial" font-size="14.00">+ spentbook_pub_key: PublicKey</text>
<text text-anchor="start" x="3176.12" y="-1457.3" font-family="Arial" font-size="14.00">+ spentbook_sig: Signature</text>
<polygon fill="white" stroke="none" points="3165.12,-1345.5 3165.12,-1442.5 3531.12,-1442.5 3531.12,-1345.5 3165.12,-1345.5"/>
<polygon fill="none" stroke="black" points="3165.12,-1345.5 3165.12,-1442.5 3531.12,-1442.5 3531.12,-1345.5 3165.12,-1345.5"/>
<text text-anchor="start" x="3176.12" y="-1420.3" font-family="Arial" font-size="14.00">&#45; key_image(&amp;self) &#45;&gt; &amp;KeyImage</text>
<text text-anchor="start" x="3176.12" y="-1405.3" font-family="Arial" font-size="14.00">&#45; transaction_hash(&amp;self) &#45;&gt; Hash</text>
<text text-anchor="start" x="3176.12" y="-1390.3" font-family="Arial" font-size="14.00">&#45; public_commitments(&amp;self) &#45;&gt; &amp;Vec&lt;Commitment&gt;</text>
<text text-anchor="start" x="3176.12" y="-1375.3" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="3176.12" y="-1360.3" font-family="Arial" font-size="14.00">&#45; verify(&amp;self, tx_hash: Hash, verifier: &amp;K) &#45;&gt; Result&lt;()&gt;</text>
<polygon fill="none" stroke="black" points="3164.12,-1345 3164.12,-1548 3532.12,-1548 3532.12,-1345 3164.12,-1345"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSpentProof -->
<g id="edge7" class="edge"><title>ndHash&#45;&gt;ndSpentProof</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M3314.68,-2031.02C3421.6,-2009.89 3540.84,-1977.64 3573.12,-1935 3613.63,-1881.49 3601.75,-1693.7 3573.12,-1633 3563.9,-1613.45 3535.79,-1586.29 3502.42,-1558.79"/>
<polygon fill="black" stroke="black" points="3494.3,-1552.17 3504.89,-1555 3498.18,-1555.33 3502.05,-1558.49 3502.05,-1558.49 3502.05,-1558.49 3498.18,-1555.33 3499.21,-1561.98 3494.3,-1552.17 3494.3,-1552.17"/>
</g>
<!-- ndError -->
<g id="node2" class="node"><title>ndError</title>
<g id="a_node2_8"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/mock/error.rs#:~:text=enum%20Error" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="713.12,-1791 713.12,-1828 935.12,-1828 935.12,-1791 713.12,-1791"/>
<polygon fill="none" stroke="black" points="713.12,-1791 713.12,-1828 935.12,-1828 935.12,-1791 713.12,-1791"/>
<text text-anchor="start" x="805.62" y="-1806.8" font-family="Arial" font-weight="bold" font-size="14.00">Error</text>
<polygon fill="white" stroke="none" points="713.12,-1739 713.12,-1791 935.12,-1791 935.12,-1739 713.12,-1739"/>
<polygon fill="none" stroke="black" points="713.12,-1739 713.12,-1791 935.12,-1791 935.12,-1739 713.12,-1739"/>
<text text-anchor="start" x="724.12" y="-1768.8" font-family="Arial" font-size="14.00">KeyImageAlreadySpent</text>
<text text-anchor="start" x="724.12" y="-1753.8" font-family="Arial" font-size="14.00">RingSizeMismatch(usize, usize)</text>
<polygon fill="none" stroke="black" points="712.12,-1738.5 712.12,-1829.5 936.12,-1829.5 936.12,-1738.5 712.12,-1738.5"/>
</a>
</g>
</g>
<!-- ndDbc -->
<g id="node13" class="node"><title>ndDbc</title>
<g id="a_node13_9"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/dbc.rs#:~:text=struct%20Dbc" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="1362.12,-1217.5 1362.12,-1254.5 1904.12,-1254.5 1904.12,-1217.5 1362.12,-1217.5"/>
<polygon fill="none" stroke="black" points="1362.12,-1217.5 1362.12,-1254.5 1904.12,-1254.5 1904.12,-1217.5 1362.12,-1217.5"/>
<text text-anchor="start" x="1619.12" y="-1233.3" font-family="Arial" font-weight="bold" font-size="14.00">Dbc</text>
<polygon fill="white" stroke="none" points="1362.12,-1150.5 1362.12,-1217.5 1904.12,-1217.5 1904.12,-1150.5 1362.12,-1150.5"/>
<polygon fill="none" stroke="black" points="1362.12,-1150.5 1362.12,-1217.5 1904.12,-1217.5 1904.12,-1150.5 1362.12,-1150.5"/>
<text text-anchor="start" x="1373.12" y="-1195.3" font-family="Arial" font-size="14.00">+ content: DbcContent</text>
<text text-anchor="start" x="1373.12" y="-1180.3" font-family="Arial" font-size="14.00">+ transaction: RingCtTransaction</text>
<text text-anchor="start" x="1373.12" y="-1165.3" font-family="Arial" font-size="14.00">+ spent_proofs: BTreeSet&lt;SpentProof&gt;</text>
<polygon fill="white" stroke="none" points="1362.12,-873.5 1362.12,-1150.5 1904.12,-1150.5 1904.12,-873.5 1362.12,-873.5"/>
<polygon fill="none" stroke="black" points="1362.12,-873.5 1362.12,-1150.5 1904.12,-1150.5 1904.12,-873.5 1362.12,-873.5"/>
<text text-anchor="start" x="1373.12" y="-1128.3" font-family="Arial" font-size="14.00">&#45; owner_base(&amp;self) &#45;&gt; &amp;Owner</text>
<text text-anchor="start" x="1373.12" y="-1113.3" font-family="Arial" font-size="14.00">&#45; owner_once(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;Owner&gt;</text>
<text text-anchor="start" x="1373.12" y="-1098.3" font-family="Arial" font-size="14.00">&#45; owner_once_bearer(&amp;self) &#45;&gt; Result&lt;Owner&gt;</text>
<text text-anchor="start" x="1373.12" y="-1083.3" font-family="Arial" font-size="14.00">&#45; derivation_index(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;DerivationIndex&gt;</text>
<text text-anchor="start" x="1373.12" y="-1068.3" font-family="Arial" font-size="14.00">&#45; derivation_index_bearer(&amp;self) &#45;&gt; Result&lt;DerivationIndex&gt;</text>
<text text-anchor="start" x="1373.12" y="-1053.3" font-family="Arial" font-size="14.00">&#45; is_bearer(&amp;self) &#45;&gt; bool</text>
<text text-anchor="start" x="1373.12" y="-1038.3" font-family="Arial" font-size="14.00">&#45; amount_secrets(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;AmountSecrets&gt;</text>
<text text-anchor="start" x="1373.12" y="-1023.3" font-family="Arial" font-size="14.00">&#45; amount_secrets_bearer(&amp;self) &#45;&gt; Result&lt;AmountSecrets&gt;</text>
<text text-anchor="start" x="1373.12" y="-1008.3" font-family="Arial" font-size="14.00">&#45; key_image(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;KeyImage&gt;</text>
<text text-anchor="start" x="1373.12" y="-993.3" font-family="Arial" font-size="14.00">&#45; key_image_bearer(&amp;self) &#45;&gt; Result&lt;KeyImage&gt;</text>
<text text-anchor="start" x="1373.12" y="-978.3" font-family="Arial" font-size="14.00">&#45; as_true_input(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;TrueInput&gt;</text>
<text text-anchor="start" x="1373.12" y="-963.3" font-family="Arial" font-size="14.00">&#45; as_true_input_bearer(&amp;self) &#45;&gt; Result&lt;TrueInput&gt;</text>
<text text-anchor="start" x="1373.12" y="-948.3" font-family="Arial" font-size="14.00">&#45; hash(&amp;self) &#45;&gt; [u8; 32]</text>
<text text-anchor="start" x="1373.12" y="-933.3" font-family="Arial" font-size="14.00">&#45; verify(&amp;self, base_sk: &amp;SecretKey, verifier: &amp;K) &#45;&gt; Result&lt;(), Error&gt;</text>
<text text-anchor="start" x="1373.12" y="-918.3" font-family="Arial" font-size="14.00">&#45; verify_bearer(&amp;self, verifier: &amp;K) &#45;&gt; Result&lt;(), Error&gt;</text>
<text text-anchor="start" x="1373.12" y="-903.3" font-family="Arial" font-size="14.00">&#45; verify_amount_matches_commitment(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="1373.12" y="-888.3" font-family="Arial" font-size="14.00">&#45; my_output_proof(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;&amp;OutputProof&gt;</text>
<polygon fill="none" stroke="black" points="1361.12,-873 1361.12,-1256 1905.12,-1256 1905.12,-873 1361.12,-873"/>
</a>
</g>
</g>
<!-- ndError&#45;&gt;ndDbc -->
<g id="edge8" class="edge"><title>ndError&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M822.511,-1734.37C819.127,-1617.4 813.828,-1327.62 843.12,-1296 890.404,-1244.97 1086.72,-1277.24 1154.12,-1260 1216.77,-1243.97 1282.1,-1221.56 1343.63,-1197.62"/>
<polygon fill="black" stroke="black" points="1353.08,-1193.93 1345.41,-1201.76 1348.42,-1195.75 1343.77,-1197.57 1343.77,-1197.57 1343.77,-1197.57 1348.42,-1195.75 1342.13,-1193.38 1353.08,-1193.93 1353.08,-1193.93"/>
</g>
<!-- ndAmountSecrets -->
<g id="node19" class="node"><title>ndAmountSecrets</title>
<g id="a_node19_10"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/amount_secrets.rs#:~:text=struct%20AmountSecrets" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="95.12,-1554.5 95.12,-1591.5 787.12,-1591.5 787.12,-1554.5 95.12,-1554.5"/>
<polygon fill="none" stroke="black" points="95.12,-1554.5 95.12,-1591.5 787.12,-1591.5 787.12,-1554.5 95.12,-1554.5"/>
<text text-anchor="start" x="387.12" y="-1570.3" font-family="Arial" font-weight="bold" font-size="14.00">AmountSecrets</text>
<polygon fill="white" stroke="none" points="95.12,-1517.5 95.12,-1554.5 787.12,-1554.5 787.12,-1517.5 95.12,-1517.5"/>
<polygon fill="none" stroke="black" points="95.12,-1517.5 95.12,-1554.5 787.12,-1554.5 787.12,-1517.5 95.12,-1517.5"/>
<text text-anchor="start" x="106.12" y="-1532.3" font-family="Arial" font-size="14.00">&#45; RevealedCommitment</text>
<polygon fill="white" stroke="none" points="95.12,-1300.5 95.12,-1517.5 787.12,-1517.5 787.12,-1300.5 95.12,-1300.5"/>
<polygon fill="none" stroke="black" points="95.12,-1300.5 95.12,-1517.5 787.12,-1517.5 787.12,-1300.5 95.12,-1300.5"/>
<text text-anchor="start" x="106.12" y="-1495.3" font-family="Arial" font-size="14.00">&#45; amount(&amp;self) &#45;&gt; Amount</text>
<text text-anchor="start" x="106.12" y="-1480.3" font-family="Arial" font-size="14.00">&#45; blinding_factor(&amp;self) &#45;&gt; BlindingFactor</text>
<text text-anchor="start" x="106.12" y="-1465.3" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="106.12" y="-1450.3" font-family="Arial" font-size="14.00">&#45; from_bytes(bytes: [u8; AMT_SIZE + BF_SIZE]) &#45;&gt; Self</text>
<text text-anchor="start" x="106.12" y="-1435.3" font-family="Arial" font-size="14.00">&#45; from_bytes_ref(bytes: &amp;[u8]) &#45;&gt; Result&lt;Self, Error&gt;</text>
<text text-anchor="start" x="106.12" y="-1420.3" font-family="Arial" font-size="14.00">&#45; from_amount(amount: Amount, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="106.12" y="-1405.3" font-family="Arial" font-size="14.00">&#45; encrypt(&amp;self, public_key: &amp;PublicKey) &#45;&gt; Ciphertext</text>
<text text-anchor="start" x="106.12" y="-1390.3" font-family="Arial" font-size="14.00">&#45; from(revealed_commitment: RevealedCommitment) &#45;&gt; Self</text>
<text text-anchor="start" x="106.12" y="-1375.3" font-family="Arial" font-size="14.00">&#45; from(params: (Amount, BlindingFactor)) &#45;&gt; Self</text>
<text text-anchor="start" x="106.12" y="-1360.3" font-family="Arial" font-size="14.00">&#45; try_from(params: (&amp;SecretKey, &amp;Ciphertext)) &#45;&gt; Result&lt;Self, Error&gt;</text>
<text text-anchor="start" x="106.12" y="-1345.3" font-family="Arial" font-size="14.00">&#45; try_from(params: (&amp;SecretKeySet, &amp;Ciphertext)) &#45;&gt; Result&lt;Self, Error&gt;</text>
<text text-anchor="start" x="106.12" y="-1330.3" font-family="Arial" font-size="14.00">&#45; try_from(params: (&amp;PublicKeySet, &amp;BTreeMap&lt;I, SecretKeyShare&gt;, &amp;Ciphertext)) &#45;&gt; Result&lt;Self, Error&gt;</text>
<text text-anchor="start" x="106.12" y="-1315.3" font-family="Arial" font-size="14.00">&#45; try_from(params: (&amp;PublicKeySet, &amp;BTreeMap&lt;I, DecryptionShare&gt;, &amp;Ciphertext)) &#45;&gt; Result&lt;Self, Error&gt;</text>
<polygon fill="none" stroke="black" points="94.12,-1300 94.12,-1593 788.12,-1593 788.12,-1300 94.12,-1300"/>
</a>
</g>
</g>
<!-- ndError&#45;&gt;ndAmountSecrets -->
<g id="edge9" class="edge"><title>ndError&#45;&gt;ndAmountSecrets</title>
<path fill="none" stroke="black" d="M768.429,-1734.22C728.898,-1699.59 673.46,-1651.02 619.429,-1603.69"/>
<polygon fill="black" stroke="black" points="611.816,-1597.03 622.303,-1600.23 615.577,-1600.32 619.338,-1603.62 619.338,-1603.62 619.338,-1603.62 615.577,-1600.32 616.373,-1607 611.816,-1597.03 611.816,-1597.03"/>
</g>
<!-- ndTransactionVerifier -->
<g id="node20" class="node"><title>ndTransactionVerifier</title>
<g id="a_node20_11"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/verification.rs#:~:text=struct%20TransactionVerifier" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="862.12,-1446.5 862.12,-1483.5 1599.12,-1483.5 1599.12,-1446.5 862.12,-1446.5"/>
<polygon fill="none" stroke="black" points="862.12,-1446.5 862.12,-1483.5 1599.12,-1483.5 1599.12,-1446.5 862.12,-1446.5"/>
<text text-anchor="start" x="1164.12" y="-1462.3" font-family="Arial" font-weight="bold" font-size="14.00">TransactionVerifier</text>
<polygon fill="white" stroke="none" points="862.12,-1409.5 862.12,-1446.5 1599.12,-1446.5 1599.12,-1409.5 862.12,-1409.5"/>
<polygon fill="none" stroke="black" points="862.12,-1409.5 862.12,-1446.5 1599.12,-1446.5 1599.12,-1409.5 862.12,-1409.5"/>
<text text-anchor="start" x="873.12" y="-1424.3" font-family="Arial" font-size="14.00">&#45; verify(verifier: &amp;K, transaction: &amp;RingCtTransaction, spent_proofs: &amp;BTreeSet&lt;SpentProof&gt;) &#45;&gt; Result&lt;(), Error&gt;</text>
<polygon fill="none" stroke="black" points="860.62,-1408.5 860.62,-1484.5 1599.62,-1484.5 1599.62,-1408.5 860.62,-1408.5"/>
</a>
</g>
</g>
<!-- ndError&#45;&gt;ndTransactionVerifier -->
<g id="edge10" class="edge"><title>ndError&#45;&gt;ndTransactionVerifier</title>
<path fill="none" stroke="black" d="M883.156,-1734.22C960.501,-1670.3 1095.29,-1558.91 1172.12,-1495.43"/>
<polygon fill="black" stroke="black" points="1180.28,-1488.68 1175.44,-1498.52 1176.43,-1491.87 1172.57,-1495.05 1172.57,-1495.05 1172.57,-1495.05 1176.43,-1491.87 1169.71,-1491.58 1180.28,-1488.68 1180.28,-1488.68"/>
</g>
<!-- ndIndexedSignatureShare -->
<g id="node3" class="node"><title>ndIndexedSignatureShare</title>
<g id="a_node3_12"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/key_manager.rs#:~:text=struct%20IndexedSignatureShare" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="3165.12,-1825 3165.12,-1862 3555.12,-1862 3555.12,-1825 3165.12,-1825"/>
<polygon fill="none" stroke="black" points="3165.12,-1825 3165.12,-1862 3555.12,-1862 3555.12,-1825 3165.12,-1825"/>
<text text-anchor="start" x="3277.62" y="-1840.8" font-family="Arial" font-weight="bold" font-size="14.00">IndexedSignatureShare</text>
<polygon fill="white" stroke="none" points="3165.12,-1773 3165.12,-1825 3555.12,-1825 3555.12,-1773 3165.12,-1773"/>
<polygon fill="none" stroke="black" points="3165.12,-1773 3165.12,-1825 3555.12,-1825 3555.12,-1773 3165.12,-1773"/>
<text text-anchor="start" x="3176.12" y="-1802.8" font-family="Arial" font-size="14.00">&#45; index: u64</text>
<text text-anchor="start" x="3176.12" y="-1787.8" font-family="Arial" font-size="14.00">&#45; signature_share: SignatureShare</text>
<polygon fill="white" stroke="none" points="3165.12,-1706 3165.12,-1773 3555.12,-1773 3555.12,-1706 3165.12,-1706"/>
<polygon fill="none" stroke="black" points="3165.12,-1706 3165.12,-1773 3555.12,-1773 3555.12,-1706 3165.12,-1706"/>
<text text-anchor="start" x="3176.12" y="-1750.8" font-family="Arial" font-size="14.00">&#45; new(index: u64, signature_share: SignatureShare) &#45;&gt; Self</text>
<text text-anchor="start" x="3176.12" y="-1735.8" font-family="Arial" font-size="14.00">&#45; threshold_crypto(&amp;self) &#45;&gt; (u64, &amp;SignatureShare)</text>
<text text-anchor="start" x="3176.12" y="-1720.8" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<polygon fill="none" stroke="black" points="3164.12,-1705 3164.12,-1863 3556.12,-1863 3556.12,-1705 3164.12,-1705"/>
</a>
</g>
</g>
<!-- ndIndexedSignatureShare&#45;&gt;ndKeyManager -->
<g id="edge11" class="edge"><title>ndIndexedSignatureShare&#45;&gt;ndKeyManager</title>
<path fill="none" stroke="black" d="M3223.04,-1700.84C3185.83,-1678.69 3145.49,-1654.82 3108.12,-1633 3070,-1610.75 3029.24,-1587.2 2989.93,-1564.64"/>
<polygon fill="black" stroke="black" points="2981.04,-1559.53 2991.95,-1560.61 2985.37,-1562.02 2989.71,-1564.51 2989.71,-1564.51 2989.71,-1564.51 2985.37,-1562.02 2987.47,-1568.41 2981.04,-1559.53 2981.04,-1559.53"/>
</g>
<!-- ndIndexedSignatureShare&#45;&gt;ndSpentProofShare -->
<g id="edge12" class="edge"><title>ndIndexedSignatureShare&#45;&gt;ndSpentProofShare</title>
<path fill="none" stroke="black" d="M3458.46,-1700.93C3498.36,-1667.62 3545.65,-1628.16 3590.88,-1590.42"/>
<polygon fill="black" stroke="black" points="3590.98,-1590.33 3593.02,-1583.42 3600.19,-1582.64 3598.15,-1589.56 3590.98,-1590.33"/>
</g>
<!-- ndKeyManager&#45;&gt;ndSpentBookNode -->
<g id="edge13" class="edge"><title>ndKeyManager&#45;&gt;ndSpentBookNode</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2793.27,-1333.29C2796.42,-1294.76 2799.98,-1251.09 2803.3,-1210.35"/>
<polygon fill="black" stroke="black" points="2804.12,-1200.33 2807.79,-1210.67 2803.71,-1205.32 2803.31,-1210.3 2803.31,-1210.3 2803.31,-1210.3 2803.71,-1205.32 2798.82,-1209.93 2804.12,-1200.33 2804.12,-1200.33"/>
</g>
<!-- ndDbcContent&#45;&gt;ndDbc -->
<g id="edge14" class="edge"><title>ndDbcContent&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M1842.58,-1340.91C1825.69,-1318.7 1807.3,-1294.53 1788.67,-1270.03"/>
<polygon fill="black" stroke="black" points="1788.51,-1269.81 1781.69,-1267.46 1781.24,-1260.26 1788.06,-1262.62 1788.51,-1269.81"/>
</g>
<!-- ndGenesisMaterial -->
<g id="node6" class="node"><title>ndGenesisMaterial</title>
<g id="a_node6_13"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/genesis.rs#:~:text=struct%20GenesisMaterial" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="560.12,-1105.5 560.12,-1142.5 787.12,-1142.5 787.12,-1105.5 560.12,-1105.5"/>
<polygon fill="none" stroke="black" points="560.12,-1105.5 560.12,-1142.5 787.12,-1142.5 787.12,-1105.5 560.12,-1105.5"/>
<text text-anchor="start" x="617.12" y="-1121.3" font-family="Arial" font-weight="bold" font-size="14.00">GenesisMaterial</text>
<polygon fill="white" stroke="none" points="560.12,-1038.5 560.12,-1105.5 787.12,-1105.5 787.12,-1038.5 560.12,-1038.5"/>
<polygon fill="none" stroke="black" points="560.12,-1038.5 560.12,-1105.5 787.12,-1105.5 787.12,-1038.5 560.12,-1038.5"/>
<text text-anchor="start" x="571.12" y="-1083.3" font-family="Arial" font-size="14.00">+ ringct_material: RingCtMaterial</text>
<text text-anchor="start" x="571.12" y="-1068.3" font-family="Arial" font-size="14.00">+ owner_once: OwnerOnce</text>
<text text-anchor="start" x="571.12" y="-1053.3" font-family="Arial" font-size="14.00">+ input_key_image: KeyImage</text>
<polygon fill="white" stroke="none" points="560.12,-985.5 560.12,-1038.5 787.12,-1038.5 787.12,-985.5 560.12,-985.5"/>
<polygon fill="none" stroke="black" points="560.12,-985.5 560.12,-1038.5 787.12,-1038.5 787.12,-985.5 560.12,-985.5"/>
<text text-anchor="start" x="571.12" y="-1001.3" font-family="Arial" font-size="14.00">&#45; default() &#45;&gt; Self</text>
<polygon fill="none" stroke="black" points="558.62,-985 558.62,-1144 787.62,-1144 787.62,-985 558.62,-985"/>
</a>
</g>
</g>
<!-- ndGenesisBuilder -->
<g id="node7" class="node"><title>ndGenesisBuilder</title>
<g id="a_node7_14"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/mock/genesis_builder.rs#:~:text=struct%20GenesisBuilder" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="493.12,-768 493.12,-805 1575.12,-805 1575.12,-768 493.12,-768"/>
<polygon fill="none" stroke="black" points="493.12,-768 493.12,-805 1575.12,-805 1575.12,-768 493.12,-768"/>
<text text-anchor="start" x="980.12" y="-783.8" font-family="Arial" font-weight="bold" font-size="14.00">GenesisBuilder</text>
<polygon fill="white" stroke="none" points="493.12,-716 493.12,-768 1575.12,-768 1575.12,-716 493.12,-716"/>
<polygon fill="none" stroke="black" points="493.12,-716 493.12,-768 1575.12,-768 1575.12,-716 493.12,-716"/>
<text text-anchor="start" x="504.12" y="-745.8" font-family="Arial" font-size="14.00">+ genesis_amount: Amount</text>
<text text-anchor="start" x="504.12" y="-730.8" font-family="Arial" font-size="14.00">+ spentbook_nodes: Vec&lt;mock::SpentBookNode&gt;</text>
<polygon fill="white" stroke="none" points="493.12,-604 493.12,-716 1575.12,-716 1575.12,-604 493.12,-604"/>
<polygon fill="none" stroke="black" points="493.12,-604 493.12,-716 1575.12,-716 1575.12,-604 493.12,-604"/>
<text text-anchor="start" x="504.12" y="-693.8" font-family="Arial" font-size="14.00">&#45; gen_spentbook_nodes(mut self, num_nodes: usize, rng: &amp;mut impl crate::rand::RngCore) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="504.12" y="-678.8" font-family="Arial" font-size="14.00">&#45; gen_spentbook_nodes_with_sks(mut self, num_nodes: usize, sks: &amp;SecretKeySet) &#45;&gt; Self</text>
<text text-anchor="start" x="504.12" y="-663.8" font-family="Arial" font-size="14.00">&#45; add_spentbook_node(mut self, spentbook_node: mock::SpentBookNode) &#45;&gt; Self</text>
<text text-anchor="start" x="504.12" y="-648.8" font-family="Arial" font-size="14.00">&#45; build(mut self, rng: &amp;mut (impl RngCore + CryptoRng)) &#45;&gt; Result&lt;(Vec&lt;mock::SpentBookNode&gt;, Dbc, GenesisMaterial, AmountSecrets)&gt;</text>
<text text-anchor="start" x="504.12" y="-633.8" font-family="Arial" font-size="14.00">&#45; init_genesis(num_spentbook_nodes: usize, rng: &amp;mut (impl RngCore + CryptoRng)) &#45;&gt; Result&lt;(Vec&lt;mock::SpentBookNode&gt;, Dbc, GenesisMaterial, AmountSecrets)&gt;</text>
<text text-anchor="start" x="504.12" y="-618.8" font-family="Arial" font-size="14.00">&#45; init_genesis_single(rng: &amp;mut (impl RngCore + CryptoRng)) &#45;&gt; Result&lt;(mock::SpentBookNode, Dbc, GenesisMaterial, AmountSecrets)&gt;</text>
<polygon fill="none" stroke="black" points="492.12,-603.5 492.12,-806.5 1576.12,-806.5 1576.12,-603.5 492.12,-603.5"/>
</a>
</g>
</g>
<!-- ndGenesisMaterial&#45;&gt;ndGenesisBuilder -->
<g id="edge15" class="edge"><title>ndGenesisMaterial&#45;&gt;ndGenesisBuilder</title>
<path fill="none" stroke="black" d="M756.848,-980.584C805.785,-932.121 868.197,-870.315 921.411,-817.616"/>
<polygon fill="black" stroke="black" points="928.521,-810.575 924.582,-820.809 924.968,-814.094 921.415,-817.612 921.415,-817.612 921.415,-817.612 924.968,-814.094 918.249,-814.414 928.521,-810.575 928.521,-810.575"/>
</g>
<!-- ndSigner -->
<g id="node8" class="node"><title>ndSigner</title>
<g id="a_node8_15"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/mock/key_manager.rs#:~:text=struct%20Signer" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="1953.12,-1847 1953.12,-1884 2525.12,-1884 2525.12,-1847 1953.12,-1847"/>
<polygon fill="none" stroke="black" points="1953.12,-1847 1953.12,-1884 2525.12,-1884 2525.12,-1847 1953.12,-1847"/>
<text text-anchor="start" x="2216.12" y="-1862.8" font-family="Arial" font-weight="bold" font-size="14.00">Signer</text>
<polygon fill="white" stroke="none" points="1953.12,-1795 1953.12,-1847 2525.12,-1847 2525.12,-1795 1953.12,-1795"/>
<polygon fill="none" stroke="black" points="1953.12,-1795 1953.12,-1847 2525.12,-1847 2525.12,-1795 1953.12,-1795"/>
<text text-anchor="start" x="1964.12" y="-1824.8" font-family="Arial" font-size="14.00">&#45; public_key_set: PublicKeySet</text>
<text text-anchor="start" x="1964.12" y="-1809.8" font-family="Arial" font-size="14.00">&#45; secret_key_share: (u64, SerdeSecret&lt;SecretKeyShare&gt;)</text>
<polygon fill="white" stroke="none" points="1953.12,-1683 1953.12,-1795 2525.12,-1795 2525.12,-1683 1953.12,-1683"/>
<polygon fill="none" stroke="black" points="1953.12,-1683 1953.12,-1795 2525.12,-1795 2525.12,-1683 1953.12,-1683"/>
<text text-anchor="start" x="1964.12" y="-1772.8" font-family="Arial" font-size="14.00">&#45; from(outcome: (PublicKeySet, SecretKeyShare, usize)) &#45;&gt; Self</text>
<text text-anchor="start" x="1964.12" y="-1757.8" font-family="Arial" font-size="14.00">&#45; new(public_key_set: PublicKeySet, secret_key_share: (u64, SecretKeyShare)) &#45;&gt; Self</text>
<text text-anchor="start" x="1964.12" y="-1742.8" font-family="Arial" font-size="14.00">&#45; index(&amp;self) &#45;&gt; u64</text>
<text text-anchor="start" x="1964.12" y="-1727.8" font-family="Arial" font-size="14.00">&#45; public_key_set(&amp;self) &#45;&gt; PublicKeySet</text>
<text text-anchor="start" x="1964.12" y="-1712.8" font-family="Arial" font-size="14.00">&#45; sign(&amp;self, msg: M) &#45;&gt; blsttc::SignatureShare</text>
<text text-anchor="start" x="1964.12" y="-1697.8" font-family="Arial" font-size="14.00">&#45; derive_child(&amp;self, index: &amp;[u8]) &#45;&gt; Self</text>
<polygon fill="none" stroke="black" points="1952.12,-1682.5 1952.12,-1885.5 2526.12,-1885.5 2526.12,-1682.5 1952.12,-1682.5"/>
</a>
</g>
</g>
<!-- ndSigner&#45;&gt;ndKeyManager -->
<g id="edge16" class="edge"><title>ndSigner&#45;&gt;ndKeyManager</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2408.95,-1678.46C2467.31,-1642.53 2533.03,-1602.07 2592.96,-1565.17"/>
<polygon fill="black" stroke="black" points="2601.76,-1559.76 2595.61,-1568.83 2597.51,-1562.38 2593.25,-1565 2593.25,-1565 2593.25,-1565 2597.51,-1562.38 2590.89,-1561.17 2601.76,-1559.76 2601.76,-1559.76"/>
</g>
<!-- ndKeys&#45;&gt;ndKeyManager -->
<g id="edge17" class="edge"><title>ndKeys&#45;&gt;ndKeyManager</title>
<path fill="none" stroke="black" d="M2830.2,-1700.93C2823.14,-1662.09 2814.55,-1614.89 2806.72,-1571.79"/>
<polygon fill="black" stroke="black" points="2806.68,-1571.56 2801.67,-1566.37 2804.53,-1559.75 2809.54,-1564.94 2806.68,-1571.56"/>
</g>
<!-- ndSpentBookNode&#45;&gt;ndGenesisBuilder -->
<g id="edge18" class="edge"><title>ndSpentBookNode&#45;&gt;ndGenesisBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2405.38,-966.262C2254.09,-932.473 2080.85,-896.255 1922.12,-869 1796.29,-847.393 1763.03,-854.174 1637.12,-833 1599.8,-826.723 1561.27,-819.756 1522.59,-812.409"/>
<polygon fill="black" stroke="black" points="1512.76,-810.533 1523.42,-807.986 1517.67,-811.469 1522.58,-812.406 1522.58,-812.406 1522.58,-812.406 1517.67,-811.469 1521.74,-816.827 1512.76,-810.533 1512.76,-810.533"/>
</g>
<!-- ndOwner -->
<g id="node11" class="node"><title>ndOwner</title>
<g id="a_node11_16"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/owner.rs#:~:text=enum%20Owner" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="1436.12,-1893 1436.12,-1930 1837.12,-1930 1837.12,-1893 1436.12,-1893"/>
<polygon fill="none" stroke="black" points="1436.12,-1893 1436.12,-1930 1837.12,-1930 1837.12,-1893 1436.12,-1893"/>
<text text-anchor="start" x="1613.62" y="-1908.8" font-family="Arial" font-weight="bold" font-size="14.00">Owner</text>
<polygon fill="white" stroke="none" points="1436.12,-1841 1436.12,-1893 1837.12,-1893 1837.12,-1841 1436.12,-1841"/>
<polygon fill="none" stroke="black" points="1436.12,-1841 1436.12,-1893 1837.12,-1893 1837.12,-1841 1436.12,-1841"/>
<text text-anchor="start" x="1447.12" y="-1870.8" font-family="Arial" font-size="14.00">SecretKey(SerdeSecret&lt;SecretKey&gt;)</text>
<text text-anchor="start" x="1447.12" y="-1855.8" font-family="Arial" font-size="14.00">PublicKey(PublicKey)</text>
<polygon fill="white" stroke="none" points="1436.12,-1638 1436.12,-1841 1837.12,-1841 1837.12,-1638 1436.12,-1638"/>
<polygon fill="none" stroke="black" points="1436.12,-1638 1436.12,-1841 1837.12,-1841 1837.12,-1638 1436.12,-1638"/>
<text text-anchor="start" x="1447.12" y="-1818.8" font-family="Arial" font-size="14.00">&#45; fmt(&amp;self, f: &amp;mut fmt::Formatter&lt;&#39;_&gt;) &#45;&gt; fmt::Result</text>
<text text-anchor="start" x="1447.12" y="-1803.8" font-family="Arial" font-size="14.00">&#45; from(s: SecretKey) &#45;&gt; Self</text>
<text text-anchor="start" x="1447.12" y="-1788.8" font-family="Arial" font-size="14.00">&#45; from(p: PublicKey) &#45;&gt; Self</text>
<text text-anchor="start" x="1447.12" y="-1773.8" font-family="Arial" font-size="14.00">&#45; eq(&amp;self, other: &amp;Self) &#45;&gt; bool</text>
<text text-anchor="start" x="1447.12" y="-1742" font-family="Arial" font-size="14.00">&#45; public_key(&amp;self) &#45;&gt; PublicKey</text>
<text text-anchor="start" x="1447.12" y="-1727" font-family="Arial" font-size="14.00">&#45; secret_key(&amp;self) &#45;&gt; Result&lt;SecretKey&gt;</text>
<text text-anchor="start" x="1447.12" y="-1712" font-family="Arial" font-size="14.00">&#45; derive(&amp;self, i: &amp;DerivationIndex) &#45;&gt; Self</text>
<text text-anchor="start" x="1447.12" y="-1697" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="1447.12" y="-1682" font-family="Arial" font-size="14.00">&#45; has_secret_key(&amp;self) &#45;&gt; bool</text>
<text text-anchor="start" x="1447.12" y="-1667" font-family="Arial" font-size="14.00">&#45; from_random_secret_key(rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="1447.12" y="-1652" font-family="Arial" font-size="14.00">&#45; from(o: OwnerOnce) &#45;&gt; Self</text>
<polygon fill="none" stroke="black" points="1434.62,-1637 1434.62,-1931 1837.62,-1931 1837.62,-1637 1434.62,-1637"/>
</a>
</g>
</g>
<!-- ndOwner&#45;&gt;ndDbcContent -->
<g id="edge19" class="edge"><title>ndOwner&#45;&gt;ndDbcContent</title>
<path fill="none" stroke="black" d="M1764.06,-1632.91C1784.45,-1608.99 1805.26,-1584.59 1824.79,-1561.67"/>
<polygon fill="black" stroke="black" points="1825.01,-1561.42 1825.86,-1554.26 1832.79,-1552.29 1831.94,-1559.45 1825.01,-1561.42"/>
</g>
<!-- ndOwnerOnce -->
<g id="node12" class="node"><title>ndOwnerOnce</title>
<g id="a_node12_17"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/owner.rs#:~:text=struct%20OwnerOnce" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="1393.12,-2109.5 1393.12,-2146.5 1880.12,-2146.5 1880.12,-2109.5 1393.12,-2109.5"/>
<polygon fill="none" stroke="black" points="1393.12,-2109.5 1393.12,-2146.5 1880.12,-2146.5 1880.12,-2109.5 1393.12,-2109.5"/>
<text text-anchor="start" x="1595.12" y="-2125.3" font-family="Arial" font-weight="bold" font-size="14.00">OwnerOnce</text>
<polygon fill="white" stroke="none" points="1393.12,-2057.5 1393.12,-2109.5 1880.12,-2109.5 1880.12,-2057.5 1393.12,-2057.5"/>
<polygon fill="none" stroke="black" points="1393.12,-2057.5 1393.12,-2109.5 1880.12,-2109.5 1880.12,-2057.5 1393.12,-2057.5"/>
<text text-anchor="start" x="1404.12" y="-2087.3" font-family="Arial" font-size="14.00">+ owner_base: Owner</text>
<text text-anchor="start" x="1404.12" y="-2072.3" font-family="Arial" font-size="14.00">+ derivation_index: DerivationIndex</text>
<polygon fill="white" stroke="none" points="1393.12,-1975.5 1393.12,-2057.5 1880.12,-2057.5 1880.12,-1975.5 1393.12,-1975.5"/>
<polygon fill="none" stroke="black" points="1393.12,-1975.5 1393.12,-2057.5 1880.12,-2057.5 1880.12,-1975.5 1393.12,-1975.5"/>
<text text-anchor="start" x="1404.12" y="-2035.3" font-family="Arial" font-size="14.00">&#45; owner_base(&amp;self) &#45;&gt; &amp;Owner</text>
<text text-anchor="start" x="1404.12" y="-2020.3" font-family="Arial" font-size="14.00">&#45; as_owner(&amp;self) &#45;&gt; Owner</text>
<text text-anchor="start" x="1404.12" y="-2005.3" font-family="Arial" font-size="14.00">&#45; from_owner_base(owner_base: Owner, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="1404.12" y="-1990.3" font-family="Arial" font-size="14.00">&#45; random_derivation_index(rng: &amp;mut impl RngCore) &#45;&gt; [u8; 32]</text>
<polygon fill="none" stroke="black" points="1391.62,-1975 1391.62,-2148 1880.62,-2148 1880.62,-1975 1391.62,-1975"/>
</a>
</g>
</g>
<!-- ndOwner&#45;&gt;ndOwnerOnce -->
<g id="edge20" class="edge"><title>ndOwner&#45;&gt;ndOwnerOnce</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1642.85,-1935.14C1642.81,-1942.99 1642.75,-1950.78 1642.66,-1958.41"/>
<polygon fill="black" stroke="black" points="1642.66,-1958.67 1646.58,-1964.73 1642.49,-1970.67 1638.58,-1964.62 1642.66,-1958.67"/>
</g>
<!-- ndOwner&#45;&gt;ndDbc -->
<g id="edge21" class="edge"><title>ndOwner&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M1635.49,-1632.59C1635.05,-1527.38 1634.46,-1385.58 1633.98,-1270.1"/>
<polygon fill="black" stroke="black" points="1633.93,-1260.07 1638.48,-1270.05 1633.95,-1265.07 1633.98,-1270.07 1633.98,-1270.07 1633.98,-1270.07 1633.95,-1265.07 1629.48,-1270.09 1633.93,-1260.07 1633.93,-1260.07"/>
</g>
<!-- ndOwnerOnce&#45;&gt;ndGenesisMaterial -->
<g id="edge22" class="edge"><title>ndOwnerOnce&#45;&gt;ndGenesisMaterial</title>
<path fill="none" stroke="black" d="M1383.39,-2051.91C1190.68,-2039.4 920.858,-2008.94 695.12,-1935 397.61,-1837.55 236.775,-1866.29 77.12,-1597 43.0082,-1539.46 39.3029,-1351.17 77.12,-1296 180.196,-1145.62 396.536,-1093.32 538.248,-1075.15"/>
<polygon fill="black" stroke="black" points="538.534,-1075.12 543.999,-1070.41 550.444,-1073.65 544.978,-1078.35 538.534,-1075.12"/>
</g>
<!-- ndOwnerOnce&#45;&gt;ndOwner -->
<g id="edge23" class="edge"><title>ndOwnerOnce&#45;&gt;ndOwner</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1629.75,-1970.67C1629.61,-1962.43 1629.51,-1953.93 1629.45,-1945.31"/>
<polygon fill="black" stroke="black" points="1629.39,-1935.14 1633.95,-1945.12 1629.42,-1940.14 1629.45,-1945.14 1629.45,-1945.14 1629.45,-1945.14 1629.42,-1940.14 1624.95,-1945.17 1629.39,-1935.14 1629.39,-1935.14"/>
</g>
<!-- ndTransactionBuilder -->
<g id="node14" class="node"><title>ndTransactionBuilder</title>
<g id="a_node14_18"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/builder.rs#:~:text=struct%20TransactionBuilder" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="705.12,-498.5 705.12,-535.5 1360.12,-535.5 1360.12,-498.5 705.12,-498.5"/>
<polygon fill="none" stroke="black" points="705.12,-498.5 705.12,-535.5 1360.12,-535.5 1360.12,-498.5 705.12,-498.5"/>
<text text-anchor="start" x="965.62" y="-514.3" font-family="Arial" font-weight="bold" font-size="14.00">TransactionBuilder</text>
<polygon fill="white" stroke="none" points="705.12,-386.5 705.12,-498.5 1360.12,-498.5 1360.12,-386.5 705.12,-386.5"/>
<polygon fill="none" stroke="black" points="705.12,-386.5 705.12,-498.5 1360.12,-498.5 1360.12,-386.5 705.12,-386.5"/>
<text text-anchor="start" x="716.12" y="-476.3" font-family="Arial" font-size="14.00">&#45; true_inputs: Vec&lt;TrueInput&gt;</text>
<text text-anchor="start" x="716.12" y="-461.3" font-family="Arial" font-size="14.00">&#45; ringct_material: RingCtMaterial</text>
<text text-anchor="start" x="716.12" y="-446.3" font-family="Arial" font-size="14.00">&#45; output_owner_map: OutputOwnerMap</text>
<text text-anchor="start" x="716.12" y="-431.3" font-family="Arial" font-size="14.00">&#45; available_decoys: Vec&lt;DecoyInput&gt;</text>
<text text-anchor="start" x="716.12" y="-416.3" font-family="Arial" font-size="14.00">&#45; decoys_per_input: usize</text>
<text text-anchor="start" x="716.12" y="-401.3" font-family="Arial" font-size="14.00">&#45; require_all_decoys: bool</text>
<polygon fill="white" stroke="none" points="705.12,-4.5 705.12,-386.5 1360.12,-386.5 1360.12,-4.5 705.12,-4.5"/>
<polygon fill="none" stroke="black" points="705.12,-4.5 705.12,-386.5 1360.12,-386.5 1360.12,-4.5 705.12,-4.5"/>
<text text-anchor="start" x="716.12" y="-364.3" font-family="Arial" font-size="14.00">&#45; default() &#45;&gt; Self</text>
<text text-anchor="start" x="716.12" y="-349.3" font-family="Arial" font-size="14.00">&#45; set_decoys_per_input(mut self, decoys_per_input: usize) &#45;&gt; Self</text>
<text text-anchor="start" x="716.12" y="-334.3" font-family="Arial" font-size="14.00">&#45; set_require_all_decoys(mut self, require_all_decoys: bool) &#45;&gt; Self</text>
<text text-anchor="start" x="716.12" y="-319.3" font-family="Arial" font-size="14.00">&#45; add_decoy_inputs(mut self, decoy_inputs: Vec&lt;DecoyInput&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="716.12" y="-304.3" font-family="Arial" font-size="14.00">&#45; add_input(mut self, mlsag: MlsagMaterial) &#45;&gt; Self</text>
<text text-anchor="start" x="716.12" y="-289.3" font-family="Arial" font-size="14.00">&#45; add_inputs(mut self, inputs: impl IntoIterator&lt;Item = MlsagMaterial&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="716.12" y="-274.3" font-family="Arial" font-size="14.00">&#45; add_true_input(mut self, true_input: TrueInput) &#45;&gt; Self</text>
<text text-anchor="start" x="716.12" y="-259.3" font-family="Arial" font-size="14.00">&#45; add_true_inputs(mut self, inputs: impl IntoIterator&lt;Item = TrueInput&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="716.12" y="-244.3" font-family="Arial" font-size="14.00">&#45; add_input_dbc(mut self, dbc: &amp;Dbc, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="716.12" y="-229.3" font-family="Arial" font-size="14.00">&#45; add_inputs_dbc(mut self, dbcs: impl IntoIterator&lt;Item = (Dbc, SecretKey)&gt;) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="716.12" y="-214.3" font-family="Arial" font-size="14.00">&#45; add_input_dbc_bearer(mut self, dbc: &amp;Dbc) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="716.12" y="-199.3" font-family="Arial" font-size="14.00">&#45; add_inputs_dbc_bearer(mut self, dbcs: impl IntoIterator&lt;Item = Dbc&gt;) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="716.12" y="-184.3" font-family="Arial" font-size="14.00">&#45; add_input_by_secrets(mut self, secret_key: SecretKey, amount_secrets: AmountSecrets) &#45;&gt; Self</text>
<text text-anchor="start" x="716.12" y="-169.3" font-family="Arial" font-size="14.00">&#45; add_inputs_by_secrets(mut self, secrets: Vec&lt;(SecretKey, AmountSecrets)&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="716.12" y="-154.3" font-family="Arial" font-size="14.00">&#45; add_output(mut self, output: Output, owner: OwnerOnce) &#45;&gt; Self</text>
<text text-anchor="start" x="716.12" y="-139.3" font-family="Arial" font-size="14.00">&#45; add_outputs(mut self, outputs: impl IntoIterator&lt;Item = (Output, OwnerOnce)&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="716.12" y="-124.3" font-family="Arial" font-size="14.00">&#45; add_output_by_amount(mut self, amount: Amount, owner: OwnerOnce) &#45;&gt; Self</text>
<text text-anchor="start" x="716.12" y="-109.3" font-family="Arial" font-size="14.00">&#45; add_outputs_by_amount(mut self, outputs: impl IntoIterator&lt;Item = (Amount, OwnerOnce)&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="716.12" y="-94.3" font-family="Arial" font-size="14.00">&#45; input_owners(&amp;self) &#45;&gt; Vec&lt;PublicKey&gt;</text>
<text text-anchor="start" x="716.12" y="-79.3" font-family="Arial" font-size="14.00">&#45; inputs_amount_sum(&amp;self) &#45;&gt; Amount</text>
<text text-anchor="start" x="716.12" y="-64.3" font-family="Arial" font-size="14.00">&#45; outputs_amount_sum(&amp;self) &#45;&gt; Amount</text>
<text text-anchor="start" x="716.12" y="-49.3" font-family="Arial" font-size="14.00">&#45; inputs(&amp;self) &#45;&gt; &amp;Vec&lt;TrueInput&gt;</text>
<text text-anchor="start" x="716.12" y="-34.3" font-family="Arial" font-size="14.00">&#45; outputs(&amp;self) &#45;&gt; &amp;Vec&lt;Output&gt;</text>
<text text-anchor="start" x="716.12" y="-19.3" font-family="Arial" font-size="14.00">&#45; build(self, mut rng: impl RngCore + CryptoRng) &#45;&gt; Result&lt;DbcBuilder&gt;</text>
<polygon fill="none" stroke="black" points="703.62,-4 703.62,-537 1360.62,-537 1360.62,-4 703.62,-4"/>
</a>
</g>
</g>
<!-- ndOwnerOnce&#45;&gt;ndTransactionBuilder -->
<g id="edge24" class="edge"><title>ndOwnerOnce&#45;&gt;ndTransactionBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1383.39,-2056.55C971.835,-2047.67 193.226,-2019.76 101.12,-1935 -60.5019,-1786.28 20.12,-1667.14 20.12,-1447.5 20.12,-1447.5 20.12,-1447.5 20.12,-1063.5 20.12,-716.854 392.91,-499.242 685.972,-381.728"/>
<polygon fill="black" stroke="black" points="695.49,-377.935 687.866,-385.817 690.845,-379.786 686.201,-381.637 686.201,-381.637 686.201,-381.637 690.845,-379.786 684.535,-377.456 695.49,-377.935 695.49,-377.935"/>
</g>
<!-- ndDbcBuilder -->
<g id="node15" class="node"><title>ndDbcBuilder</title>
<g id="a_node15_19"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/builder.rs#:~:text=struct%20DbcBuilder" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="1655.12,-791 1655.12,-828 2751.12,-828 2751.12,-791 1655.12,-791"/>
<polygon fill="none" stroke="black" points="1655.12,-791 1655.12,-828 2751.12,-828 2751.12,-791 1655.12,-791"/>
<text text-anchor="start" x="2163.62" y="-806.8" font-family="Arial" font-weight="bold" font-size="14.00">DbcBuilder</text>
<polygon fill="white" stroke="none" points="1655.12,-694 1655.12,-791 2751.12,-791 2751.12,-694 1655.12,-694"/>
<polygon fill="none" stroke="black" points="1655.12,-694 1655.12,-791 2751.12,-791 2751.12,-694 1655.12,-694"/>
<text text-anchor="start" x="1666.12" y="-768.8" font-family="Arial" font-size="14.00">+ transaction: RingCtTransaction</text>
<text text-anchor="start" x="1666.12" y="-753.8" font-family="Arial" font-size="14.00">+ revealed_commitments: Vec&lt;RevealedCommitment&gt;</text>
<text text-anchor="start" x="1666.12" y="-738.8" font-family="Arial" font-size="14.00">+ output_owner_map: OutputOwnerMap</text>
<text text-anchor="start" x="1666.12" y="-723.8" font-family="Arial" font-size="14.00">+ ringct_material: RingCtMaterial</text>
<text text-anchor="start" x="1666.12" y="-708.8" font-family="Arial" font-size="14.00">+ spent_proof_shares: BTreeMap&lt;KeyImage, HashSet&lt;SpentProofShare&gt;&gt;</text>
<polygon fill="white" stroke="none" points="1655.12,-582 1655.12,-694 2751.12,-694 2751.12,-582 1655.12,-582"/>
<polygon fill="none" stroke="black" points="1655.12,-582 1655.12,-694 2751.12,-694 2751.12,-582 1655.12,-582"/>
<text text-anchor="start" x="1666.12" y="-671.8" font-family="Arial" font-size="14.00">&#45; new(transaction: RingCtTransaction, revealed_commitments: Vec&lt;RevealedCommitment&gt;, output_owner_map: OutputOwnerMap, ringct_material: RingCtMaterial) &#45;&gt; Self</text>
<text text-anchor="start" x="1666.12" y="-656.8" font-family="Arial" font-size="14.00">&#45; inputs(&amp;self) &#45;&gt; Vec&lt;(KeyImage, RingCtTransaction)&gt;</text>
<text text-anchor="start" x="1666.12" y="-641.8" font-family="Arial" font-size="14.00">&#45; add_spent_proof_share(mut self, share: SpentProofShare) &#45;&gt; Self</text>
<text text-anchor="start" x="1666.12" y="-626.8" font-family="Arial" font-size="14.00">&#45; add_spent_proof_shares(mut self, shares: impl IntoIterator&lt;Item = SpentProofShare&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="1666.12" y="-611.8" font-family="Arial" font-size="14.00">&#45; build(self, verifier: &amp;K) &#45;&gt; Result&lt;Vec&lt;(Dbc, OwnerOnce, AmountSecrets)&gt;&gt;</text>
<text text-anchor="start" x="1666.12" y="-596.8" font-family="Arial" font-size="14.00">&#45; spent_proofs(&amp;self) &#45;&gt; Result&lt;BTreeSet&lt;SpentProof&gt;&gt;</text>
<polygon fill="none" stroke="black" points="1654.12,-581 1654.12,-829 2752.12,-829 2752.12,-581 1654.12,-581"/>
</a>
</g>
</g>
<!-- ndOwnerOnce&#45;&gt;ndDbcBuilder -->
<g id="edge25" class="edge"><title>ndOwnerOnce&#45;&gt;ndDbcBuilder</title>
<path fill="none" stroke="black" d="M1819.39,-1970.88C1832.25,-1960.02 1844.07,-1948.07 1854.12,-1935 1938.8,-1824.81 1831.11,-1725.16 1935.12,-1633 2020.13,-1557.68 2112.96,-1682.15 2188.12,-1597 2371.35,-1389.4 2305.71,-1036.57 2249.62,-843.053"/>
<polygon fill="black" stroke="black" points="2246.79,-833.39 2253.92,-841.721 2248.2,-838.188 2249.6,-842.986 2249.6,-842.986 2249.6,-842.986 2248.2,-838.188 2245.28,-844.252 2246.79,-833.39 2246.79,-833.39"/>
</g>
<!-- ndDbc&#45;&gt;ndGenesisBuilder -->
<g id="edge26" class="edge"><title>ndDbc&#45;&gt;ndGenesisBuilder</title>
<path fill="none" stroke="black" d="M1352.91,-896.264C1307.19,-868.977 1260.87,-841.331 1218.23,-815.883"/>
<polygon fill="black" stroke="black" points="1209.47,-810.655 1220.37,-811.916 1213.77,-813.218 1218.06,-815.78 1218.06,-815.78 1218.06,-815.78 1213.77,-813.218 1215.75,-819.644 1209.47,-810.655 1209.47,-810.655"/>
</g>
<!-- ndDbc&#45;&gt;ndTransactionBuilder -->
<g id="edge27" class="edge"><title>ndDbc&#45;&gt;ndTransactionBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1635.61,-868.804C1633.55,-754.916 1624.01,-624.452 1593.12,-577 1541.26,-497.334 1461.23,-436.767 1377.71,-391.441"/>
<polygon fill="black" stroke="black" points="1368.83,-386.686 1379.77,-387.44 1373.24,-389.047 1377.65,-391.407 1377.65,-391.407 1377.65,-391.407 1373.24,-389.047 1375.53,-395.374 1368.83,-386.686 1368.83,-386.686"/>
</g>
<!-- ndDbc&#45;&gt;ndDbcBuilder -->
<g id="edge28" class="edge"><title>ndDbc&#45;&gt;ndDbcBuilder</title>
<path fill="none" stroke="black" d="M1913.53,-887.63C1939.81,-871.146 1966.14,-854.63 1991.64,-838.642"/>
<polygon fill="black" stroke="black" points="2000.25,-833.241 1994.17,-842.366 1996.01,-835.897 1991.78,-838.554 1991.78,-838.554 1991.78,-838.554 1996.01,-835.897 1989.38,-834.742 2000.25,-833.241 2000.25,-833.241"/>
</g>
<!-- ndDbcBuilder&#45;&gt;ndTransactionBuilder -->
<g id="edge29" class="edge"><title>ndDbcBuilder&#45;&gt;ndTransactionBuilder</title>
<path fill="none" stroke="black" d="M1858.9,-576.867C1707.47,-520.936 1529.94,-455.367 1378.29,-399.354"/>
<polygon fill="black" stroke="black" points="1368.8,-395.848 1379.73,-395.092 1373.49,-397.581 1378.18,-399.313 1378.18,-399.313 1378.18,-399.313 1373.49,-397.581 1376.62,-403.534 1368.8,-395.848 1368.8,-395.848"/>
</g>
<!-- ndSpentProofContent&#45;&gt;ndSpentProofShare -->
<g id="edge30" class="edge"><title>ndSpentProofContent&#45;&gt;ndSpentProofShare</title>
<path fill="none" stroke="black" d="M3796.24,-1685.96C3792.17,-1657.51 3787.62,-1625.75 3783.21,-1594.91"/>
<polygon fill="black" stroke="black" points="3783.16,-1594.57 3778.35,-1589.2 3781.46,-1582.69 3786.27,-1588.06 3783.16,-1594.57"/>
</g>
<!-- ndSpentProofContent&#45;&gt;ndSpentProof -->
<g id="edge31" class="edge"><title>ndSpentProofContent&#45;&gt;ndSpentProof</title>
<path fill="none" stroke="black" d="M3681.06,-1685.99C3656.4,-1668.05 3630.63,-1649.72 3606.12,-1633 3581.37,-1616.11 3573.83,-1613.95 3549.12,-1597 3531.65,-1585.01 3513.54,-1572.17 3495.68,-1559.23"/>
<polygon fill="black" stroke="black" points="3495.5,-1559.1 3488.29,-1558.81 3485.79,-1552.04 3493,-1552.33 3495.5,-1559.1"/>
</g>
<!-- ndSpentProofShare&#45;&gt;ndSpentBookNode -->
<g id="edge32" class="edge"><title>ndSpentProofShare&#45;&gt;ndSpentBookNode</title>
<path fill="none" stroke="black" d="M3576.52,-1310.48C3567.4,-1305.36 3558.24,-1300.5 3549.12,-1296 3450.67,-1247.45 3339.78,-1206.32 3234.59,-1172.84"/>
<polygon fill="black" stroke="black" points="3224.76,-1169.73 3235.65,-1168.46 3229.52,-1171.24 3234.29,-1172.75 3234.29,-1172.75 3234.29,-1172.75 3229.52,-1171.24 3232.93,-1177.04 3224.76,-1169.73 3224.76,-1169.73"/>
</g>
<!-- ndSpentProofShare&#45;&gt;ndDbcBuilder -->
<g id="edge33" class="edge"><title>ndSpentProofShare&#45;&gt;ndDbcBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M3696.06,-1310.3C3622.27,-1174.89 3489.49,-972.205 3312.12,-869 3218.08,-814.282 2994.61,-776.267 2772.72,-750.802"/>
<polygon fill="black" stroke="black" points="2772.4,-750.766 2765.99,-754.062 2760.48,-749.409 2766.89,-746.113 2772.4,-750.766"/>
</g>
<!-- ndSpentProof&#45;&gt;ndDbc -->
<g id="edge34" class="edge"><title>ndSpentProof&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M3206.01,-1340.83C3175.12,-1322.8 3141.61,-1306.5 3108.12,-1296 2956.95,-1248.61 2552.76,-1283.68 2396.12,-1260 2238.52,-1236.17 2066.2,-1193.7 1925.27,-1154.51"/>
<polygon fill="black" stroke="black" points="1925.01,-1154.44 1918.16,-1156.68 1913.46,-1151.22 1920.31,-1148.98 1925.01,-1154.44"/>
</g>
<!-- ndSpentProof&#45;&gt;ndDbcBuilder -->
<g id="edge35" class="edge"><title>ndSpentProof&#45;&gt;ndDbcBuilder</title>
<path fill="none" stroke="black" d="M3359.9,-1340.72C3368.16,-1210.64 3360.16,-991.065 3233.12,-869 3162.99,-801.618 2970.32,-762.085 2770.3,-738.893"/>
<polygon fill="black" stroke="black" points="2760.17,-737.732 2770.62,-734.399 2765.14,-738.301 2770.1,-738.87 2770.1,-738.87 2770.1,-738.87 2765.14,-738.301 2769.59,-743.341 2760.17,-737.732 2760.17,-737.732"/>
</g>
<!-- ndAmountSecrets&#45;&gt;ndGenesisBuilder -->
<g id="edge36" class="edge"><title>ndAmountSecrets&#45;&gt;ndGenesisBuilder</title>
<path fill="none" stroke="black" d="M766.329,-1295.67C779.774,-1284.49 792.473,-1272.6 804.12,-1260 920.069,-1134.52 981.864,-942.347 1011.3,-820.494"/>
<polygon fill="black" stroke="black" points="1013.62,-810.752 1015.68,-821.522 1012.46,-815.616 1011.3,-820.48 1011.3,-820.48 1011.3,-820.48 1012.46,-815.616 1006.92,-819.437 1013.62,-810.752 1013.62,-810.752"/>
</g>
<!-- ndAmountSecrets&#45;&gt;ndDbc -->
<g id="edge37" class="edge"><title>ndAmountSecrets&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M796.237,-1299.59C800.88,-1298.35 805.509,-1297.15 810.12,-1296 959.268,-1258.77 1004.99,-1297.29 1154.12,-1260 1216.75,-1244.34 1282.01,-1222.12 1343.46,-1198.27"/>
<polygon fill="black" stroke="black" points="1352.9,-1194.59 1345.22,-1202.42 1348.24,-1196.41 1343.58,-1198.23 1343.58,-1198.23 1343.58,-1198.23 1348.24,-1196.41 1341.95,-1194.04 1352.9,-1194.59 1352.9,-1194.59"/>
</g>
<!-- ndAmountSecrets&#45;&gt;ndTransactionBuilder -->
<g id="edge38" class="edge"><title>ndAmountSecrets&#45;&gt;ndTransactionBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M405.201,-1295.62C369.919,-1111.6 339.045,-796.903 475.12,-577 524.866,-496.609 603.745,-435.802 686.671,-390.478"/>
<polygon fill="black" stroke="black" points="695.489,-385.724 688.822,-394.431 691.088,-388.097 686.687,-390.47 686.687,-390.47 686.687,-390.47 691.088,-388.097 684.551,-386.509 695.489,-385.724 695.489,-385.724"/>
</g>
<!-- ndAmountSecrets&#45;&gt;ndDbcBuilder -->
<g id="edge39" class="edge"><title>ndAmountSecrets&#45;&gt;ndDbcBuilder</title>
<path fill="none" stroke="black" d="M796.294,-1303.55C802.953,-1301 809.567,-1298.49 816.12,-1296 860.288,-1279.25 875.675,-1284.4 916.12,-1260 1136.72,-1126.89 1111.22,-979.19 1344.12,-869 1445.2,-821.179 1483,-852.405 1593.12,-833 1607.19,-830.521 1621.42,-827.961 1635.78,-825.333"/>
<polygon fill="black" stroke="black" points="1645.73,-823.503 1636.71,-829.737 1640.81,-824.407 1635.9,-825.311 1635.9,-825.311 1635.9,-825.311 1640.81,-824.407 1635.08,-820.885 1645.73,-823.503 1645.73,-823.503"/>
</g>
</g>
</svg>
