<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.38.0 (20140413.2041)
 -->
<!-- Title: ml Pages: 1 -->
<svg width="4987pt" height="2137pt"
 viewBox="0.00 0.00 4986.89 2137.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2133)">
<title>ml</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-2133 4982.89,-2133 4982.89,4 -4,4"/>
<!-- ndHash -->
<g id="node1" class="node"><title>ndHash</title>
<g id="a_node1_0"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/lib.rs#:~:text=struct%20Hash" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2139.89,-2079.5 2139.89,-2116.5 2494.89,-2116.5 2494.89,-2079.5 2139.89,-2079.5"/>
<polygon fill="none" stroke="black" points="2139.89,-2079.5 2139.89,-2116.5 2494.89,-2116.5 2494.89,-2079.5 2139.89,-2079.5"/>
<text text-anchor="start" x="2299.39" y="-2095.3" font-family="Arial" font-weight="bold" font-size="14.00">Hash</text>
<polygon fill="white" stroke="none" points="2139.89,-2042.5 2139.89,-2079.5 2494.89,-2079.5 2494.89,-2042.5 2139.89,-2042.5"/>
<polygon fill="none" stroke="black" points="2139.89,-2042.5 2139.89,-2079.5 2494.89,-2079.5 2494.89,-2042.5 2139.89,-2042.5"/>
<text text-anchor="start" x="2150.89" y="-2057.3" font-family="Arial" font-size="14.00">&#45; [u8; 32]</text>
<polygon fill="white" stroke="none" points="2139.89,-1960.5 2139.89,-2042.5 2494.89,-2042.5 2494.89,-1960.5 2139.89,-1960.5"/>
<polygon fill="none" stroke="black" points="2139.89,-1960.5 2139.89,-2042.5 2494.89,-2042.5 2494.89,-1960.5 2139.89,-1960.5"/>
<text text-anchor="start" x="2150.89" y="-2020.3" font-family="Arial" font-size="14.00">&#45; hash(input: &amp;[u8]) &#45;&gt; Self</text>
<text text-anchor="start" x="2150.89" y="-2005.3" font-family="Arial" font-size="14.00">&#45; from(val: [u8; 32]) &#45;&gt; Hash</text>
<text text-anchor="start" x="2150.89" y="-1990.3" font-family="Arial" font-size="14.00">&#45; fmt(&amp;self, f: &amp;mut fmt::Formatter&lt;&#39;_&gt;) &#45;&gt; fmt::Result</text>
<text text-anchor="start" x="2150.89" y="-1975.3" font-family="Arial" font-size="14.00">&#45; as_ref(&amp;self) &#45;&gt; &amp;[u8]</text>
<polygon fill="none" stroke="black" points="2138.39,-1959.5 2138.39,-2117.5 2495.39,-2117.5 2495.39,-1959.5 2138.39,-1959.5"/>
</a>
</g>
</g>
<!-- ndSimpleKeyManager -->
<g id="node6" class="node"><title>ndSimpleKeyManager</title>
<g id="a_node6_1"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/key_manager.rs#:~:text=struct%20SimpleKeyManager" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="920.894,-1412.5 920.894,-1449.5 1533.89,-1449.5 1533.89,-1412.5 920.894,-1412.5"/>
<polygon fill="none" stroke="black" points="920.894,-1412.5 920.894,-1449.5 1533.89,-1449.5 1533.89,-1412.5 920.894,-1412.5"/>
<text text-anchor="start" x="1159.39" y="-1428.3" font-family="Arial" font-weight="bold" font-size="14.00">SimpleKeyManager</text>
<polygon fill="white" stroke="none" points="920.894,-1360.5 920.894,-1412.5 1533.89,-1412.5 1533.89,-1360.5 920.894,-1360.5"/>
<polygon fill="none" stroke="black" points="920.894,-1360.5 920.894,-1412.5 1533.89,-1412.5 1533.89,-1360.5 920.894,-1360.5"/>
<text text-anchor="start" x="931.894" y="-1390.3" font-family="Arial" font-size="14.00">&#45; signer: SimpleSigner</text>
<text text-anchor="start" x="931.894" y="-1375.3" font-family="Arial" font-size="14.00">&#45; cache: Keys</text>
<polygon fill="white" stroke="none" points="920.894,-1233.5 920.894,-1360.5 1533.89,-1360.5 1533.89,-1233.5 920.894,-1233.5"/>
<polygon fill="none" stroke="black" points="920.894,-1233.5 920.894,-1360.5 1533.89,-1360.5 1533.89,-1233.5 920.894,-1233.5"/>
<text text-anchor="start" x="931.894" y="-1338.3" font-family="Arial" font-size="14.00">&#45; from(signer: SimpleSigner) &#45;&gt; Self</text>
<text text-anchor="start" x="931.894" y="-1323.3" font-family="Arial" font-size="14.00">&#45; add_known_key(&amp;mut self, key: PublicKey) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="931.894" y="-1308.3" font-family="Arial" font-size="14.00">&#45; public_key_set(&amp;self) &#45;&gt; Result&lt;PublicKeySet&gt;</text>
<text text-anchor="start" x="931.894" y="-1293.3" font-family="Arial" font-size="14.00">&#45; sign_with_child_key(&amp;self, index: &amp;[u8], tx_hash: &amp;Hash) &#45;&gt; Result&lt;IndexedSignatureShare&gt;</text>
<text text-anchor="start" x="931.894" y="-1278.3" font-family="Arial" font-size="14.00">&#45; sign(&amp;self, msg_hash: &amp;Hash) &#45;&gt; Result&lt;IndexedSignatureShare&gt;</text>
<text text-anchor="start" x="931.894" y="-1263.3" font-family="Arial" font-size="14.00">&#45; verify(&amp;self, msg_hash: &amp;Hash, key: &amp;PublicKey, signature: &amp;Signature) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="931.894" y="-1248.3" font-family="Arial" font-size="14.00">&#45; verify_known_key(&amp;self, key: &amp;PublicKey) &#45;&gt; Result&lt;()&gt;</text>
<polygon fill="none" stroke="black" points="919.394,-1232.5 919.394,-1450.5 1534.39,-1450.5 1534.39,-1232.5 919.394,-1232.5"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSimpleKeyManager -->
<g id="edge1" class="edge"><title>ndHash&#45;&gt;ndSimpleKeyManager</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2130.18,-2028.39C1841.18,-2012.39 1312.48,-1974.85 1253.89,-1912 1224.17,-1880.12 1222.57,-1622.52 1224.46,-1464.9"/>
<polygon fill="black" stroke="black" points="1224.59,-1454.66 1228.96,-1464.72 1224.53,-1459.66 1224.46,-1464.66 1224.46,-1464.66 1224.46,-1464.66 1224.53,-1459.66 1219.96,-1464.6 1224.59,-1454.66 1224.59,-1454.66"/>
</g>
<!-- ndKeys -->
<g id="node7" class="node"><title>ndKeys</title>
<g id="a_node7_2"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/key_manager.rs#:~:text=struct%20Keys" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="98.894,-1761 98.894,-1798 589.894,-1798 589.894,-1761 98.894,-1761"/>
<polygon fill="none" stroke="black" points="98.894,-1761 98.894,-1798 589.894,-1798 589.894,-1761 98.894,-1761"/>
<text text-anchor="start" x="326.394" y="-1776.8" font-family="Arial" font-weight="bold" font-size="14.00">Keys</text>
<polygon fill="white" stroke="none" points="98.894,-1724 98.894,-1761 589.894,-1761 589.894,-1724 98.894,-1724"/>
<polygon fill="none" stroke="black" points="98.894,-1724 98.894,-1761 589.894,-1761 589.894,-1724 98.894,-1724"/>
<text text-anchor="start" x="109.894" y="-1738.8" font-family="Arial" font-size="14.00">&#45; HashSet&lt;PublicKey&gt;</text>
<polygon fill="white" stroke="none" points="98.894,-1642 98.894,-1724 589.894,-1724 589.894,-1642 98.894,-1642"/>
<polygon fill="none" stroke="black" points="98.894,-1642 98.894,-1724 589.894,-1724 589.894,-1642 98.894,-1642"/>
<text text-anchor="start" x="109.894" y="-1701.8" font-family="Arial" font-size="14.00">&#45; from(keys: Vec&lt;PublicKey&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="109.894" y="-1686.8" font-family="Arial" font-size="14.00">&#45; add_known_key(&amp;mut self, key: PublicKey)</text>
<text text-anchor="start" x="109.894" y="-1671.8" font-family="Arial" font-size="14.00">&#45; verify(&amp;self, msg: &amp;Hash, key: &amp;PublicKey, sig: &amp;Signature) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="109.894" y="-1656.8" font-family="Arial" font-size="14.00">&#45; verify_known_key(&amp;self, key: &amp;PublicKey) &#45;&gt; Result&lt;()&gt;</text>
<polygon fill="none" stroke="black" points="97.394,-1641 97.394,-1799 590.394,-1799 590.394,-1641 97.394,-1641"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndKeys -->
<g id="edge2" class="edge"><title>ndHash&#45;&gt;ndKeys</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2130.28,-2036.58C1746.82,-2032.61 883.185,-2012.43 607.894,-1912 546.099,-1889.46 485.975,-1847.99 438.753,-1809.44"/>
<polygon fill="black" stroke="black" points="430.988,-1803.03 441.565,-1805.92 434.845,-1806.21 438.701,-1809.39 438.701,-1809.39 438.701,-1809.39 434.845,-1806.21 435.837,-1812.86 430.988,-1803.03 430.988,-1803.03"/>
</g>
<!-- ndDbcContent -->
<g id="node8" class="node"><title>ndDbcContent</title>
<g id="a_node8_3"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/dbc_content.rs#:~:text=struct%20DbcContent" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2866.89,-1404.5 2866.89,-1441.5 3363.89,-1441.5 3363.89,-1404.5 2866.89,-1404.5"/>
<polygon fill="none" stroke="black" points="2866.89,-1404.5 2866.89,-1441.5 3363.89,-1441.5 3363.89,-1404.5 2866.89,-1404.5"/>
<text text-anchor="start" x="3073.89" y="-1420.3" font-family="Arial" font-weight="bold" font-size="14.00">DbcContent</text>
<polygon fill="white" stroke="none" points="2866.89,-1337.5 2866.89,-1404.5 3363.89,-1404.5 3363.89,-1337.5 2866.89,-1337.5"/>
<polygon fill="none" stroke="black" points="2866.89,-1337.5 2866.89,-1404.5 3363.89,-1404.5 3363.89,-1337.5 2866.89,-1337.5"/>
<text text-anchor="start" x="2877.89" y="-1382.3" font-family="Arial" font-size="14.00">+ owner_base: Owner</text>
<text text-anchor="start" x="2877.89" y="-1367.3" font-family="Arial" font-size="14.00">+ owner_derivation_cipher: Ciphertext</text>
<text text-anchor="start" x="2877.89" y="-1352.3" font-family="Arial" font-size="14.00">+ amount_secrets_cipher: Ciphertext</text>
<polygon fill="white" stroke="none" points="2866.89,-1240.5 2866.89,-1337.5 3363.89,-1337.5 3363.89,-1240.5 2866.89,-1240.5"/>
<polygon fill="none" stroke="black" points="2866.89,-1240.5 2866.89,-1337.5 3363.89,-1337.5 3363.89,-1240.5 2866.89,-1240.5"/>
<text text-anchor="start" x="2877.89" y="-1315.3" font-family="Arial" font-size="14.00">&#45; from(params: (Owner, Ciphertext, Ciphertext)) &#45;&gt; Self</text>
<text text-anchor="start" x="2877.89" y="-1300.3" font-family="Arial" font-size="14.00">&#45; from(params: (Owner, DerivationIndex, AmountSecrets)) &#45;&gt; Self</text>
<text text-anchor="start" x="2877.89" y="-1285.3" font-family="Arial" font-size="14.00">&#45; derivation_index(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;DerivationIndex&gt;</text>
<text text-anchor="start" x="2877.89" y="-1270.3" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="2877.89" y="-1255.3" font-family="Arial" font-size="14.00">&#45; hash(&amp;self) &#45;&gt; Hash</text>
<polygon fill="none" stroke="black" points="2865.39,-1240 2865.39,-1443 3364.39,-1443 3364.39,-1240 2865.39,-1240"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndDbcContent -->
<g id="edge3" class="edge"><title>ndHash&#45;&gt;ndDbcContent</title>
<path fill="none" stroke="black" d="M2503.61,-2022.53C2591.28,-2006.84 2691.85,-1975.24 2762.89,-1912 2900.74,-1789.29 2816.83,-1680.41 2920.89,-1528 2938.5,-1502.22 2960.18,-1477.22 2982.59,-1454.37"/>
<polygon fill="black" stroke="black" points="2989.89,-1447.03 2986.03,-1457.29 2986.36,-1450.57 2982.84,-1454.12 2982.84,-1454.12 2982.84,-1454.12 2986.36,-1450.57 2979.65,-1450.95 2989.89,-1447.03 2989.89,-1447.03"/>
</g>
<!-- ndSpentProofContent -->
<g id="node15" class="node"><title>ndSpentProofContent</title>
<g id="a_node15_4"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/spent_proof.rs#:~:text=struct%20SpentProofContent" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2353.89,-1776 2353.89,-1813 2716.89,-1813 2716.89,-1776 2353.89,-1776"/>
<polygon fill="none" stroke="black" points="2353.89,-1776 2353.89,-1813 2716.89,-1813 2716.89,-1776 2353.89,-1776"/>
<text text-anchor="start" x="2468.39" y="-1791.8" font-family="Arial" font-weight="bold" font-size="14.00">SpentProofContent</text>
<polygon fill="white" stroke="none" points="2353.89,-1709 2353.89,-1776 2716.89,-1776 2716.89,-1709 2353.89,-1709"/>
<polygon fill="none" stroke="black" points="2353.89,-1709 2353.89,-1776 2716.89,-1776 2716.89,-1709 2353.89,-1709"/>
<text text-anchor="start" x="2364.89" y="-1753.8" font-family="Arial" font-size="14.00">+ key_image: KeyImage</text>
<text text-anchor="start" x="2364.89" y="-1738.8" font-family="Arial" font-size="14.00">+ transaction_hash: Hash</text>
<text text-anchor="start" x="2364.89" y="-1723.8" font-family="Arial" font-size="14.00">+ public_commitments: Vec&lt;Commitment&gt;</text>
<polygon fill="white" stroke="none" points="2353.89,-1627 2353.89,-1709 2716.89,-1709 2716.89,-1627 2353.89,-1627"/>
<polygon fill="none" stroke="black" points="2353.89,-1627 2353.89,-1709 2716.89,-1709 2716.89,-1627 2353.89,-1627"/>
<text text-anchor="start" x="2364.89" y="-1686.8" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="2364.89" y="-1671.8" font-family="Arial" font-size="14.00">&#45; hash(&amp;self) &#45;&gt; Hash</text>
<text text-anchor="start" x="2364.89" y="-1656.8" font-family="Arial" font-size="14.00">&#45; partial_cmp(&amp;self, other: &amp;Self) &#45;&gt; Option&lt;Ordering&gt;</text>
<text text-anchor="start" x="2364.89" y="-1641.8" font-family="Arial" font-size="14.00">&#45; cmp(&amp;self, other: &amp;Self) &#45;&gt; Ordering</text>
<polygon fill="none" stroke="black" points="2352.39,-1626 2352.39,-1814 2717.39,-1814 2717.39,-1626 2352.39,-1626"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSpentProofContent -->
<g id="edge4" class="edge"><title>ndHash&#45;&gt;ndSpentProofContent</title>
<path fill="none" stroke="black" d="M2373.6,-1955.17C2400.29,-1916.42 2432.46,-1869.71 2461.03,-1828.24"/>
<polygon fill="black" stroke="black" points="2461.21,-1827.98 2461.32,-1820.77 2468.02,-1818.1 2467.91,-1825.31 2461.21,-1827.98"/>
</g>
<!-- ndSpentProofShare -->
<g id="node16" class="node"><title>ndSpentProofShare</title>
<g id="a_node16_5"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/spent_proof.rs#:~:text=struct%20SpentProofShare" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2000.89,-1435.5 2000.89,-1472.5 2389.89,-1472.5 2389.89,-1435.5 2000.89,-1435.5"/>
<polygon fill="none" stroke="black" points="2000.89,-1435.5 2000.89,-1472.5 2389.89,-1472.5 2389.89,-1435.5 2000.89,-1435.5"/>
<text text-anchor="start" x="2134.89" y="-1451.3" font-family="Arial" font-weight="bold" font-size="14.00">SpentProofShare</text>
<polygon fill="white" stroke="none" points="2000.89,-1368.5 2000.89,-1435.5 2389.89,-1435.5 2389.89,-1368.5 2000.89,-1368.5"/>
<polygon fill="none" stroke="black" points="2000.89,-1368.5 2000.89,-1435.5 2389.89,-1435.5 2389.89,-1368.5 2000.89,-1368.5"/>
<text text-anchor="start" x="2011.89" y="-1413.3" font-family="Arial" font-size="14.00">+ content: SpentProofContent</text>
<text text-anchor="start" x="2011.89" y="-1398.3" font-family="Arial" font-size="14.00">+ spentbook_pks: PublicKeySet</text>
<text text-anchor="start" x="2011.89" y="-1383.3" font-family="Arial" font-size="14.00">+ spentbook_sig_share: IndexedSignatureShare</text>
<polygon fill="white" stroke="none" points="2000.89,-1210.5 2000.89,-1368.5 2389.89,-1368.5 2389.89,-1210.5 2000.89,-1210.5"/>
<polygon fill="none" stroke="black" points="2000.89,-1210.5 2000.89,-1368.5 2389.89,-1368.5 2389.89,-1210.5 2000.89,-1210.5"/>
<text text-anchor="start" x="2011.89" y="-1346.3" font-family="Arial" font-size="14.00">&#45; eq(&amp;self, other: &amp;Self) &#45;&gt; bool</text>
<text text-anchor="start" x="2011.89" y="-1314.5" font-family="Arial" font-size="14.00">&#45; hash(&amp;self, state: &amp;mut H)</text>
<text text-anchor="start" x="2011.89" y="-1299.5" font-family="Arial" font-size="14.00">&#45; key_image(&amp;self) &#45;&gt; &amp;KeyImage</text>
<text text-anchor="start" x="2011.89" y="-1284.5" font-family="Arial" font-size="14.00">&#45; transaction_hash(&amp;self) &#45;&gt; Hash</text>
<text text-anchor="start" x="2011.89" y="-1269.5" font-family="Arial" font-size="14.00">&#45; public_commitments(&amp;self) &#45;&gt; &amp;Vec&lt;Commitment&gt;</text>
<text text-anchor="start" x="2011.89" y="-1254.5" font-family="Arial" font-size="14.00">&#45; spentbook_sig_share(&amp;self) &#45;&gt; &amp;IndexedSignatureShare</text>
<text text-anchor="start" x="2011.89" y="-1239.5" font-family="Arial" font-size="14.00">&#45; spentbook_pks(&amp;self) &#45;&gt; &amp;PublicKeySet</text>
<text text-anchor="start" x="2011.89" y="-1224.5" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<polygon fill="none" stroke="black" points="1999.39,-1209.5 1999.39,-1473.5 2390.39,-1473.5 2390.39,-1209.5 1999.39,-1209.5"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSpentProofShare -->
<g id="edge5" class="edge"><title>ndHash&#45;&gt;ndSpentProofShare</title>
<path fill="none" stroke="black" d="M2325.38,-1955.41C2333.35,-1853.19 2338.69,-1674.22 2297.89,-1528 2294.07,-1514.31 2289.06,-1500.53 2283.31,-1487"/>
<polygon fill="black" stroke="black" points="2279.21,-1477.67 2287.36,-1485.02 2281.23,-1482.25 2283.24,-1486.83 2283.24,-1486.83 2283.24,-1486.83 2281.23,-1482.25 2279.12,-1488.64 2279.21,-1477.67 2279.21,-1477.67"/>
</g>
<!-- ndSpentProof -->
<g id="node17" class="node"><title>ndSpentProof</title>
<g id="a_node17_6"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/spent_proof.rs#:~:text=struct%20SpentProof" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2425.89,-1404.5 2425.89,-1441.5 2791.89,-1441.5 2791.89,-1404.5 2425.89,-1404.5"/>
<polygon fill="none" stroke="black" points="2425.89,-1404.5 2425.89,-1441.5 2791.89,-1441.5 2791.89,-1404.5 2425.89,-1404.5"/>
<text text-anchor="start" x="2569.39" y="-1420.3" font-family="Arial" font-weight="bold" font-size="14.00">SpentProof</text>
<polygon fill="white" stroke="none" points="2425.89,-1337.5 2425.89,-1404.5 2791.89,-1404.5 2791.89,-1337.5 2425.89,-1337.5"/>
<polygon fill="none" stroke="black" points="2425.89,-1337.5 2425.89,-1404.5 2791.89,-1404.5 2791.89,-1337.5 2425.89,-1337.5"/>
<text text-anchor="start" x="2436.89" y="-1382.3" font-family="Arial" font-size="14.00">+ content: SpentProofContent</text>
<text text-anchor="start" x="2436.89" y="-1367.3" font-family="Arial" font-size="14.00">+ spentbook_pub_key: PublicKey</text>
<text text-anchor="start" x="2436.89" y="-1352.3" font-family="Arial" font-size="14.00">+ spentbook_sig: Signature</text>
<polygon fill="white" stroke="none" points="2425.89,-1240.5 2425.89,-1337.5 2791.89,-1337.5 2791.89,-1240.5 2425.89,-1240.5"/>
<polygon fill="none" stroke="black" points="2425.89,-1240.5 2425.89,-1337.5 2791.89,-1337.5 2791.89,-1240.5 2425.89,-1240.5"/>
<text text-anchor="start" x="2436.89" y="-1315.3" font-family="Arial" font-size="14.00">&#45; key_image(&amp;self) &#45;&gt; &amp;KeyImage</text>
<text text-anchor="start" x="2436.89" y="-1300.3" font-family="Arial" font-size="14.00">&#45; transaction_hash(&amp;self) &#45;&gt; Hash</text>
<text text-anchor="start" x="2436.89" y="-1285.3" font-family="Arial" font-size="14.00">&#45; public_commitments(&amp;self) &#45;&gt; &amp;Vec&lt;Commitment&gt;</text>
<text text-anchor="start" x="2436.89" y="-1270.3" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="2436.89" y="-1255.3" font-family="Arial" font-size="14.00">&#45; verify(&amp;self, tx_hash: Hash, verifier: &amp;K) &#45;&gt; Result&lt;()&gt;</text>
<polygon fill="none" stroke="black" points="2424.89,-1240 2424.89,-1443 2792.89,-1443 2792.89,-1240 2424.89,-1240"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSpentProof -->
<g id="edge6" class="edge"><title>ndHash&#45;&gt;ndSpentProof</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2503.46,-2003.94C2600.57,-1982.27 2705,-1950.87 2733.89,-1912 2784.8,-1843.52 2758.82,-1609.61 2733.89,-1528 2726.3,-1503.14 2714.13,-1478.59 2700.29,-1455.9"/>
<polygon fill="black" stroke="black" points="2694.91,-1447.29 2704.03,-1453.39 2697.56,-1451.53 2700.21,-1455.77 2700.21,-1455.77 2700.21,-1455.77 2697.56,-1451.53 2696.4,-1458.16 2694.91,-1447.29 2694.91,-1447.29"/>
</g>
<!-- ndSpentBookNodeMock -->
<g id="node19" class="node"><title>ndSpentBookNodeMock</title>
<g id="a_node19_7"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/spentbook.rs#:~:text=struct%20SpentBookNodeMock" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="998.894,-1052.5 998.894,-1089.5 1799.89,-1089.5 1799.89,-1052.5 998.894,-1052.5"/>
<polygon fill="none" stroke="black" points="998.894,-1052.5 998.894,-1089.5 1799.89,-1089.5 1799.89,-1052.5 998.894,-1052.5"/>
<text text-anchor="start" x="1323.39" y="-1068.3" font-family="Arial" font-weight="bold" font-size="14.00">SpentBookNodeMock</text>
<polygon fill="white" stroke="none" points="998.894,-955.5 998.894,-1052.5 1799.89,-1052.5 1799.89,-955.5 998.894,-955.5"/>
<polygon fill="none" stroke="black" points="998.894,-955.5 998.894,-1052.5 1799.89,-1052.5 1799.89,-955.5 998.894,-955.5"/>
<text text-anchor="start" x="1009.89" y="-1030.3" font-family="Arial" font-size="14.00">+ key_manager: SimpleKeyManager</text>
<text text-anchor="start" x="1009.89" y="-1015.3" font-family="Arial" font-size="14.00">+ transactions: HashMap&lt;Hash, RingCtTransaction&gt;</text>
<text text-anchor="start" x="1009.89" y="-1000.3" font-family="Arial" font-size="14.00">+ key_images: BTreeMap&lt;KeyImage, Hash&gt;</text>
<text text-anchor="start" x="1009.89" y="-985.3" font-family="Arial" font-size="14.00">+ outputs: BTreeMap&lt;PublicKey, OutputProof&gt;</text>
<text text-anchor="start" x="1009.89" y="-970.3" font-family="Arial" font-size="14.00">+ genesis: (KeyImage, Commitment)</text>
<polygon fill="white" stroke="none" points="998.894,-828.5 998.894,-955.5 1799.89,-955.5 1799.89,-828.5 998.894,-828.5"/>
<polygon fill="none" stroke="black" points="998.894,-828.5 998.894,-955.5 1799.89,-955.5 1799.89,-828.5 998.894,-828.5"/>
<text text-anchor="start" x="1009.89" y="-933.3" font-family="Arial" font-size="14.00">&#45; from(key_manager: SimpleKeyManager) &#45;&gt; Self</text>
<text text-anchor="start" x="1009.89" y="-918.3" font-family="Arial" font-size="14.00">&#45; iter(&amp;self) &#45;&gt; impl Iterator&lt;Item = (&amp;KeyImage, &amp;RingCtTransaction)&gt; + &#39;_</text>
<text text-anchor="start" x="1009.89" y="-903.3" font-family="Arial" font-size="14.00">&#45; is_spent(&amp;self, key_image: &amp;KeyImage) &#45;&gt; bool</text>
<text text-anchor="start" x="1009.89" y="-888.3" font-family="Arial" font-size="14.00">&#45; log_spent(&amp;mut self, key_image: KeyImage, tx: RingCtTransaction) &#45;&gt; Result&lt;SpentProofShare&gt;</text>
<text text-anchor="start" x="1009.89" y="-873.3" font-family="Arial" font-size="14.00">&#45; log_spent_and_skip_tx_verification(&amp;mut self, key_image: KeyImage, tx: RingCtTransaction) &#45;&gt; Result&lt;SpentProofShare&gt;</text>
<text text-anchor="start" x="1009.89" y="-858.3" font-family="Arial" font-size="14.00">&#45; log_spent_worker(&amp;mut self, key_image: KeyImage, tx: RingCtTransaction, verify_tx: bool) &#45;&gt; Result&lt;SpentProofShare&gt;</text>
<text text-anchor="start" x="1009.89" y="-843.3" font-family="Arial" font-size="14.00">&#45; random_decoys(&amp;self, target_num: usize, rng: &amp;mut impl RngCore) &#45;&gt; Vec&lt;DecoyInput&gt;</text>
<polygon fill="none" stroke="black" points="997.394,-828 997.394,-1091 1800.39,-1091 1800.39,-828 997.394,-828"/>
</a>
</g>
</g>
<!-- ndHash&#45;&gt;ndSpentBookNodeMock -->
<g id="edge7" class="edge"><title>ndHash&#45;&gt;ndSpentBookNodeMock</title>
<path fill="none" stroke="black" d="M2130.16,-2033.93C1605.2,-2022.98 149.918,-1986.06 79.894,-1912 -37.357,-1787.99 -13.9555,-1670.55 79.894,-1528 277.664,-1227.61 671.432,-1085.56 977.476,-1018.78"/>
<polygon fill="black" stroke="black" points="977.508,-1018.77 982.529,-1013.6 989.238,-1016.24 984.217,-1021.42 977.508,-1018.77"/>
</g>
<!-- ndError -->
<g id="node2" class="node"><title>ndError</title>
<g id="a_node2_8"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/error.rs#:~:text=enum%20Error" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="3664.89,-1870 3664.89,-1907 3978.89,-1907 3978.89,-1870 3664.89,-1870"/>
<polygon fill="none" stroke="black" points="3664.89,-1870 3664.89,-1907 3978.89,-1907 3978.89,-1870 3664.89,-1870"/>
<text text-anchor="start" x="3803.39" y="-1885.8" font-family="Arial" font-weight="bold" font-size="14.00">Error</text>
<polygon fill="white" stroke="none" points="3664.89,-1533 3664.89,-1870 3978.89,-1870 3978.89,-1533 3664.89,-1533"/>
<polygon fill="none" stroke="black" points="3664.89,-1533 3664.89,-1870 3978.89,-1870 3978.89,-1533 3664.89,-1533"/>
<text text-anchor="start" x="3675.89" y="-1847.8" font-family="Arial" font-size="14.00">FailedSignature</text>
<text text-anchor="start" x="3675.89" y="-1832.8" font-family="Arial" font-size="14.00">UnrecognisedAuthority</text>
<text text-anchor="start" x="3675.89" y="-1817.8" font-family="Arial" font-size="14.00">InvalidSpentProofSignature(KeyImage, String)</text>
<text text-anchor="start" x="3675.89" y="-1802.8" font-family="Arial" font-size="14.00">InvalidTransactionHash</text>
<text text-anchor="start" x="3675.89" y="-1787.8" font-family="Arial" font-size="14.00">DbcContentNotPresentInTransactionOutput</text>
<text text-anchor="start" x="3675.89" y="-1772.8" font-family="Arial" font-size="14.00">OutputProofNotFound</text>
<text text-anchor="start" x="3675.89" y="-1757.8" font-family="Arial" font-size="14.00">PublicKeyNotUniqueAcrossOutputs</text>
<text text-anchor="start" x="3675.89" y="-1742.8" font-family="Arial" font-size="14.00">SpentProofInputLenMismatch</text>
<text text-anchor="start" x="3675.89" y="-1727.8" font-family="Arial" font-size="14.00">SpentProofInputKeyImageMismatch</text>
<text text-anchor="start" x="3675.89" y="-1712.8" font-family="Arial" font-size="14.00">MissingSpentProofShare(KeyImage)</text>
<text text-anchor="start" x="3675.89" y="-1697.8" font-family="Arial" font-size="14.00">DecryptionBySecretKeyFailed</text>
<text text-anchor="start" x="3675.89" y="-1682.8" font-family="Arial" font-size="14.00">AmountSecretsBytesInvalid</text>
<text text-anchor="start" x="3675.89" y="-1667.8" font-family="Arial" font-size="14.00">AmountCommitmentsDoNotMatch</text>
<text text-anchor="start" x="3675.89" y="-1652.8" font-family="Arial" font-size="14.00">SecretKeyUnavailable</text>
<text text-anchor="start" x="3675.89" y="-1637.8" font-family="Arial" font-size="14.00">PublicKeyNotFound</text>
<text text-anchor="start" x="3675.89" y="-1622.8" font-family="Arial" font-size="14.00">SecretKeyDoesNotMatchPublicKey</text>
<text text-anchor="start" x="3675.89" y="-1607.8" font-family="Arial" font-size="14.00">SpentbookKeyImageAlreadySpent</text>
<text text-anchor="start" x="3675.89" y="-1592.8" font-family="Arial" font-size="14.00">SpentbookRingSizeMismatch(usize, usize)</text>
<text text-anchor="start" x="3675.89" y="-1577.8" font-family="Arial" font-size="14.00">Blsttc(blsttc::error::Error)</text>
<text text-anchor="start" x="3675.89" y="-1562.8" font-family="Arial" font-size="14.00">RingCt(blst_ringct::Error)</text>
<text text-anchor="start" x="3675.89" y="-1547.8" font-family="Arial" font-size="14.00">Infallible(std::convert::Infallible)</text>
<polygon fill="none" stroke="black" points="3663.89,-1532 3663.89,-1908 3979.89,-1908 3979.89,-1532 3663.89,-1532"/>
</a>
</g>
</g>
<!-- ndDbc -->
<g id="node12" class="node"><title>ndDbc</title>
<g id="a_node12_9"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/dbc.rs#:~:text=struct%20Dbc" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="3129.89,-1112.5 3129.89,-1149.5 3671.89,-1149.5 3671.89,-1112.5 3129.89,-1112.5"/>
<polygon fill="none" stroke="black" points="3129.89,-1112.5 3129.89,-1149.5 3671.89,-1149.5 3671.89,-1112.5 3129.89,-1112.5"/>
<text text-anchor="start" x="3386.89" y="-1128.3" font-family="Arial" font-weight="bold" font-size="14.00">Dbc</text>
<polygon fill="white" stroke="none" points="3129.89,-1045.5 3129.89,-1112.5 3671.89,-1112.5 3671.89,-1045.5 3129.89,-1045.5"/>
<polygon fill="none" stroke="black" points="3129.89,-1045.5 3129.89,-1112.5 3671.89,-1112.5 3671.89,-1045.5 3129.89,-1045.5"/>
<text text-anchor="start" x="3140.89" y="-1090.3" font-family="Arial" font-size="14.00">+ content: DbcContent</text>
<text text-anchor="start" x="3140.89" y="-1075.3" font-family="Arial" font-size="14.00">+ transaction: RingCtTransaction</text>
<text text-anchor="start" x="3140.89" y="-1060.3" font-family="Arial" font-size="14.00">+ spent_proofs: BTreeSet&lt;SpentProof&gt;</text>
<polygon fill="white" stroke="none" points="3129.89,-768.5 3129.89,-1045.5 3671.89,-1045.5 3671.89,-768.5 3129.89,-768.5"/>
<polygon fill="none" stroke="black" points="3129.89,-768.5 3129.89,-1045.5 3671.89,-1045.5 3671.89,-768.5 3129.89,-768.5"/>
<text text-anchor="start" x="3140.89" y="-1023.3" font-family="Arial" font-size="14.00">&#45; owner_base(&amp;self) &#45;&gt; &amp;Owner</text>
<text text-anchor="start" x="3140.89" y="-1008.3" font-family="Arial" font-size="14.00">&#45; owner_once(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;Owner&gt;</text>
<text text-anchor="start" x="3140.89" y="-993.3" font-family="Arial" font-size="14.00">&#45; owner_once_bearer(&amp;self) &#45;&gt; Result&lt;Owner&gt;</text>
<text text-anchor="start" x="3140.89" y="-978.3" font-family="Arial" font-size="14.00">&#45; derivation_index(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;DerivationIndex&gt;</text>
<text text-anchor="start" x="3140.89" y="-963.3" font-family="Arial" font-size="14.00">&#45; derivation_index_bearer(&amp;self) &#45;&gt; Result&lt;DerivationIndex&gt;</text>
<text text-anchor="start" x="3140.89" y="-948.3" font-family="Arial" font-size="14.00">&#45; is_bearer(&amp;self) &#45;&gt; bool</text>
<text text-anchor="start" x="3140.89" y="-933.3" font-family="Arial" font-size="14.00">&#45; amount_secrets(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;AmountSecrets&gt;</text>
<text text-anchor="start" x="3140.89" y="-918.3" font-family="Arial" font-size="14.00">&#45; amount_secrets_bearer(&amp;self) &#45;&gt; Result&lt;AmountSecrets&gt;</text>
<text text-anchor="start" x="3140.89" y="-903.3" font-family="Arial" font-size="14.00">&#45; key_image(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;KeyImage&gt;</text>
<text text-anchor="start" x="3140.89" y="-888.3" font-family="Arial" font-size="14.00">&#45; key_image_bearer(&amp;self) &#45;&gt; Result&lt;KeyImage&gt;</text>
<text text-anchor="start" x="3140.89" y="-873.3" font-family="Arial" font-size="14.00">&#45; as_true_input(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;TrueInput&gt;</text>
<text text-anchor="start" x="3140.89" y="-858.3" font-family="Arial" font-size="14.00">&#45; as_true_input_bearer(&amp;self) &#45;&gt; Result&lt;TrueInput&gt;</text>
<text text-anchor="start" x="3140.89" y="-843.3" font-family="Arial" font-size="14.00">&#45; hash(&amp;self) &#45;&gt; [u8; 32]</text>
<text text-anchor="start" x="3140.89" y="-828.3" font-family="Arial" font-size="14.00">&#45; verify(&amp;self, base_sk: &amp;SecretKey, verifier: &amp;K) &#45;&gt; Result&lt;(), Error&gt;</text>
<text text-anchor="start" x="3140.89" y="-813.3" font-family="Arial" font-size="14.00">&#45; verify_bearer(&amp;self, verifier: &amp;K) &#45;&gt; Result&lt;(), Error&gt;</text>
<text text-anchor="start" x="3140.89" y="-798.3" font-family="Arial" font-size="14.00">&#45; verify_amount_matches_commitment(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="3140.89" y="-783.3" font-family="Arial" font-size="14.00">&#45; my_output_proof(&amp;self, base_sk: &amp;SecretKey) &#45;&gt; Result&lt;&amp;OutputProof&gt;</text>
<polygon fill="none" stroke="black" points="3128.89,-768 3128.89,-1151 3672.89,-1151 3672.89,-768 3128.89,-768"/>
</a>
</g>
</g>
<!-- ndError&#45;&gt;ndDbc -->
<g id="edge8" class="edge"><title>ndError&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M3655.6,-1549.2C3644.29,-1541.43 3632.69,-1534.27 3620.89,-1528 3555.39,-1493.17 3507.38,-1547.28 3457.89,-1492 3435.78,-1467.29 3420.59,-1304.51 3411.49,-1165.52"/>
<polygon fill="black" stroke="black" points="3410.82,-1155.14 3415.95,-1164.83 3411.14,-1160.13 3411.46,-1165.12 3411.46,-1165.12 3411.46,-1165.12 3411.14,-1160.13 3406.97,-1165.41 3410.82,-1155.14 3410.82,-1155.14"/>
</g>
<!-- ndAmountSecrets -->
<g id="node18" class="node"><title>ndAmountSecrets</title>
<g id="a_node18_10"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/amount_secrets.rs#:~:text=struct%20AmountSecrets" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="3475.89,-1449.5 3475.89,-1486.5 4167.89,-1486.5 4167.89,-1449.5 3475.89,-1449.5"/>
<polygon fill="none" stroke="black" points="3475.89,-1449.5 3475.89,-1486.5 4167.89,-1486.5 4167.89,-1449.5 3475.89,-1449.5"/>
<text text-anchor="start" x="3767.89" y="-1465.3" font-family="Arial" font-weight="bold" font-size="14.00">AmountSecrets</text>
<polygon fill="white" stroke="none" points="3475.89,-1412.5 3475.89,-1449.5 4167.89,-1449.5 4167.89,-1412.5 3475.89,-1412.5"/>
<polygon fill="none" stroke="black" points="3475.89,-1412.5 3475.89,-1449.5 4167.89,-1449.5 4167.89,-1412.5 3475.89,-1412.5"/>
<text text-anchor="start" x="3486.89" y="-1427.3" font-family="Arial" font-size="14.00">&#45; RevealedCommitment</text>
<polygon fill="white" stroke="none" points="3475.89,-1195.5 3475.89,-1412.5 4167.89,-1412.5 4167.89,-1195.5 3475.89,-1195.5"/>
<polygon fill="none" stroke="black" points="3475.89,-1195.5 3475.89,-1412.5 4167.89,-1412.5 4167.89,-1195.5 3475.89,-1195.5"/>
<text text-anchor="start" x="3486.89" y="-1390.3" font-family="Arial" font-size="14.00">&#45; amount(&amp;self) &#45;&gt; Amount</text>
<text text-anchor="start" x="3486.89" y="-1375.3" font-family="Arial" font-size="14.00">&#45; blinding_factor(&amp;self) &#45;&gt; BlindingFactor</text>
<text text-anchor="start" x="3486.89" y="-1360.3" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="3486.89" y="-1345.3" font-family="Arial" font-size="14.00">&#45; from_bytes(bytes: [u8; AMT_SIZE + BF_SIZE]) &#45;&gt; Self</text>
<text text-anchor="start" x="3486.89" y="-1330.3" font-family="Arial" font-size="14.00">&#45; from_bytes_ref(bytes: &amp;[u8]) &#45;&gt; Result&lt;Self, Error&gt;</text>
<text text-anchor="start" x="3486.89" y="-1315.3" font-family="Arial" font-size="14.00">&#45; from_amount(amount: Amount, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="3486.89" y="-1300.3" font-family="Arial" font-size="14.00">&#45; encrypt(&amp;self, public_key: &amp;PublicKey) &#45;&gt; Ciphertext</text>
<text text-anchor="start" x="3486.89" y="-1285.3" font-family="Arial" font-size="14.00">&#45; from(revealed_commitment: RevealedCommitment) &#45;&gt; Self</text>
<text text-anchor="start" x="3486.89" y="-1270.3" font-family="Arial" font-size="14.00">&#45; from(params: (Amount, BlindingFactor)) &#45;&gt; Self</text>
<text text-anchor="start" x="3486.89" y="-1255.3" font-family="Arial" font-size="14.00">&#45; try_from(params: (&amp;SecretKey, &amp;Ciphertext)) &#45;&gt; Result&lt;Self, Error&gt;</text>
<text text-anchor="start" x="3486.89" y="-1240.3" font-family="Arial" font-size="14.00">&#45; try_from(params: (&amp;SecretKeySet, &amp;Ciphertext)) &#45;&gt; Result&lt;Self, Error&gt;</text>
<text text-anchor="start" x="3486.89" y="-1225.3" font-family="Arial" font-size="14.00">&#45; try_from(params: (&amp;PublicKeySet, &amp;BTreeMap&lt;I, SecretKeyShare&gt;, &amp;Ciphertext)) &#45;&gt; Result&lt;Self, Error&gt;</text>
<text text-anchor="start" x="3486.89" y="-1210.3" font-family="Arial" font-size="14.00">&#45; try_from(params: (&amp;PublicKeySet, &amp;BTreeMap&lt;I, DecryptionShare&gt;, &amp;Ciphertext)) &#45;&gt; Result&lt;Self, Error&gt;</text>
<polygon fill="none" stroke="black" points="3474.89,-1195 3474.89,-1488 4168.89,-1488 4168.89,-1195 3474.89,-1195"/>
</a>
</g>
</g>
<!-- ndError&#45;&gt;ndAmountSecrets -->
<g id="edge9" class="edge"><title>ndError&#45;&gt;ndAmountSecrets</title>
<path fill="none" stroke="black" d="M3821.89,-1527.99C3821.89,-1519.45 3821.89,-1510.92 3821.89,-1502.46"/>
<polygon fill="black" stroke="black" points="3821.89,-1492.19 3826.39,-1502.19 3821.89,-1497.19 3821.89,-1502.19 3821.89,-1502.19 3821.89,-1502.19 3821.89,-1497.19 3817.39,-1502.19 3821.89,-1492.19 3821.89,-1492.19"/>
</g>
<!-- ndTransactionVerifier -->
<g id="node20" class="node"><title>ndTransactionVerifier</title>
<g id="a_node20_11"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/verification.rs#:~:text=struct%20TransactionVerifier" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="4204.89,-1341.5 4204.89,-1378.5 4941.89,-1378.5 4941.89,-1341.5 4204.89,-1341.5"/>
<polygon fill="none" stroke="black" points="4204.89,-1341.5 4204.89,-1378.5 4941.89,-1378.5 4941.89,-1341.5 4204.89,-1341.5"/>
<text text-anchor="start" x="4506.89" y="-1357.3" font-family="Arial" font-weight="bold" font-size="14.00">TransactionVerifier</text>
<polygon fill="white" stroke="none" points="4204.89,-1304.5 4204.89,-1341.5 4941.89,-1341.5 4941.89,-1304.5 4204.89,-1304.5"/>
<polygon fill="none" stroke="black" points="4204.89,-1304.5 4204.89,-1341.5 4941.89,-1341.5 4941.89,-1304.5 4204.89,-1304.5"/>
<text text-anchor="start" x="4215.89" y="-1319.3" font-family="Arial" font-size="14.00">&#45; verify(verifier: &amp;K, transaction: &amp;RingCtTransaction, spent_proofs: &amp;BTreeSet&lt;SpentProof&gt;) &#45;&gt; Result&lt;(), Error&gt;</text>
<polygon fill="none" stroke="black" points="4203.39,-1303.5 4203.39,-1379.5 4942.39,-1379.5 4942.39,-1303.5 4203.39,-1303.5"/>
</a>
</g>
</g>
<!-- ndError&#45;&gt;ndTransactionVerifier -->
<g id="edge10" class="edge"><title>ndError&#45;&gt;ndTransactionVerifier</title>
<path fill="none" stroke="black" d="M3988.1,-1635.68C4140.26,-1559.39 4359.79,-1449.34 4482.01,-1388.06"/>
<polygon fill="black" stroke="black" points="4491,-1383.56 4484.08,-1392.06 4486.53,-1385.8 4482.06,-1388.04 4482.06,-1388.04 4482.06,-1388.04 4486.53,-1385.8 4480.04,-1384.02 4491,-1383.56 4491,-1383.56"/>
</g>
<!-- ndIndexedSignatureShare -->
<g id="node3" class="node"><title>ndIndexedSignatureShare</title>
<g id="a_node3_12"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/key_manager.rs#:~:text=struct%20IndexedSignatureShare" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="1889.89,-1761 1889.89,-1798 2279.89,-1798 2279.89,-1761 1889.89,-1761"/>
<polygon fill="none" stroke="black" points="1889.89,-1761 1889.89,-1798 2279.89,-1798 2279.89,-1761 1889.89,-1761"/>
<text text-anchor="start" x="2002.39" y="-1776.8" font-family="Arial" font-weight="bold" font-size="14.00">IndexedSignatureShare</text>
<polygon fill="white" stroke="none" points="1889.89,-1709 1889.89,-1761 2279.89,-1761 2279.89,-1709 1889.89,-1709"/>
<polygon fill="none" stroke="black" points="1889.89,-1709 1889.89,-1761 2279.89,-1761 2279.89,-1709 1889.89,-1709"/>
<text text-anchor="start" x="1900.89" y="-1738.8" font-family="Arial" font-size="14.00">&#45; index: u64</text>
<text text-anchor="start" x="1900.89" y="-1723.8" font-family="Arial" font-size="14.00">&#45; signature_share: SignatureShare</text>
<polygon fill="white" stroke="none" points="1889.89,-1642 1889.89,-1709 2279.89,-1709 2279.89,-1642 1889.89,-1642"/>
<polygon fill="none" stroke="black" points="1889.89,-1642 1889.89,-1709 2279.89,-1709 2279.89,-1642 1889.89,-1642"/>
<text text-anchor="start" x="1900.89" y="-1686.8" font-family="Arial" font-size="14.00">&#45; new(index: u64, signature_share: SignatureShare) &#45;&gt; Self</text>
<text text-anchor="start" x="1900.89" y="-1671.8" font-family="Arial" font-size="14.00">&#45; threshold_crypto(&amp;self) &#45;&gt; (u64, &amp;SignatureShare)</text>
<text text-anchor="start" x="1900.89" y="-1656.8" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<polygon fill="none" stroke="black" points="1888.89,-1641 1888.89,-1799 2280.89,-1799 2280.89,-1641 1888.89,-1641"/>
</a>
</g>
</g>
<!-- ndIndexedSignatureShare&#45;&gt;ndSimpleKeyManager -->
<g id="edge11" class="edge"><title>ndIndexedSignatureShare&#45;&gt;ndSimpleKeyManager</title>
<path fill="none" stroke="black" d="M2009.74,-1636.61C1971.4,-1598.84 1922.12,-1556.29 1870.89,-1528 1773.11,-1474 1658.1,-1434.42 1552.53,-1406.03"/>
<polygon fill="black" stroke="black" points="1542.68,-1403.4 1553.5,-1401.63 1547.51,-1404.69 1552.34,-1405.97 1552.34,-1405.97 1552.34,-1405.97 1547.51,-1404.69 1551.18,-1410.32 1542.68,-1403.4 1542.68,-1403.4"/>
</g>
<!-- ndIndexedSignatureShare&#45;&gt;ndSpentProofShare -->
<g id="edge12" class="edge"><title>ndIndexedSignatureShare&#45;&gt;ndSpentProofShare</title>
<path fill="none" stroke="black" d="M2108.9,-1636.84C2121.51,-1593.68 2137.34,-1539.48 2151.98,-1489.39"/>
<polygon fill="black" stroke="black" points="2152.01,-1489.28 2149.85,-1482.4 2155.37,-1477.76 2157.53,-1484.64 2152.01,-1489.28"/>
</g>
<!-- ndKeyManager -->
<g id="node4" class="node"><title>ndKeyManager</title>
<g id="a_node4_13"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/key_manager.rs#:~:text=trait%20KeyManager" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightgreen" stroke="none" points="1272.89,-1757 1272.89,-1794 1853.89,-1794 1853.89,-1757 1272.89,-1757"/>
<polygon fill="none" stroke="black" points="1272.89,-1757 1272.89,-1794 1853.89,-1794 1853.89,-1757 1272.89,-1757"/>
<text text-anchor="start" x="1518.89" y="-1772.8" font-family="Arial" font-weight="bold" font-size="14.00">KeyManager</text>
<polygon fill="white" stroke="none" points="1272.89,-1645 1272.89,-1757 1853.89,-1757 1853.89,-1645 1272.89,-1645"/>
<polygon fill="none" stroke="black" points="1272.89,-1645 1272.89,-1757 1853.89,-1757 1853.89,-1645 1272.89,-1645"/>
<text text-anchor="start" x="1283.89" y="-1734.8" font-family="Arial" font-size="14.00">add_known_key(&amp;mut Self, PublicKey) &#45;&gt; Result&lt;(), Self::Error&gt;</text>
<text text-anchor="start" x="1283.89" y="-1719.8" font-family="Arial" font-size="14.00">sign_with_child_key(&amp;Self, &amp;[u8], &amp;Hash) &#45;&gt; Result&lt;IndexedSignatureShare, Self::Error&gt;</text>
<text text-anchor="start" x="1283.89" y="-1704.8" font-family="Arial" font-size="14.00">sign(&amp;Self, &amp;Hash) &#45;&gt; Result&lt;IndexedSignatureShare, Self::Error&gt;</text>
<text text-anchor="start" x="1283.89" y="-1689.8" font-family="Arial" font-size="14.00">public_key_set(&amp;Self) &#45;&gt; Result&lt;PublicKeySet, Self::Error&gt;</text>
<text text-anchor="start" x="1283.89" y="-1674.8" font-family="Arial" font-size="14.00">verify(&amp;Self, &amp;Hash, &amp;PublicKey, &amp;Signature) &#45;&gt; Result&lt;(), Self::Error&gt;</text>
<text text-anchor="start" x="1283.89" y="-1659.8" font-family="Arial" font-size="14.00">verify_known_key(&amp;Self, &amp;PublicKey) &#45;&gt; Result&lt;(), Self::Error&gt;</text>
<polygon fill="none" stroke="black" points="1271.39,-1644.5 1271.39,-1795.5 1854.39,-1795.5 1854.39,-1644.5 1271.39,-1644.5"/>
</a>
</g>
</g>
<!-- ndKeyManager&#45;&gt;ndSimpleKeyManager -->
<g id="edge13" class="edge"><title>ndKeyManager&#45;&gt;ndSimpleKeyManager</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1492.46,-1640.07C1446.51,-1588.59 1385.66,-1520.4 1333.8,-1462.29"/>
<polygon fill="none" stroke="black" points="1336.14,-1459.66 1326.87,-1454.53 1330.92,-1464.32 1336.14,-1459.66"/>
</g>
<!-- ndKeyManager&#45;&gt;ndSpentBookNodeMock -->
<g id="edge14" class="edge"><title>ndKeyManager&#45;&gt;ndSpentBookNodeMock</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1574.37,-1640.32C1586.75,-1535.2 1598.82,-1344.37 1550.89,-1191 1541.57,-1161.17 1527.14,-1131.59 1510.81,-1104.06"/>
<polygon fill="black" stroke="black" points="1505.44,-1095.19 1514.47,-1101.42 1508.03,-1099.47 1510.62,-1103.75 1510.62,-1103.75 1510.62,-1103.75 1508.03,-1099.47 1506.77,-1106.08 1505.44,-1095.19 1505.44,-1095.19"/>
</g>
<!-- ndSimpleSigner -->
<g id="node5" class="node"><title>ndSimpleSigner</title>
<g id="a_node5_14"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/key_manager.rs#:~:text=struct%20SimpleSigner" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="625.894,-1783 625.894,-1820 1197.89,-1820 1197.89,-1783 625.894,-1783"/>
<polygon fill="none" stroke="black" points="625.894,-1783 625.894,-1820 1197.89,-1820 1197.89,-1783 625.894,-1783"/>
<text text-anchor="start" x="864.894" y="-1798.8" font-family="Arial" font-weight="bold" font-size="14.00">SimpleSigner</text>
<polygon fill="white" stroke="none" points="625.894,-1731 625.894,-1783 1197.89,-1783 1197.89,-1731 625.894,-1731"/>
<polygon fill="none" stroke="black" points="625.894,-1731 625.894,-1783 1197.89,-1783 1197.89,-1731 625.894,-1731"/>
<text text-anchor="start" x="636.894" y="-1760.8" font-family="Arial" font-size="14.00">&#45; public_key_set: PublicKeySet</text>
<text text-anchor="start" x="636.894" y="-1745.8" font-family="Arial" font-size="14.00">&#45; secret_key_share: (u64, SerdeSecret&lt;SecretKeyShare&gt;)</text>
<polygon fill="white" stroke="none" points="625.894,-1619 625.894,-1731 1197.89,-1731 1197.89,-1619 625.894,-1619"/>
<polygon fill="none" stroke="black" points="625.894,-1619 625.894,-1731 1197.89,-1731 1197.89,-1619 625.894,-1619"/>
<text text-anchor="start" x="636.894" y="-1708.8" font-family="Arial" font-size="14.00">&#45; from(outcome: (PublicKeySet, SecretKeyShare, usize)) &#45;&gt; Self</text>
<text text-anchor="start" x="636.894" y="-1693.8" font-family="Arial" font-size="14.00">&#45; new(public_key_set: PublicKeySet, secret_key_share: (u64, SecretKeyShare)) &#45;&gt; Self</text>
<text text-anchor="start" x="636.894" y="-1678.8" font-family="Arial" font-size="14.00">&#45; index(&amp;self) &#45;&gt; u64</text>
<text text-anchor="start" x="636.894" y="-1663.8" font-family="Arial" font-size="14.00">&#45; public_key_set(&amp;self) &#45;&gt; PublicKeySet</text>
<text text-anchor="start" x="636.894" y="-1648.8" font-family="Arial" font-size="14.00">&#45; sign(&amp;self, msg: M) &#45;&gt; blsttc::SignatureShare</text>
<text text-anchor="start" x="636.894" y="-1633.8" font-family="Arial" font-size="14.00">&#45; derive_child(&amp;self, index: &amp;[u8]) &#45;&gt; Self</text>
<polygon fill="none" stroke="black" points="624.894,-1618.5 624.894,-1821.5 1198.89,-1821.5 1198.89,-1618.5 624.894,-1618.5"/>
</a>
</g>
</g>
<!-- ndSimpleSigner&#45;&gt;ndSimpleKeyManager -->
<g id="edge15" class="edge"><title>ndSimpleSigner&#45;&gt;ndSimpleKeyManager</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M999.639,-1614.12C1038.63,-1567.52 1084.77,-1512.37 1125.26,-1463.98"/>
<polygon fill="black" stroke="black" points="1125.31,-1463.92 1126.09,-1456.75 1133.01,-1454.71 1132.23,-1461.88 1125.31,-1463.92"/>
</g>
<!-- ndSimpleKeyManager&#45;&gt;ndSpentBookNodeMock -->
<g id="edge16" class="edge"><title>ndSimpleKeyManager&#45;&gt;ndSpentBookNodeMock</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1277.69,-1228.29C1294.97,-1190.09 1314.56,-1146.82 1332.86,-1106.38"/>
<polygon fill="black" stroke="black" points="1332.92,-1106.27 1331.75,-1099.15 1337.86,-1095.33 1339.03,-1102.45 1332.92,-1106.27"/>
</g>
<!-- ndKeys&#45;&gt;ndSimpleKeyManager -->
<g id="edge17" class="edge"><title>ndKeys&#45;&gt;ndSimpleKeyManager</title>
<path fill="none" stroke="black" d="M440.688,-1636.9C488.563,-1599.54 548.676,-1557.25 607.894,-1528 698.995,-1483.01 803.112,-1446.63 899.632,-1418.41"/>
<polygon fill="black" stroke="black" points="899.838,-1418.35 904.487,-1412.84 911.364,-1415.01 906.715,-1420.52 899.838,-1418.35"/>
</g>
<!-- ndDbcContent&#45;&gt;ndDbc -->
<g id="edge18" class="edge"><title>ndDbcContent&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M3193.61,-1235.91C3210.33,-1213.7 3228.52,-1189.53 3246.96,-1165.03"/>
<polygon fill="black" stroke="black" points="3247.09,-1164.85 3247.51,-1157.65 3254.31,-1155.26 3253.9,-1162.46 3247.09,-1164.85"/>
</g>
<!-- ndGenesisMaterial -->
<g id="node9" class="node"><title>ndGenesisMaterial</title>
<g id="a_node9_15"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/genesis.rs#:~:text=struct%20GenesisMaterial" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="3376.89,-1761 3376.89,-1798 3603.89,-1798 3603.89,-1761 3376.89,-1761"/>
<polygon fill="none" stroke="black" points="3376.89,-1761 3376.89,-1798 3603.89,-1798 3603.89,-1761 3376.89,-1761"/>
<text text-anchor="start" x="3433.89" y="-1776.8" font-family="Arial" font-weight="bold" font-size="14.00">GenesisMaterial</text>
<polygon fill="white" stroke="none" points="3376.89,-1694 3376.89,-1761 3603.89,-1761 3603.89,-1694 3376.89,-1694"/>
<polygon fill="none" stroke="black" points="3376.89,-1694 3376.89,-1761 3603.89,-1761 3603.89,-1694 3376.89,-1694"/>
<text text-anchor="start" x="3387.89" y="-1738.8" font-family="Arial" font-size="14.00">+ ringct_material: RingCtMaterial</text>
<text text-anchor="start" x="3387.89" y="-1723.8" font-family="Arial" font-size="14.00">+ owner_once: OwnerOnce</text>
<text text-anchor="start" x="3387.89" y="-1708.8" font-family="Arial" font-size="14.00">+ input_key_image: KeyImage</text>
<polygon fill="white" stroke="none" points="3376.89,-1641 3376.89,-1694 3603.89,-1694 3603.89,-1641 3376.89,-1641"/>
<polygon fill="none" stroke="black" points="3376.89,-1641 3376.89,-1694 3603.89,-1694 3603.89,-1641 3376.89,-1641"/>
<text text-anchor="start" x="3387.89" y="-1656.8" font-family="Arial" font-size="14.00">&#45; default() &#45;&gt; Self</text>
<polygon fill="none" stroke="black" points="3375.39,-1640.5 3375.39,-1799.5 3604.39,-1799.5 3604.39,-1640.5 3375.39,-1640.5"/>
</a>
</g>
</g>
<!-- ndOwner -->
<g id="node10" class="node"><title>ndOwner</title>
<g id="a_node10_16"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/owner.rs#:~:text=enum%20Owner" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="2939.89,-1829 2939.89,-1866 3340.89,-1866 3340.89,-1829 2939.89,-1829"/>
<polygon fill="none" stroke="black" points="2939.89,-1829 2939.89,-1866 3340.89,-1866 3340.89,-1829 2939.89,-1829"/>
<text text-anchor="start" x="3117.39" y="-1844.8" font-family="Arial" font-weight="bold" font-size="14.00">Owner</text>
<polygon fill="white" stroke="none" points="2939.89,-1777 2939.89,-1829 3340.89,-1829 3340.89,-1777 2939.89,-1777"/>
<polygon fill="none" stroke="black" points="2939.89,-1777 2939.89,-1829 3340.89,-1829 3340.89,-1777 2939.89,-1777"/>
<text text-anchor="start" x="2950.89" y="-1806.8" font-family="Arial" font-size="14.00">SecretKey(SerdeSecret&lt;SecretKey&gt;)</text>
<text text-anchor="start" x="2950.89" y="-1791.8" font-family="Arial" font-size="14.00">PublicKey(PublicKey)</text>
<polygon fill="white" stroke="none" points="2939.89,-1574 2939.89,-1777 3340.89,-1777 3340.89,-1574 2939.89,-1574"/>
<polygon fill="none" stroke="black" points="2939.89,-1574 2939.89,-1777 3340.89,-1777 3340.89,-1574 2939.89,-1574"/>
<text text-anchor="start" x="2950.89" y="-1754.8" font-family="Arial" font-size="14.00">&#45; fmt(&amp;self, f: &amp;mut fmt::Formatter&lt;&#39;_&gt;) &#45;&gt; fmt::Result</text>
<text text-anchor="start" x="2950.89" y="-1739.8" font-family="Arial" font-size="14.00">&#45; from(s: SecretKey) &#45;&gt; Self</text>
<text text-anchor="start" x="2950.89" y="-1724.8" font-family="Arial" font-size="14.00">&#45; from(p: PublicKey) &#45;&gt; Self</text>
<text text-anchor="start" x="2950.89" y="-1709.8" font-family="Arial" font-size="14.00">&#45; eq(&amp;self, other: &amp;Self) &#45;&gt; bool</text>
<text text-anchor="start" x="2950.89" y="-1678" font-family="Arial" font-size="14.00">&#45; public_key(&amp;self) &#45;&gt; PublicKey</text>
<text text-anchor="start" x="2950.89" y="-1663" font-family="Arial" font-size="14.00">&#45; secret_key(&amp;self) &#45;&gt; Result&lt;SecretKey&gt;</text>
<text text-anchor="start" x="2950.89" y="-1648" font-family="Arial" font-size="14.00">&#45; derive(&amp;self, i: &amp;DerivationIndex) &#45;&gt; Self</text>
<text text-anchor="start" x="2950.89" y="-1633" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="2950.89" y="-1618" font-family="Arial" font-size="14.00">&#45; has_secret_key(&amp;self) &#45;&gt; bool</text>
<text text-anchor="start" x="2950.89" y="-1603" font-family="Arial" font-size="14.00">&#45; from_random_secret_key(rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="2950.89" y="-1588" font-family="Arial" font-size="14.00">&#45; from(o: OwnerOnce) &#45;&gt; Self</text>
<polygon fill="none" stroke="black" points="2938.39,-1573 2938.39,-1867 3341.39,-1867 3341.39,-1573 2938.39,-1573"/>
</a>
</g>
</g>
<!-- ndOwner&#45;&gt;ndDbcContent -->
<g id="edge19" class="edge"><title>ndOwner&#45;&gt;ndDbcContent</title>
<path fill="none" stroke="black" d="M3129.92,-1568.84C3127.5,-1532.36 3124.95,-1493.89 3122.64,-1459.22"/>
<polygon fill="black" stroke="black" points="3122.64,-1459.09 3118.25,-1453.37 3121.84,-1447.12 3126.23,-1452.84 3122.64,-1459.09"/>
</g>
<!-- ndOwnerOnce -->
<g id="node11" class="node"><title>ndOwnerOnce</title>
<g id="a_node11_17"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/owner.rs#:~:text=struct%20OwnerOnce" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2896.89,-2086.5 2896.89,-2123.5 3383.89,-2123.5 3383.89,-2086.5 2896.89,-2086.5"/>
<polygon fill="none" stroke="black" points="2896.89,-2086.5 2896.89,-2123.5 3383.89,-2123.5 3383.89,-2086.5 2896.89,-2086.5"/>
<text text-anchor="start" x="3098.89" y="-2102.3" font-family="Arial" font-weight="bold" font-size="14.00">OwnerOnce</text>
<polygon fill="white" stroke="none" points="2896.89,-2034.5 2896.89,-2086.5 3383.89,-2086.5 3383.89,-2034.5 2896.89,-2034.5"/>
<polygon fill="none" stroke="black" points="2896.89,-2034.5 2896.89,-2086.5 3383.89,-2086.5 3383.89,-2034.5 2896.89,-2034.5"/>
<text text-anchor="start" x="2907.89" y="-2064.3" font-family="Arial" font-size="14.00">+ owner_base: Owner</text>
<text text-anchor="start" x="2907.89" y="-2049.3" font-family="Arial" font-size="14.00">+ derivation_index: DerivationIndex</text>
<polygon fill="white" stroke="none" points="2896.89,-1952.5 2896.89,-2034.5 3383.89,-2034.5 3383.89,-1952.5 2896.89,-1952.5"/>
<polygon fill="none" stroke="black" points="2896.89,-1952.5 2896.89,-2034.5 3383.89,-2034.5 3383.89,-1952.5 2896.89,-1952.5"/>
<text text-anchor="start" x="2907.89" y="-2012.3" font-family="Arial" font-size="14.00">&#45; owner_base(&amp;self) &#45;&gt; &amp;Owner</text>
<text text-anchor="start" x="2907.89" y="-1997.3" font-family="Arial" font-size="14.00">&#45; as_owner(&amp;self) &#45;&gt; Owner</text>
<text text-anchor="start" x="2907.89" y="-1982.3" font-family="Arial" font-size="14.00">&#45; from_owner_base(owner_base: Owner, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="2907.89" y="-1967.3" font-family="Arial" font-size="14.00">&#45; random_derivation_index(rng: &amp;mut impl RngCore) &#45;&gt; [u8; 32]</text>
<polygon fill="none" stroke="black" points="2895.39,-1952 2895.39,-2125 3384.39,-2125 3384.39,-1952 2895.39,-1952"/>
</a>
</g>
</g>
<!-- ndOwner&#45;&gt;ndOwnerOnce -->
<g id="edge20" class="edge"><title>ndOwner&#45;&gt;ndOwnerOnce</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M3146.64,-1871.26C3146.68,-1893 3146.55,-1914.93 3146.25,-1935.43"/>
<polygon fill="black" stroke="black" points="3146.25,-1935.65 3150.15,-1941.72 3146.05,-1947.65 3142.15,-1941.59 3146.25,-1935.65"/>
</g>
<!-- ndOwner&#45;&gt;ndDbc -->
<g id="edge21" class="edge"><title>ndOwner&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M3317.29,-1568.76C3347.44,-1539.42 3371.95,-1511.69 3380.89,-1492 3406.76,-1435.06 3410.86,-1289.57 3408.97,-1165.18"/>
<polygon fill="black" stroke="black" points="3408.81,-1155.12 3413.47,-1165.05 3408.89,-1160.12 3408.97,-1165.12 3408.97,-1165.12 3408.97,-1165.12 3408.89,-1160.12 3404.47,-1165.2 3408.81,-1155.12 3408.81,-1155.12"/>
</g>
<!-- ndOwnerOnce&#45;&gt;ndGenesisMaterial -->
<g id="edge22" class="edge"><title>ndOwnerOnce&#45;&gt;ndGenesisMaterial</title>
<path fill="none" stroke="black" d="M3312.82,-1947.85C3328.76,-1936.71 3344.08,-1924.72 3357.89,-1912 3388.39,-1883.91 3415.69,-1847.56 3437.44,-1814.12"/>
<polygon fill="black" stroke="black" points="3437.55,-1813.96 3437.41,-1806.75 3444.01,-1803.85 3444.15,-1811.06 3437.55,-1813.96"/>
</g>
<!-- ndOwnerOnce&#45;&gt;ndOwner -->
<g id="edge23" class="edge"><title>ndOwnerOnce&#45;&gt;ndOwner</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M3133.74,-1947.65C3133.35,-1926.88 3133.16,-1904.15 3133.14,-1881.37"/>
<polygon fill="black" stroke="black" points="3133.15,-1871.26 3137.64,-1881.26 3133.15,-1876.26 3133.14,-1881.26 3133.14,-1881.26 3133.14,-1881.26 3133.15,-1876.26 3128.64,-1881.26 3133.15,-1871.26 3133.15,-1871.26"/>
</g>
<!-- ndTransactionBuilder -->
<g id="node13" class="node"><title>ndTransactionBuilder</title>
<g id="a_node13_18"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/builder.rs#:~:text=struct%20TransactionBuilder" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="3224.89,-394 3224.89,-431 4240.89,-431 4240.89,-394 3224.89,-394"/>
<polygon fill="none" stroke="black" points="3224.89,-394 3224.89,-431 4240.89,-431 4240.89,-394 3224.89,-394"/>
<text text-anchor="start" x="3665.89" y="-409.8" font-family="Arial" font-weight="bold" font-size="14.00">TransactionBuilder</text>
<polygon fill="white" stroke="none" points="3224.89,-342 3224.89,-394 4240.89,-394 4240.89,-342 3224.89,-342"/>
<polygon fill="none" stroke="black" points="3224.89,-342 3224.89,-394 4240.89,-394 4240.89,-342 3224.89,-342"/>
<text text-anchor="start" x="3235.89" y="-371.8" font-family="Arial" font-size="14.00">&#45; ringct_material: RingCtMaterial</text>
<text text-anchor="start" x="3235.89" y="-356.8" font-family="Arial" font-size="14.00">&#45; output_owner_map: OutputOwnerMap</text>
<polygon fill="white" stroke="none" points="3224.89,-5 3224.89,-342 4240.89,-342 4240.89,-5 3224.89,-5"/>
<polygon fill="none" stroke="black" points="3224.89,-5 3224.89,-342 4240.89,-342 4240.89,-5 3224.89,-5"/>
<text text-anchor="start" x="3235.89" y="-319.8" font-family="Arial" font-size="14.00">&#45; add_input(mut self, mlsag: MlsagMaterial) &#45;&gt; Self</text>
<text text-anchor="start" x="3235.89" y="-304.8" font-family="Arial" font-size="14.00">&#45; add_inputs(mut self, inputs: impl IntoIterator&lt;Item = MlsagMaterial&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="3235.89" y="-289.8" font-family="Arial" font-size="14.00">&#45; add_input_by_true_input(mut self, true_input: TrueInput, decoy_inputs: Vec&lt;DecoyInput&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="3235.89" y="-274.8" font-family="Arial" font-size="14.00">&#45; add_inputs_by_true_inputs(mut self, inputs: impl IntoIterator&lt;Item = (TrueInput, Vec&lt;DecoyInput&gt;)&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="3235.89" y="-259.8" font-family="Arial" font-size="14.00">&#45; add_input_dbc(mut self, dbc: &amp;Dbc, base_sk: &amp;SecretKey, decoy_inputs: Vec&lt;DecoyInput&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="3235.89" y="-244.8" font-family="Arial" font-size="14.00">&#45; add_inputs_dbc(mut self, dbcs: impl IntoIterator&lt;Item = (Dbc, SecretKey, Vec&lt;DecoyInput&gt;)&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="3235.89" y="-229.8" font-family="Arial" font-size="14.00">&#45; add_input_dbc_bearer(mut self, dbc: &amp;Dbc, decoy_inputs: Vec&lt;DecoyInput&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="3235.89" y="-214.8" font-family="Arial" font-size="14.00">&#45; add_inputs_dbc_bearer(mut self, dbcs: impl IntoIterator&lt;Item = (Dbc, Vec&lt;DecoyInput&gt;)&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Result&lt;Self&gt;</text>
<text text-anchor="start" x="3235.89" y="-199.8" font-family="Arial" font-size="14.00">&#45; add_input_by_secrets(mut self, secret_key: SecretKey, amount_secrets: AmountSecrets, decoy_inputs: Vec&lt;DecoyInput&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="3235.89" y="-184.8" font-family="Arial" font-size="14.00">&#45; add_inputs_by_secrets(mut self, secrets: Vec&lt;(SecretKey, AmountSecrets, Vec&lt;DecoyInput&gt;)&gt;, rng: &amp;mut impl RngCore) &#45;&gt; Self</text>
<text text-anchor="start" x="3235.89" y="-169.8" font-family="Arial" font-size="14.00">&#45; add_output(mut self, output: Output, owner: OwnerOnce) &#45;&gt; Self</text>
<text text-anchor="start" x="3235.89" y="-154.8" font-family="Arial" font-size="14.00">&#45; add_outputs(mut self, outputs: impl IntoIterator&lt;Item = (Output, OwnerOnce)&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="3235.89" y="-139.8" font-family="Arial" font-size="14.00">&#45; add_output_by_amount(mut self, amount: Amount, owner: OwnerOnce) &#45;&gt; Self</text>
<text text-anchor="start" x="3235.89" y="-124.8" font-family="Arial" font-size="14.00">&#45; add_outputs_by_amount(mut self, outputs: impl IntoIterator&lt;Item = (Amount, OwnerOnce)&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="3235.89" y="-109.8" font-family="Arial" font-size="14.00">&#45; input_owners(&amp;self) &#45;&gt; Vec&lt;PublicKey&gt;</text>
<text text-anchor="start" x="3235.89" y="-94.8" font-family="Arial" font-size="14.00">&#45; inputs_amount_sum(&amp;self) &#45;&gt; Amount</text>
<text text-anchor="start" x="3235.89" y="-79.8" font-family="Arial" font-size="14.00">&#45; outputs_amount_sum(&amp;self) &#45;&gt; Amount</text>
<text text-anchor="start" x="3235.89" y="-64.8" font-family="Arial" font-size="14.00">&#45; inputs(&amp;self) &#45;&gt; &amp;Vec&lt;MlsagMaterial&gt;</text>
<text text-anchor="start" x="3235.89" y="-49.8" font-family="Arial" font-size="14.00">&#45; outputs(&amp;self) &#45;&gt; &amp;Vec&lt;Output&gt;</text>
<text text-anchor="start" x="3235.89" y="-34.8" font-family="Arial" font-size="14.00">&#45; build(self, rng: impl RngCore + CryptoRng) &#45;&gt; Result&lt;DbcBuilder&gt;</text>
<text text-anchor="start" x="3235.89" y="-19.8" font-family="Arial" font-size="14.00">&#45; filter_decoys(true_input: &amp;TrueInput, decoy_inputs: Vec&lt;DecoyInput&gt;) &#45;&gt; Vec&lt;DecoyInput&gt;</text>
<polygon fill="none" stroke="black" points="3223.89,-4 3223.89,-432 4241.89,-432 4241.89,-4 3223.89,-4"/>
</a>
</g>
</g>
<!-- ndOwnerOnce&#45;&gt;ndTransactionBuilder -->
<g id="edge24" class="edge"><title>ndOwnerOnce&#45;&gt;ndTransactionBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M3392.52,-2018.29C3565.19,-2000.86 3797.91,-1968.86 3996.89,-1912 4482.01,-1773.38 4978.89,-1847.03 4978.89,-1342.5 4978.89,-1342.5 4978.89,-1342.5 4978.89,-958.5 4978.89,-603.3 4599.81,-414.956 4259.83,-317.466"/>
<polygon fill="black" stroke="black" points="4250.04,-314.68 4260.88,-313.088 4254.84,-316.048 4259.65,-317.416 4259.65,-317.416 4259.65,-317.416 4254.84,-316.048 4258.42,-321.745 4250.04,-314.68 4250.04,-314.68"/>
</g>
<!-- ndDbcBuilder -->
<g id="node14" class="node"><title>ndDbcBuilder</title>
<g id="a_node14_19"><a xlink:href="https://github.com/maidsafe/sn_dbc/blob/master/src/builder.rs#:~:text=struct%20DbcBuilder" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2331.89,-686 2331.89,-723 3427.89,-723 3427.89,-686 2331.89,-686"/>
<polygon fill="none" stroke="black" points="2331.89,-686 2331.89,-723 3427.89,-723 3427.89,-686 2331.89,-686"/>
<text text-anchor="start" x="2840.39" y="-701.8" font-family="Arial" font-weight="bold" font-size="14.00">DbcBuilder</text>
<polygon fill="white" stroke="none" points="2331.89,-589 2331.89,-686 3427.89,-686 3427.89,-589 2331.89,-589"/>
<polygon fill="none" stroke="black" points="2331.89,-589 2331.89,-686 3427.89,-686 3427.89,-589 2331.89,-589"/>
<text text-anchor="start" x="2342.89" y="-663.8" font-family="Arial" font-size="14.00">+ transaction: RingCtTransaction</text>
<text text-anchor="start" x="2342.89" y="-648.8" font-family="Arial" font-size="14.00">+ revealed_commitments: Vec&lt;RevealedCommitment&gt;</text>
<text text-anchor="start" x="2342.89" y="-633.8" font-family="Arial" font-size="14.00">+ output_owner_map: OutputOwnerMap</text>
<text text-anchor="start" x="2342.89" y="-618.8" font-family="Arial" font-size="14.00">+ ringct_material: RingCtMaterial</text>
<text text-anchor="start" x="2342.89" y="-603.8" font-family="Arial" font-size="14.00">+ spent_proof_shares: BTreeMap&lt;KeyImage, HashSet&lt;SpentProofShare&gt;&gt;</text>
<polygon fill="white" stroke="none" points="2331.89,-477 2331.89,-589 3427.89,-589 3427.89,-477 2331.89,-477"/>
<polygon fill="none" stroke="black" points="2331.89,-477 2331.89,-589 3427.89,-589 3427.89,-477 2331.89,-477"/>
<text text-anchor="start" x="2342.89" y="-566.8" font-family="Arial" font-size="14.00">&#45; new(transaction: RingCtTransaction, revealed_commitments: Vec&lt;RevealedCommitment&gt;, output_owner_map: OutputOwnerMap, ringct_material: RingCtMaterial) &#45;&gt; Self</text>
<text text-anchor="start" x="2342.89" y="-551.8" font-family="Arial" font-size="14.00">&#45; inputs(&amp;self) &#45;&gt; Vec&lt;(KeyImage, RingCtTransaction)&gt;</text>
<text text-anchor="start" x="2342.89" y="-536.8" font-family="Arial" font-size="14.00">&#45; add_spent_proof_share(mut self, share: SpentProofShare) &#45;&gt; Self</text>
<text text-anchor="start" x="2342.89" y="-521.8" font-family="Arial" font-size="14.00">&#45; add_spent_proof_shares(mut self, shares: impl IntoIterator&lt;Item = SpentProofShare&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="2342.89" y="-506.8" font-family="Arial" font-size="14.00">&#45; build(self, verifier: &amp;K) &#45;&gt; Result&lt;Vec&lt;(Dbc, OwnerOnce, AmountSecrets)&gt;&gt;</text>
<text text-anchor="start" x="2342.89" y="-491.8" font-family="Arial" font-size="14.00">&#45; spent_proofs(&amp;self) &#45;&gt; Result&lt;BTreeSet&lt;SpentProof&gt;&gt;</text>
<polygon fill="none" stroke="black" points="2330.89,-476 2330.89,-724 3428.89,-724 3428.89,-476 2330.89,-476"/>
</a>
</g>
</g>
<!-- ndOwnerOnce&#45;&gt;ndDbcBuilder -->
<g id="edge25" class="edge"><title>ndOwnerOnce&#45;&gt;ndDbcBuilder</title>
<path fill="none" stroke="black" d="M2953.23,-1947.82C2941.09,-1937.01 2930.07,-1925.1 2920.89,-1912 2790.67,-1726.17 2838.36,-1035.11 2865.87,-738.104"/>
<polygon fill="black" stroke="black" points="2866.8,-728.137 2870.35,-738.512 2866.34,-733.116 2865.87,-738.094 2865.87,-738.094 2865.87,-738.094 2866.34,-733.116 2861.39,-737.676 2866.8,-728.137 2866.8,-728.137"/>
</g>
<!-- ndDbc&#45;&gt;ndTransactionBuilder -->
<g id="edge26" class="edge"><title>ndDbc&#45;&gt;ndTransactionBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M3488.34,-763.722C3532.21,-666.002 3585.6,-547.091 3631.28,-445.331"/>
<polygon fill="black" stroke="black" points="3635.4,-436.165 3635.41,-447.131 3633.35,-440.726 3631.3,-445.288 3631.3,-445.288 3631.3,-445.288 3633.35,-440.726 3627.2,-443.445 3635.4,-436.165 3635.4,-436.165"/>
</g>
<!-- ndDbc&#45;&gt;ndDbcBuilder -->
<g id="edge27" class="edge"><title>ndDbc&#45;&gt;ndDbcBuilder</title>
<path fill="none" stroke="black" d="M3120.57,-766.146C3104.72,-755.269 3088.96,-744.46 3073.55,-733.881"/>
<polygon fill="black" stroke="black" points="3065.02,-728.028 3075.81,-729.976 3069.14,-730.857 3073.26,-733.686 3073.26,-733.686 3073.26,-733.686 3069.14,-730.857 3070.72,-737.396 3065.02,-728.028 3065.02,-728.028"/>
</g>
<!-- ndDbcBuilder&#45;&gt;ndTransactionBuilder -->
<g id="edge28" class="edge"><title>ndDbcBuilder&#45;&gt;ndTransactionBuilder</title>
<path fill="none" stroke="black" d="M3165.12,-471.937C3188.31,-461.606 3212.13,-450.995 3236.25,-440.247"/>
<polygon fill="black" stroke="black" points="3245.51,-436.121 3238.21,-444.301 3240.95,-438.156 3236.38,-440.19 3236.38,-440.19 3236.38,-440.19 3240.95,-438.156 3234.55,-436.08 3245.51,-436.121 3245.51,-436.121"/>
</g>
<!-- ndSpentProofContent&#45;&gt;ndSpentProofShare -->
<g id="edge29" class="edge"><title>ndSpentProofContent&#45;&gt;ndSpentProofShare</title>
<path fill="none" stroke="black" d="M2446.89,-1621.55C2409.82,-1580.5 2365.9,-1531.86 2325.19,-1486.79"/>
<polygon fill="black" stroke="black" points="2325.14,-1486.73 2318.15,-1484.96 2317.1,-1477.82 2324.09,-1479.6 2325.14,-1486.73"/>
</g>
<!-- ndSpentProofContent&#45;&gt;ndSpentProof -->
<g id="edge30" class="edge"><title>ndSpentProofContent&#45;&gt;ndSpentProof</title>
<path fill="none" stroke="black" d="M2554.05,-1621.55C2563.8,-1571.93 2575.73,-1511.23 2585.97,-1459.14"/>
<polygon fill="black" stroke="black" points="2586.01,-1458.9 2583.25,-1452.25 2588.33,-1447.13 2591.1,-1453.79 2586.01,-1458.9"/>
</g>
<!-- ndSpentProofShare&#45;&gt;ndDbcBuilder -->
<g id="edge31" class="edge"><title>ndSpentProofShare&#45;&gt;ndDbcBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2293.47,-1205.34C2385.07,-1083.84 2528.57,-903.57 2671.89,-764 2681.49,-754.655 2691.6,-745.321 2701.99,-736.117"/>
<polygon fill="black" stroke="black" points="2702.16,-735.972 2704.03,-729.01 2711.18,-728.066 2709.31,-735.028 2702.16,-735.972"/>
</g>
<!-- ndSpentProofShare&#45;&gt;ndSpentBookNodeMock -->
<g id="edge32" class="edge"><title>ndSpentProofShare&#45;&gt;ndSpentBookNodeMock</title>
<path fill="none" stroke="black" d="M1991.2,-1243.26C1899.65,-1199.55 1789.92,-1147.17 1689.92,-1099.43"/>
<polygon fill="black" stroke="black" points="1680.9,-1095.12 1691.86,-1095.37 1685.41,-1097.28 1689.92,-1099.43 1689.92,-1099.43 1689.92,-1099.43 1685.41,-1097.28 1687.98,-1103.49 1680.9,-1095.12 1680.9,-1095.12"/>
</g>
<!-- ndSpentProof&#45;&gt;ndDbc -->
<g id="edge33" class="edge"><title>ndSpentProof&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M2768.13,-1235.88C2794.37,-1220.11 2821.59,-1204.59 2847.89,-1191 2931,-1148.06 3023.96,-1106.84 3109.6,-1071.44"/>
<polygon fill="black" stroke="black" points="3109.72,-1071.38 3113.74,-1065.4 3120.81,-1066.81 3116.79,-1072.8 3109.72,-1071.38"/>
</g>
<!-- ndSpentProof&#45;&gt;ndDbcBuilder -->
<g id="edge34" class="edge"><title>ndSpentProof&#45;&gt;ndDbcBuilder</title>
<path fill="none" stroke="black" d="M2644.98,-1235.94C2685.24,-1120.12 2752.9,-928.046 2814.89,-764 2818.17,-755.328 2821.59,-746.415 2825.06,-737.44"/>
<polygon fill="black" stroke="black" points="2828.71,-728.072 2829.28,-739.023 2826.89,-732.732 2825.08,-737.393 2825.08,-737.393 2825.08,-737.393 2826.89,-732.732 2820.89,-735.762 2828.71,-728.072 2828.71,-728.072"/>
</g>
<!-- ndAmountSecrets&#45;&gt;ndDbc -->
<g id="edge35" class="edge"><title>ndAmountSecrets&#45;&gt;ndDbc</title>
<path fill="none" stroke="black" d="M3656.11,-1190.86C3645.54,-1181.33 3634.82,-1171.65 3624.06,-1161.93"/>
<polygon fill="black" stroke="black" points="3616.6,-1155.2 3627.04,-1158.56 3620.31,-1158.55 3624.02,-1161.9 3624.02,-1161.9 3624.02,-1161.9 3620.31,-1158.55 3621.01,-1165.24 3616.6,-1155.2 3616.6,-1155.2"/>
</g>
<!-- ndAmountSecrets&#45;&gt;ndTransactionBuilder -->
<g id="edge36" class="edge"><title>ndAmountSecrets&#45;&gt;ndTransactionBuilder</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M3810.03,-1190.99C3794.89,-1000.26 3768.57,-668.527 3750.94,-446.382"/>
<polygon fill="black" stroke="black" points="3750.13,-436.218 3755.41,-445.83 3750.53,-441.202 3750.92,-446.186 3750.92,-446.186 3750.92,-446.186 3750.53,-441.202 3746.44,-446.542 3750.13,-436.218 3750.13,-436.218"/>
</g>
<!-- ndAmountSecrets&#45;&gt;ndDbcBuilder -->
<g id="edge37" class="edge"><title>ndAmountSecrets&#45;&gt;ndDbcBuilder</title>
<path fill="none" stroke="black" d="M3779.87,-1190.87C3776.74,-1178.76 3773.71,-1166.69 3770.89,-1155 3729.35,-982.464 3815.74,-889.131 3689.89,-764 3649.53,-723.87 3556.37,-692.956 3447,-669.402"/>
<polygon fill="black" stroke="black" points="3437.06,-667.289 3447.78,-664.965 3441.95,-668.328 3446.84,-669.367 3446.84,-669.367 3446.84,-669.367 3441.95,-668.328 3445.91,-673.769 3437.06,-667.289 3437.06,-667.289"/>
</g>
</g>
</svg>
