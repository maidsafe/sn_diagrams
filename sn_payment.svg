<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.38.0 (20140413.2041)
 -->
<!-- Title: ml Pages: 1 -->
<svg width="1995pt" height="578pt"
 viewBox="0.00 0.00 1994.50 578.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 574)">
<title>ml</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-574 1990.5,-574 1990.5,4 -4,4"/>
<!-- ndPaidInvoice -->
<g id="node1" class="node"><title>ndPaidInvoice</title>
<g id="a_node1_0"><a xlink:href="https://github.com/dan-da/sn_payment/blob/master/src/paid_invoice.rs#:~:text=struct%20PaidInvoice" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="764.5,-94 764.5,-131 1295.5,-131 1295.5,-94 764.5,-94"/>
<polygon fill="none" stroke="black" points="764.5,-94 764.5,-131 1295.5,-131 1295.5,-94 764.5,-94"/>
<text text-anchor="start" x="775.5" y="-109.8" font-family="Arial" font-weight="bold" font-size="14.00">pub struct PaidInvoice { &#160;&#160;&#160;pub invoice: Invoice, &#160;&#160;&#160;pub payment: Payment,}</text>
<polygon fill="white" stroke="none" points="764.5,-42 764.5,-94 1295.5,-94 1295.5,-42 764.5,-42"/>
<polygon fill="none" stroke="black" points="764.5,-42 764.5,-94 1295.5,-94 1295.5,-42 764.5,-42"/>
<text text-anchor="start" x="775.5" y="-71.8" font-family="Arial" font-size="14.00">+ invoice: Invoice</text>
<text text-anchor="start" x="775.5" y="-56.8" font-family="Arial" font-size="14.00">+ payment: Payment</text>
<polygon fill="white" stroke="none" points="764.5,-5 764.5,-42 1295.5,-42 1295.5,-5 764.5,-5"/>
<polygon fill="none" stroke="black" points="764.5,-5 764.5,-42 1295.5,-42 1295.5,-5 764.5,-5"/>
<text text-anchor="start" x="775.5" y="-19.8" font-family="Arial" font-size="14.00">&#45; verify(&amp;self) &#45;&gt; Result&lt;()&gt;</text>
<polygon fill="none" stroke="black" points="763,-4 763,-132 1296,-132 1296,-4 763,-4"/>
</a>
</g>
</g>
<!-- ndError -->
<g id="node2" class="node"><title>ndError</title>
<g id="a_node2_1"><a xlink:href="https://github.com/dan-da/sn_payment/blob/master/src/error.rs#:~:text=enum%20Error" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="1711.5,-502 1711.5,-539 1977.5,-539 1977.5,-502 1711.5,-502"/>
<polygon fill="none" stroke="black" points="1711.5,-502 1711.5,-539 1977.5,-539 1977.5,-502 1711.5,-502"/>
<text text-anchor="start" x="1826" y="-517.8" font-family="Arial" font-weight="bold" font-size="14.00">Error</text>
<polygon fill="white" stroke="none" points="1711.5,-405 1711.5,-502 1977.5,-502 1977.5,-405 1711.5,-405"/>
<polygon fill="none" stroke="black" points="1711.5,-405 1711.5,-502 1977.5,-502 1977.5,-405 1711.5,-405"/>
<text text-anchor="start" x="1722.5" y="-479.8" font-family="Arial" font-size="14.00">MemoTooLong</text>
<text text-anchor="start" x="1722.5" y="-464.8" font-family="Arial" font-size="14.00">PaymentDoesNotMatchInvoiceAmount</text>
<text text-anchor="start" x="1722.5" y="-449.8" font-family="Arial" font-size="14.00">InvoiceSignatureInvalid</text>
<text text-anchor="start" x="1722.5" y="-434.8" font-family="Arial" font-size="14.00">AmountCommitmentInvalid</text>
<text text-anchor="start" x="1722.5" y="-419.8" font-family="Arial" font-size="14.00">Dbc(sn_dbc::Error)</text>
<polygon fill="none" stroke="black" points="1710.5,-404 1710.5,-540 1978.5,-540 1978.5,-404 1710.5,-404"/>
</a>
</g>
</g>
<!-- ndInvoice -->
<g id="node3" class="node"><title>ndInvoice</title>
<g id="a_node3_2"><a xlink:href="https://github.com/dan-da/sn_payment/blob/master/src/invoice.rs#:~:text=struct%20Invoice" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="534.5,-296 534.5,-333 1151.5,-333 1151.5,-296 534.5,-296"/>
<polygon fill="none" stroke="black" points="534.5,-296 534.5,-333 1151.5,-333 1151.5,-296 534.5,-296"/>
<text text-anchor="start" x="545.5" y="-311.8" font-family="Arial" font-weight="bold" font-size="14.00">pub struct Invoice { &#160;&#160;&#160;pub content: InvoiceContent, &#160;&#160;&#160;pub payto_signature: Signature,}</text>
<polygon fill="white" stroke="none" points="534.5,-244 534.5,-296 1151.5,-296 1151.5,-244 534.5,-244"/>
<polygon fill="none" stroke="black" points="534.5,-244 534.5,-296 1151.5,-296 1151.5,-244 534.5,-244"/>
<text text-anchor="start" x="545.5" y="-273.8" font-family="Arial" font-size="14.00">+ content: InvoiceContent</text>
<text text-anchor="start" x="545.5" y="-258.8" font-family="Arial" font-size="14.00">+ payto_signature: Signature</text>
<polygon fill="white" stroke="none" points="534.5,-177 534.5,-244 1151.5,-244 1151.5,-177 534.5,-177"/>
<polygon fill="none" stroke="black" points="534.5,-177 534.5,-244 1151.5,-244 1151.5,-177 534.5,-177"/>
<text text-anchor="start" x="545.5" y="-221.8" font-family="Arial" font-size="14.00">&#45; verify(&amp;self) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="545.5" y="-206.8" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="545.5" y="-191.8" font-family="Arial" font-size="14.00">&#45; hash(&amp;self) &#45;&gt; Hash</text>
<polygon fill="none" stroke="black" points="533,-176 533,-334 1152,-334 1152,-176 533,-176"/>
</a>
</g>
</g>
<!-- ndInvoice&#45;&gt;ndPaidInvoice -->
<g id="edge1" class="edge"><title>ndInvoice&#45;&gt;ndPaidInvoice</title>
<path fill="none" stroke="black" d="M925.61,-171.779C934.702,-162.784 943.927,-153.658 952.935,-144.746"/>
<polygon fill="black" stroke="black" points="952.963,-144.718 954.415,-137.655 961.494,-136.279 960.042,-143.342 952.963,-144.718"/>
</g>
<!-- ndInvoiceContent -->
<g id="node4" class="node"><title>ndInvoiceContent</title>
<g id="a_node4_3"><a xlink:href="https://github.com/dan-da/sn_payment/blob/master/src/invoice_content.rs#:~:text=struct%20InvoiceContent" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="9.5,-528 9.5,-565 1676.5,-565 1676.5,-528 9.5,-528"/>
<polygon fill="none" stroke="black" points="9.5,-528 9.5,-565 1676.5,-565 1676.5,-528 9.5,-528"/>
<text text-anchor="start" x="20.5" y="-543.8" font-family="Arial" font-weight="bold" font-size="14.00">pub struct InvoiceContent { &#160;&#160;&#160;pub amount_commitment: CompressedRistretto, &#160;&#160;&#160;pub amount_secrets_cipher: Ciphertext, &#160;&#160;&#160;pub payto_public_key: PublicKey, // Owner&#39;s well&#45;known key. &#160;must match key DbcPacket.owner_key().public_key}</text>
<polygon fill="white" stroke="none" points="9.5,-461 9.5,-528 1676.5,-528 1676.5,-461 9.5,-461"/>
<polygon fill="none" stroke="black" points="9.5,-461 9.5,-528 1676.5,-528 1676.5,-461 9.5,-461"/>
<text text-anchor="start" x="20.5" y="-505.8" font-family="Arial" font-size="14.00">+ amount_commitment: CompressedRistretto</text>
<text text-anchor="start" x="20.5" y="-490.8" font-family="Arial" font-size="14.00">+ amount_secrets_cipher: Ciphertext</text>
<text text-anchor="start" x="20.5" y="-475.8" font-family="Arial" font-size="14.00">+ payto_public_key: PublicKey</text>
<polygon fill="white" stroke="none" points="9.5,-379 9.5,-461 1676.5,-461 1676.5,-379 9.5,-379"/>
<polygon fill="none" stroke="black" points="9.5,-379 9.5,-461 1676.5,-461 1676.5,-379 9.5,-379"/>
<text text-anchor="start" x="20.5" y="-438.8" font-family="Arial" font-size="14.00">&#45; from(params: (Amount, PublicKey)) &#45;&gt; Self</text>
<text text-anchor="start" x="20.5" y="-423.8" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="20.5" y="-408.8" font-family="Arial" font-size="14.00">&#45; hash(&amp;self) &#45;&gt; Hash</text>
<text text-anchor="start" x="20.5" y="-393.8" font-family="Arial" font-size="14.00">&#45; verify_provided_amount_matches_commitment(&amp;self, amount: &amp;AmountSecrets) &#45;&gt; bool</text>
<polygon fill="none" stroke="black" points="8,-378 8,-566 1677,-566 1677,-378 8,-378"/>
</a>
</g>
</g>
<!-- ndInvoiceContent&#45;&gt;ndInvoice -->
<g id="edge2" class="edge"><title>ndInvoiceContent&#45;&gt;ndInvoice</title>
<path fill="none" stroke="black" d="M842.5,-373.879C842.5,-366.065 842.5,-358.177 842.5,-350.382"/>
<polygon fill="black" stroke="black" points="842.5,-350.234 838.5,-344.234 842.5,-338.234 846.5,-344.234 842.5,-350.234"/>
</g>
<!-- ndPayment -->
<g id="node5" class="node"><title>ndPayment</title>
<text text-anchor="middle" x="1217.5" y="-251.3" font-family="Times,serif" font-size="14.00">ndPayment</text>
</g>
<!-- ndPayment&#45;&gt;ndPaidInvoice -->
<g id="edge3" class="edge"><title>ndPayment&#45;&gt;ndPaidInvoice</title>
<path fill="none" stroke="black" d="M1210.07,-236.984C1201.85,-219.421 1187.38,-191.859 1169.5,-172 1160.77,-162.3 1150.99,-152.937 1140.76,-144.074"/>
<polygon fill="black" stroke="black" points="1140.45,-143.809 1133.28,-143.004 1131.27,-136.08 1138.43,-136.884 1140.45,-143.809"/>
</g>
</g>
</svg>
