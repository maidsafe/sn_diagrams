<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.38.0 (20140413.2041)
 -->
<!-- Title: ml Pages: 1 -->
<svg width="1077pt" height="578pt"
 viewBox="0.00 0.00 1077.00 578.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 574)">
<title>ml</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-574 1073,-574 1073,4 -4,4"/>
<!-- ndPaidInvoice -->
<g id="node1" class="node"><title>ndPaidInvoice</title>
<g id="a_node1_0"><a xlink:href="https://github.com/dan-da/sn_payment/blob/master/src/paid_invoice.rs#:~:text=struct%20PaidInvoice" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="431.5,-94 431.5,-131 624.5,-131 624.5,-94 431.5,-94"/>
<polygon fill="none" stroke="black" points="431.5,-94 431.5,-131 624.5,-131 624.5,-94 431.5,-94"/>
<text text-anchor="start" x="487" y="-109.8" font-family="Arial" font-weight="bold" font-size="14.00">PaidInvoice</text>
<polygon fill="white" stroke="none" points="431.5,-42 431.5,-94 624.5,-94 624.5,-42 431.5,-42"/>
<polygon fill="none" stroke="black" points="431.5,-42 431.5,-94 624.5,-94 624.5,-42 431.5,-42"/>
<text text-anchor="start" x="442.5" y="-71.8" font-family="Arial" font-size="14.00">+ invoice: Invoice</text>
<text text-anchor="start" x="442.5" y="-56.8" font-family="Arial" font-size="14.00">+ payment: Payment</text>
<polygon fill="white" stroke="none" points="431.5,-5 431.5,-42 624.5,-42 624.5,-5 431.5,-5"/>
<polygon fill="none" stroke="black" points="431.5,-5 431.5,-42 624.5,-42 624.5,-5 431.5,-5"/>
<text text-anchor="start" x="442.5" y="-19.8" font-family="Arial" font-size="14.00">&#45; verify(&amp;self) &#45;&gt; Result&lt;()&gt;</text>
<polygon fill="none" stroke="black" points="430,-4 430,-132 625,-132 625,-4 430,-4"/>
</a>
</g>
</g>
<!-- ndError -->
<g id="node2" class="node"><title>ndError</title>
<g id="a_node2_1"><a xlink:href="https://github.com/dan-da/sn_payment/blob/master/src/error.rs#:~:text=enum%20Error" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="635.5,-502 635.5,-539 901.5,-539 901.5,-502 635.5,-502"/>
<polygon fill="none" stroke="black" points="635.5,-502 635.5,-539 901.5,-539 901.5,-502 635.5,-502"/>
<text text-anchor="start" x="750" y="-517.8" font-family="Arial" font-weight="bold" font-size="14.00">Error</text>
<polygon fill="white" stroke="none" points="635.5,-405 635.5,-502 901.5,-502 901.5,-405 635.5,-405"/>
<polygon fill="none" stroke="black" points="635.5,-405 635.5,-502 901.5,-502 901.5,-405 635.5,-405"/>
<text text-anchor="start" x="646.5" y="-479.8" font-family="Arial" font-size="14.00">MemoTooLong</text>
<text text-anchor="start" x="646.5" y="-464.8" font-family="Arial" font-size="14.00">PaymentDoesNotMatchInvoiceAmount</text>
<text text-anchor="start" x="646.5" y="-449.8" font-family="Arial" font-size="14.00">InvoiceSignatureInvalid</text>
<text text-anchor="start" x="646.5" y="-434.8" font-family="Arial" font-size="14.00">AmountCommitmentInvalid</text>
<text text-anchor="start" x="646.5" y="-419.8" font-family="Arial" font-size="14.00">Dbc(sn_dbc::Error)</text>
<polygon fill="none" stroke="black" points="634.5,-404 634.5,-540 902.5,-540 902.5,-404 634.5,-404"/>
</a>
</g>
</g>
<!-- ndInvoice -->
<g id="node3" class="node"><title>ndInvoice</title>
<g id="a_node3_2"><a xlink:href="https://github.com/dan-da/sn_payment/blob/master/src/invoice.rs#:~:text=struct%20Invoice" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="202.5,-296 202.5,-333 407.5,-333 407.5,-296 202.5,-296"/>
<polygon fill="none" stroke="black" points="202.5,-296 202.5,-333 407.5,-333 407.5,-296 202.5,-296"/>
<text text-anchor="start" x="279.5" y="-311.8" font-family="Arial" font-weight="bold" font-size="14.00">Invoice</text>
<polygon fill="white" stroke="none" points="202.5,-244 202.5,-296 407.5,-296 407.5,-244 202.5,-244"/>
<polygon fill="none" stroke="black" points="202.5,-244 202.5,-296 407.5,-296 407.5,-244 202.5,-244"/>
<text text-anchor="start" x="213.5" y="-273.8" font-family="Arial" font-size="14.00">+ content: InvoiceContent</text>
<text text-anchor="start" x="213.5" y="-258.8" font-family="Arial" font-size="14.00">+ payto_signature: Signature</text>
<polygon fill="white" stroke="none" points="202.5,-177 202.5,-244 407.5,-244 407.5,-177 202.5,-177"/>
<polygon fill="none" stroke="black" points="202.5,-177 202.5,-244 407.5,-244 407.5,-177 202.5,-177"/>
<text text-anchor="start" x="213.5" y="-221.8" font-family="Arial" font-size="14.00">&#45; verify(&amp;self) &#45;&gt; Result&lt;()&gt;</text>
<text text-anchor="start" x="213.5" y="-206.8" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="213.5" y="-191.8" font-family="Arial" font-size="14.00">&#45; hash(&amp;self) &#45;&gt; Hash</text>
<polygon fill="none" stroke="black" points="201,-176 201,-334 408,-334 408,-176 201,-176"/>
</a>
</g>
</g>
<!-- ndInvoice&#45;&gt;ndPaidInvoice -->
<g id="edge1" class="edge"><title>ndInvoice&#45;&gt;ndPaidInvoice</title>
<path fill="none" stroke="black" d="M403.61,-171.779C414.676,-162.598 425.907,-153.281 436.86,-144.195"/>
<polygon fill="black" stroke="black" points="437.166,-143.941 439.23,-137.031 446.402,-136.279 444.338,-143.188 437.166,-143.941"/>
</g>
<!-- ndInvoiceContent -->
<g id="node4" class="node"><title>ndInvoiceContent</title>
<g id="a_node4_3"><a xlink:href="https://github.com/dan-da/sn_payment/blob/master/src/invoice_content.rs#:~:text=struct%20InvoiceContent" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="9.5,-528 9.5,-565 600.5,-565 600.5,-528 9.5,-528"/>
<polygon fill="none" stroke="black" points="9.5,-528 9.5,-565 600.5,-565 600.5,-528 9.5,-528"/>
<text text-anchor="start" x="252" y="-543.8" font-family="Arial" font-weight="bold" font-size="14.00">InvoiceContent</text>
<polygon fill="white" stroke="none" points="9.5,-461 9.5,-528 600.5,-528 600.5,-461 9.5,-461"/>
<polygon fill="none" stroke="black" points="9.5,-461 9.5,-528 600.5,-528 600.5,-461 9.5,-461"/>
<text text-anchor="start" x="20.5" y="-505.8" font-family="Arial" font-size="14.00">+ amount_commitment: CompressedRistretto</text>
<text text-anchor="start" x="20.5" y="-490.8" font-family="Arial" font-size="14.00">+ amount_secrets_cipher: Ciphertext</text>
<text text-anchor="start" x="20.5" y="-475.8" font-family="Arial" font-size="14.00">+ payto_public_key: PublicKey</text>
<polygon fill="white" stroke="none" points="9.5,-379 9.5,-461 600.5,-461 600.5,-379 9.5,-379"/>
<polygon fill="none" stroke="black" points="9.5,-379 9.5,-461 600.5,-461 600.5,-379 9.5,-379"/>
<text text-anchor="start" x="20.5" y="-438.8" font-family="Arial" font-size="14.00">&#45; from(params: (Amount, PublicKey)) &#45;&gt; Self</text>
<text text-anchor="start" x="20.5" y="-423.8" font-family="Arial" font-size="14.00">&#45; to_bytes(&amp;self) &#45;&gt; Vec&lt;u8&gt;</text>
<text text-anchor="start" x="20.5" y="-408.8" font-family="Arial" font-size="14.00">&#45; hash(&amp;self) &#45;&gt; Hash</text>
<text text-anchor="start" x="20.5" y="-393.8" font-family="Arial" font-size="14.00">&#45; verify_provided_amount_matches_commitment(&amp;self, amount: &amp;AmountSecrets) &#45;&gt; bool</text>
<polygon fill="none" stroke="black" points="8,-378 8,-566 601,-566 601,-378 8,-378"/>
</a>
</g>
</g>
<!-- ndInvoiceContent&#45;&gt;ndInvoice -->
<g id="edge2" class="edge"><title>ndInvoiceContent&#45;&gt;ndInvoice</title>
<path fill="none" stroke="black" d="M304.5,-373.879C304.5,-366.065 304.5,-358.177 304.5,-350.382"/>
<polygon fill="black" stroke="black" points="304.5,-350.234 300.5,-344.234 304.5,-338.234 308.5,-344.234 304.5,-350.234"/>
</g>
<!-- ndPayment -->
<g id="node5" class="node"><title>ndPayment</title>
<g id="a_node5_4"><a xlink:href="https://github.com/dan-da/sn_payment/blob/master/src/payment.rs#:~:text=struct%20Payment" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="443.5,-281 443.5,-318 1060.5,-318 1060.5,-281 443.5,-281"/>
<polygon fill="none" stroke="black" points="443.5,-281 443.5,-318 1060.5,-318 1060.5,-281 443.5,-281"/>
<text text-anchor="start" x="721.5" y="-296.8" font-family="Arial" font-weight="bold" font-size="14.00">Payment</text>
<polygon fill="white" stroke="none" points="443.5,-244 443.5,-281 1060.5,-281 1060.5,-244 443.5,-244"/>
<polygon fill="none" stroke="black" points="443.5,-244 443.5,-281 1060.5,-281 1060.5,-244 443.5,-244"/>
<text text-anchor="start" x="454.5" y="-258.8" font-family="Arial" font-size="14.00">+ dbc_packets: Vec&lt;DbcPacket&gt;</text>
<polygon fill="white" stroke="none" points="443.5,-192 443.5,-244 1060.5,-244 1060.5,-192 443.5,-192"/>
<polygon fill="none" stroke="black" points="443.5,-192 443.5,-244 1060.5,-244 1060.5,-192 443.5,-192"/>
<text text-anchor="start" x="454.5" y="-221.8" font-family="Arial" font-size="14.00">&#45; hash(&amp;self) &#45;&gt; sn_dbc::Hash</text>
<text text-anchor="start" x="454.5" y="-206.8" font-family="Arial" font-size="14.00">&#45; commitment_sum_by_owner(&amp;self, payto_public_key: &amp;PublicKey) &#45;&gt; Result&lt;RistrettoPoint&gt;</text>
<polygon fill="none" stroke="black" points="442,-191 442,-319 1061,-319 1061,-191 442,-191"/>
</a>
</g>
</g>
<!-- ndPayment&#45;&gt;ndPaidInvoice -->
<g id="edge3" class="edge"><title>ndPayment&#45;&gt;ndPaidInvoice</title>
<path fill="none" stroke="black" d="M670.314,-186.949C653.411,-172.989 635.493,-158.191 618.271,-143.967"/>
<polygon fill="black" stroke="black" points="618.037,-143.774 610.864,-143.038 608.785,-136.133 615.958,-136.869 618.037,-143.774"/>
</g>
</g>
</svg>
