<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.38.0 (20140413.2041)
 -->
<!-- Title: ml Pages: 1 -->
<svg width="1012pt" height="534pt"
 viewBox="0.00 0.00 1012.00 534.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 530)">
<title>ml</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-530 1008,-530 1008,4 -4,4"/>
<!-- ndBank -->
<g id="node1" class="node"><title>ndBank</title>
<polygon fill="lightblue" stroke="none" points="9,-184 9,-221 447,-221 447,-184 9,-184"/>
<polygon fill="none" stroke="black" points="9,-184 9,-221 447,-221 447,-184 9,-184"/>
<text text-anchor="start" x="209.5" y="-199.8" font-family="Arial" font-weight="bold" font-size="14.00">Bank</text>
<polygon fill="white" stroke="none" points="9,-102 9,-184 447,-184 447,-102 9,-102"/>
<polygon fill="none" stroke="black" points="9,-102 9,-184 447,-184 447,-102 9,-102"/>
<text text-anchor="start" x="20" y="-161.8" font-family="Arial" font-size="14.00">&#45; id: A</text>
<text text-anchor="start" x="20" y="-146.8" font-family="Arial" font-size="14.00">&#45; deps: BTreeSet&lt;Transfer&lt;A&gt;&gt;</text>
<text text-anchor="start" x="20" y="-131.8" font-family="Arial" font-size="14.00">&#45; initial_balances: BTreeMap&lt;A, Money&gt;</text>
<text text-anchor="start" x="20" y="-116.8" font-family="Arial" font-size="14.00">&#45; hist: BTreeMap&lt;A, BTreeSet&lt;Transfer&lt;A&gt;&gt;&gt;</text>
<polygon fill="white" stroke="none" points="9,-5 9,-102 447,-102 447,-5 9,-5"/>
<polygon fill="none" stroke="black" points="9,-5 9,-102 447,-102 447,-5 9,-5"/>
<text text-anchor="start" x="20" y="-79.8" font-family="Arial" font-size="14.00">&#45; open_account(&amp;self, owner: A, balance: Money) &#45;&gt; Op&lt;A&gt;</text>
<text text-anchor="start" x="20" y="-64.8" font-family="Arial" font-size="14.00">&#45; initial_balance(&amp;self, actor: &amp;A) &#45;&gt; Money</text>
<text text-anchor="start" x="20" y="-49.8" font-family="Arial" font-size="14.00">&#45; balance(&amp;self, actor: &amp;A) &#45;&gt; Money</text>
<text text-anchor="start" x="20" y="-34.8" font-family="Arial" font-size="14.00">&#45; history(&amp;self, actor: &amp;A) &#45;&gt; BTreeSet&lt;Transfer&lt;A&gt;&gt;</text>
<text text-anchor="start" x="20" y="-19.8" font-family="Arial" font-size="14.00">&#45; transfer(&amp;self, from: A, to: A, amount: Money) &#45;&gt; Option&lt;Op&lt;A&gt;&gt;</text>
<polygon fill="none" stroke="black" points="8,-4 8,-222 448,-222 448,-4 8,-4"/>
</g>
<!-- ndValidationError -->
<g id="node2" class="node"><title>ndValidationError</title>
<polygon fill="yellow" stroke="none" points="483,-184 483,-221 995,-221 995,-184 483,-184"/>
<polygon fill="none" stroke="black" points="483,-184 483,-221 995,-221 995,-184 483,-184"/>
<text text-anchor="start" x="686" y="-199.8" font-family="Arial" font-weight="bold" font-size="14.00">ValidationError</text>
<polygon fill="white" stroke="none" points="483,-72 483,-184 995,-184 995,-72 483,-72"/>
<polygon fill="none" stroke="black" points="483,-72 483,-184 995,-184 995,-72 483,-72"/>
<text text-anchor="start" x="494" y="-161.8" font-family="Arial" font-size="14.00">NotInitiatedByAccountOwner</text>
<text text-anchor="start" x="494" y="-146.8" font-family="Arial" font-size="14.00">FromAccountDoesNotExist</text>
<text text-anchor="start" x="494" y="-131.8" font-family="Arial" font-size="14.00">ToAccountDoesNotExist</text>
<text text-anchor="start" x="494" y="-116.8" font-family="Arial" font-size="14.00">InsufficientFunds</text>
<text text-anchor="start" x="494" y="-101.8" font-family="Arial" font-size="14.00">MissingDependentOps</text>
<text text-anchor="start" x="494" y="-86.8" font-family="Arial" font-size="14.00">OwnerAlreadyHasAnAccount</text>
<polygon fill="white" stroke="none" points="483,-5 483,-72 995,-72 995,-5 483,-5"/>
<polygon fill="none" stroke="black" points="483,-5 483,-72 995,-72 995,-5 483,-5"/>
<text text-anchor="start" x="494" y="-49.8" font-family="Arial" font-size="14.00">&#45; new(id: A) &#45;&gt; Self</text>
<text text-anchor="start" x="494" y="-34.8" font-family="Arial" font-size="14.00">&#45; validate(&amp;self, source: &amp;A, op: &amp;Self::Op) &#45;&gt; Result&lt;(), Self::ValidationError&gt;</text>
<text text-anchor="start" x="494" y="-19.8" font-family="Arial" font-size="14.00">&#45; apply(&amp;mut self, op: Self::Op)</text>
<polygon fill="none" stroke="black" points="482,-4 482,-222 996,-222 996,-4 482,-4"/>
</g>
<!-- ndOp -->
<g id="node3" class="node"><title>ndOp</title>
<polygon fill="yellow" stroke="none" points="266,-318.5 266,-355.5 429,-355.5 429,-318.5 266,-318.5"/>
<polygon fill="none" stroke="black" points="266,-318.5 266,-355.5 429,-355.5 429,-318.5 266,-318.5"/>
<text text-anchor="start" x="337" y="-334.3" font-family="Arial" font-weight="bold" font-size="14.00">Op</text>
<polygon fill="white" stroke="none" points="266,-266.5 266,-318.5 429,-318.5 429,-266.5 266,-266.5"/>
<polygon fill="none" stroke="black" points="266,-266.5 266,-318.5 429,-318.5 429,-266.5 266,-266.5"/>
<text text-anchor="start" x="277" y="-296.3" font-family="Arial" font-size="14.00">Transfer(Transfer&lt;A&gt;)</text>
<text text-anchor="start" x="277" y="-281.3" font-family="Arial" font-size="14.00">OpenAccount</text>
<polygon fill="none" stroke="black" points="264.5,-266 264.5,-357 429.5,-357 429.5,-266 264.5,-266"/>
</g>
<!-- ndOp&#45;&gt;ndBank -->
<g id="edge1" class="edge"><title>ndOp&#45;&gt;ndBank</title>
<path fill="none" stroke="black" d="M317.584,-261.927C312.473,-253.487 306.959,-244.382 301.268,-234.985"/>
<polygon fill="black" stroke="black" points="295.998,-226.282 305.027,-232.505 298.588,-230.559 301.178,-234.836 301.178,-234.836 301.178,-234.836 298.588,-230.559 297.329,-237.167 295.998,-226.282 295.998,-226.282"/>
</g>
<!-- ndOp&#45;&gt;ndValidationError -->
<g id="edge2" class="edge"><title>ndOp&#45;&gt;ndValidationError</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M437.918,-264.925C458.876,-254.419 482.109,-242.773 506.108,-230.743"/>
<polygon fill="black" stroke="black" points="515.34,-226.115 508.417,-234.619 510.871,-228.356 506.401,-230.596 506.401,-230.596 506.401,-230.596 510.871,-228.356 504.384,-226.574 515.34,-226.115 515.34,-226.115"/>
</g>
<!-- ndTransfer -->
<g id="node4" class="node"><title>ndTransfer</title>
<polygon fill="lightblue" stroke="none" points="174,-483.5 174,-520.5 401,-520.5 401,-483.5 174,-483.5"/>
<polygon fill="none" stroke="black" points="174,-483.5 174,-520.5 401,-520.5 401,-483.5 174,-483.5"/>
<text text-anchor="start" x="257.5" y="-499.3" font-family="Arial" font-weight="bold" font-size="14.00">Transfer</text>
<polygon fill="white" stroke="none" points="174,-401.5 174,-483.5 401,-483.5 401,-401.5 174,-401.5"/>
<polygon fill="none" stroke="black" points="174,-401.5 174,-483.5 401,-483.5 401,-401.5 174,-401.5"/>
<text text-anchor="start" x="185" y="-461.3" font-family="Arial" font-size="14.00">&#45; from: A</text>
<text text-anchor="start" x="185" y="-446.3" font-family="Arial" font-size="14.00">&#45; to: A</text>
<text text-anchor="start" x="185" y="-431.3" font-family="Arial" font-size="14.00">&#45; amount: Money</text>
<text text-anchor="start" x="185" y="-416.3" font-family="Arial" font-size="14.00">&#45; deps: BTreeSet&lt;Transfer&lt;A&gt;&gt;</text>
<polygon fill="none" stroke="black" points="172.5,-401 172.5,-522 401.5,-522 401.5,-401 172.5,-401"/>
</g>
<!-- ndTransfer&#45;&gt;ndBank -->
<g id="edge3" class="edge"><title>ndTransfer&#45;&gt;ndBank</title>
<path fill="none" stroke="black" d="M258.124,-396.935C253.747,-385.187 249.774,-372.875 247,-361 237.8,-321.622 232.796,-277.851 230.145,-238.225"/>
<polygon fill="black" stroke="black" points="230.134,-238.047 225.773,-232.305 229.396,-226.07 233.758,-231.813 230.134,-238.047"/>
</g>
<!-- ndTransfer&#45;&gt;ndOp -->
<g id="edge4" class="edge"><title>ndTransfer&#45;&gt;ndOp</title>
<path fill="none" stroke="black" d="M312.794,-396.876C316.075,-388.782 319.425,-380.519 322.682,-372.484"/>
<polygon fill="black" stroke="black" points="322.7,-372.44 321.247,-365.377 327.208,-361.32 328.661,-368.383 322.7,-372.44"/>
</g>
</g>
</svg>
