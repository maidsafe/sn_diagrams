<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.38.0 (20140413.2041)
 -->
<!-- Title: ml Pages: 1 -->
<svg width="1995pt" height="422pt"
 viewBox="0.00 0.00 1994.50 422.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 418)">
<title>ml</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-418 1990.5,-418 1990.5,4 -4,4"/>
<!-- ndPaidInvoice -->
<g id="node1" class="node"><title>ndPaidInvoice</title>
<g id="a_node1_0"><a xlink:href="https://github.com/dan-da/sn_payment/blob/master/src/paid_invoice.rs#:~:text=struct%20PaidInvoice" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="764.5,-56.5 764.5,-93.5 1295.5,-93.5 1295.5,-56.5 764.5,-56.5"/>
<polygon fill="none" stroke="black" points="764.5,-56.5 764.5,-93.5 1295.5,-93.5 1295.5,-56.5 764.5,-56.5"/>
<text text-anchor="start" x="775.5" y="-72.3" font-family="Arial" font-weight="bold" font-size="14.00">pub struct PaidInvoice { &#160;&#160;&#160;pub invoice: Invoice, &#160;&#160;&#160;pub payment: Payment,}</text>
<polygon fill="white" stroke="none" points="764.5,-4.5 764.5,-56.5 1295.5,-56.5 1295.5,-4.5 764.5,-4.5"/>
<polygon fill="none" stroke="black" points="764.5,-4.5 764.5,-56.5 1295.5,-56.5 1295.5,-4.5 764.5,-4.5"/>
<text text-anchor="start" x="775.5" y="-34.3" font-family="Arial" font-size="14.00">+ invoice: Invoice</text>
<text text-anchor="start" x="775.5" y="-19.3" font-family="Arial" font-size="14.00">+ payment: Payment</text>
<polygon fill="none" stroke="black" points="763,-4 763,-95 1296,-95 1296,-4 763,-4"/>
</a>
</g>
</g>
<!-- ndError -->
<g id="node2" class="node"><title>ndError</title>
<g id="a_node2_1"><a xlink:href="https://github.com/dan-da/sn_payment/blob/master/src/error.rs#:~:text=enum%20Error" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="1711.5,-372 1711.5,-409 1977.5,-409 1977.5,-372 1711.5,-372"/>
<polygon fill="none" stroke="black" points="1711.5,-372 1711.5,-409 1977.5,-409 1977.5,-372 1711.5,-372"/>
<text text-anchor="start" x="1826" y="-387.8" font-family="Arial" font-weight="bold" font-size="14.00">Error</text>
<polygon fill="white" stroke="none" points="1711.5,-275 1711.5,-372 1977.5,-372 1977.5,-275 1711.5,-275"/>
<polygon fill="none" stroke="black" points="1711.5,-275 1711.5,-372 1977.5,-372 1977.5,-275 1711.5,-275"/>
<text text-anchor="start" x="1722.5" y="-349.8" font-family="Arial" font-size="14.00">MemoTooLong</text>
<text text-anchor="start" x="1722.5" y="-334.8" font-family="Arial" font-size="14.00">PaymentDoesNotMatchInvoiceAmount</text>
<text text-anchor="start" x="1722.5" y="-319.8" font-family="Arial" font-size="14.00">InvoiceSignatureInvalid</text>
<text text-anchor="start" x="1722.5" y="-304.8" font-family="Arial" font-size="14.00">AmountCommitmentInvalid</text>
<text text-anchor="start" x="1722.5" y="-289.8" font-family="Arial" font-size="14.00">Dbc(sn_dbc::Error)</text>
<polygon fill="none" stroke="black" points="1710.5,-274 1710.5,-410 1978.5,-410 1978.5,-274 1710.5,-274"/>
</a>
</g>
</g>
<!-- ndInvoice -->
<g id="node3" class="node"><title>ndInvoice</title>
<g id="a_node3_2"><a xlink:href="https://github.com/dan-da/sn_payment/blob/master/src/invoice.rs#:~:text=struct%20Invoice" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="534.5,-191.5 534.5,-228.5 1151.5,-228.5 1151.5,-191.5 534.5,-191.5"/>
<polygon fill="none" stroke="black" points="534.5,-191.5 534.5,-228.5 1151.5,-228.5 1151.5,-191.5 534.5,-191.5"/>
<text text-anchor="start" x="545.5" y="-207.3" font-family="Arial" font-weight="bold" font-size="14.00">pub struct Invoice { &#160;&#160;&#160;pub content: InvoiceContent, &#160;&#160;&#160;pub payto_signature: Signature,}</text>
<polygon fill="white" stroke="none" points="534.5,-139.5 534.5,-191.5 1151.5,-191.5 1151.5,-139.5 534.5,-139.5"/>
<polygon fill="none" stroke="black" points="534.5,-139.5 534.5,-191.5 1151.5,-191.5 1151.5,-139.5 534.5,-139.5"/>
<text text-anchor="start" x="545.5" y="-169.3" font-family="Arial" font-size="14.00">+ content: InvoiceContent</text>
<text text-anchor="start" x="545.5" y="-154.3" font-family="Arial" font-size="14.00">+ payto_signature: Signature</text>
<polygon fill="none" stroke="black" points="533,-139 533,-230 1152,-230 1152,-139 533,-139"/>
</a>
</g>
</g>
<!-- ndInvoice&#45;&gt;ndPaidInvoice -->
<g id="edge1" class="edge"><title>ndInvoice&#45;&gt;ndPaidInvoice</title>
<path fill="none" stroke="black" d="M910.805,-134.919C923.858,-125.636 937.619,-115.848 950.963,-106.358"/>
<polygon fill="black" stroke="black" points="951.288,-106.127 953.859,-99.3894 961.067,-99.1715 958.496,-105.909 951.288,-106.127"/>
</g>
<!-- ndInvoiceContent -->
<g id="node4" class="node"><title>ndInvoiceContent</title>
<g id="a_node4_3"><a xlink:href="https://github.com/dan-da/sn_payment/blob/master/src/invoice_content.rs#:~:text=struct%20InvoiceContent" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="9.5,-357 9.5,-394 1676.5,-394 1676.5,-357 9.5,-357"/>
<polygon fill="none" stroke="black" points="9.5,-357 9.5,-394 1676.5,-394 1676.5,-357 9.5,-357"/>
<text text-anchor="start" x="20.5" y="-372.8" font-family="Arial" font-weight="bold" font-size="14.00">pub struct InvoiceContent { &#160;&#160;&#160;pub amount_commitment: CompressedRistretto, &#160;&#160;&#160;pub amount_secrets_cipher: Ciphertext, &#160;&#160;&#160;pub payto_public_key: PublicKey, // Owner&#39;s well&#45;known key. &#160;must match key DbcPacket.owner_key().public_key}</text>
<polygon fill="white" stroke="none" points="9.5,-290 9.5,-357 1676.5,-357 1676.5,-290 9.5,-290"/>
<polygon fill="none" stroke="black" points="9.5,-290 9.5,-357 1676.5,-357 1676.5,-290 9.5,-290"/>
<text text-anchor="start" x="20.5" y="-334.8" font-family="Arial" font-size="14.00">+ amount_commitment: CompressedRistretto</text>
<text text-anchor="start" x="20.5" y="-319.8" font-family="Arial" font-size="14.00">+ amount_secrets_cipher: Ciphertext</text>
<text text-anchor="start" x="20.5" y="-304.8" font-family="Arial" font-size="14.00">+ payto_public_key: PublicKey</text>
<polygon fill="none" stroke="black" points="8,-289 8,-395 1677,-395 1677,-289 8,-289"/>
</a>
</g>
</g>
<!-- ndInvoiceContent&#45;&gt;ndInvoice -->
<g id="edge2" class="edge"><title>ndInvoiceContent&#45;&gt;ndInvoice</title>
<path fill="none" stroke="black" d="M842.5,-284.861C842.5,-272.399 842.5,-259.132 842.5,-246.487"/>
<polygon fill="black" stroke="black" points="842.5,-246.101 838.5,-240.101 842.5,-234.101 846.5,-240.101 842.5,-246.101"/>
</g>
<!-- ndPayment -->
<g id="node5" class="node"><title>ndPayment</title>
<text text-anchor="middle" x="1217.5" y="-180.8" font-family="Times,serif" font-size="14.00">ndPayment</text>
</g>
<!-- ndPayment&#45;&gt;ndPaidInvoice -->
<g id="edge3" class="edge"><title>ndPayment&#45;&gt;ndPaidInvoice</title>
<path fill="none" stroke="black" d="M1202.44,-166.284C1193.42,-156.503 1181.42,-144.378 1169.5,-135 1156.57,-124.827 1142.33,-114.931 1128.02,-105.707"/>
<polygon fill="black" stroke="black" points="1127.75,-105.535 1120.54,-105.704 1117.61,-99.1147 1124.82,-98.9453 1127.75,-105.535"/>
</g>
</g>
</svg>
