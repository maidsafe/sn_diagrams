<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.38.0 (20140413.2041)
 -->
<!-- Title: ml Pages: 1 -->
<svg width="4101pt" height="1239pt"
 viewBox="0.00 0.00 4101.00 1239.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1235)">
<title>ml</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-1235 4097,-1235 4097,4 -4,4"/>
<!-- ndEncryptor -->
<g id="node1" class="node"><title>ndEncryptor</title>
<g id="a_node1_0"><a xlink:href="https://github.com/maidsafe/bls_dkg/blob/master/src/key_gen/encryptor.rs#:~:text=struct%20Encryptor" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="660,-865.5 660,-902.5 1103,-902.5 1103,-865.5 660,-865.5"/>
<polygon fill="none" stroke="black" points="660,-865.5 660,-902.5 1103,-902.5 1103,-865.5 660,-865.5"/>
<text text-anchor="start" x="846.5" y="-881.3" font-family="Arial" font-weight="bold" font-size="14.00">Encryptor</text>
<polygon fill="white" stroke="none" points="660,-828.5 660,-865.5 1103,-865.5 1103,-828.5 660,-828.5"/>
<polygon fill="none" stroke="black" points="660,-828.5 660,-865.5 1103,-865.5 1103,-828.5 660,-828.5"/>
<text text-anchor="start" x="671" y="-843.3" font-family="Arial" font-size="14.00">&#45; keys_map: BTreeMap&lt;XorName, (Key, Iv)&gt;</text>
<polygon fill="white" stroke="none" points="660,-761.5 660,-828.5 1103,-828.5 1103,-761.5 660,-761.5"/>
<polygon fill="none" stroke="black" points="660,-761.5 660,-828.5 1103,-828.5 1103,-761.5 660,-761.5"/>
<text text-anchor="start" x="671" y="-806.3" font-family="Arial" font-size="14.00">&#45; new(peers: &amp;BTreeSet&lt;XorName&gt;) &#45;&gt; Self</text>
<text text-anchor="start" x="671" y="-791.3" font-family="Arial" font-size="14.00">&#45; encrypt(&amp;self, to: &amp;XorName, msg: M) &#45;&gt; Result&lt;Vec&lt;u8&gt;, Error&gt;</text>
<text text-anchor="start" x="671" y="-776.3" font-family="Arial" font-size="14.00">&#45; keys_map(&amp;self) &#45;&gt; BTreeMap&lt;XorName, (Key, Iv)&gt;</text>
<polygon fill="none" stroke="black" points="658.5,-761 658.5,-904 1103.5,-904 1103.5,-761 658.5,-761"/>
</a>
</g>
</g>
<!-- ndKeyGen -->
<g id="node10" class="node"><title>ndKeyGen</title>
<g id="a_node10_1"><a xlink:href="https://github.com/maidsafe/bls_dkg/blob/master/src/key_gen/mod.rs#:~:text=struct%20KeyGen" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="1300,-648.5 1300,-685.5 2438,-685.5 2438,-648.5 1300,-648.5"/>
<polygon fill="none" stroke="black" points="1300,-648.5 1300,-685.5 2438,-685.5 2438,-648.5 1300,-648.5"/>
<text text-anchor="start" x="1841" y="-664.3" font-family="Arial" font-weight="bold" font-size="14.00">KeyGen</text>
<polygon fill="white" stroke="none" points="1300,-461.5 1300,-648.5 2438,-648.5 2438,-461.5 1300,-461.5"/>
<polygon fill="none" stroke="black" points="1300,-461.5 1300,-648.5 2438,-648.5 2438,-461.5 1300,-461.5"/>
<text text-anchor="start" x="1311" y="-626.3" font-family="Arial" font-size="14.00">&#45; our_id: XorName</text>
<text text-anchor="start" x="1311" y="-611.3" font-family="Arial" font-size="14.00">&#45; our_index: u64</text>
<text text-anchor="start" x="1311" y="-596.3" font-family="Arial" font-size="14.00">&#45; names: BTreeSet&lt;XorName&gt;</text>
<text text-anchor="start" x="1311" y="-581.3" font-family="Arial" font-size="14.00">&#45; encryptor: Encryptor</text>
<text text-anchor="start" x="1311" y="-566.3" font-family="Arial" font-size="14.00">&#45; parts: BTreeMap&lt;u64, ProposalState&gt;</text>
<text text-anchor="start" x="1311" y="-551.3" font-family="Arial" font-size="14.00">&#45; threshold: usize</text>
<text text-anchor="start" x="1311" y="-536.3" font-family="Arial" font-size="14.00">&#45; phase: Phase</text>
<text text-anchor="start" x="1311" y="-521.3" font-family="Arial" font-size="14.00">&#45; initalization_accumulator: InitializationAccumulator</text>
<text text-anchor="start" x="1311" y="-506.3" font-family="Arial" font-size="14.00">&#45; complaints_accumulator: ComplaintsAccumulator</text>
<text text-anchor="start" x="1311" y="-491.3" font-family="Arial" font-size="14.00">&#45; pending_complain_messages: Vec&lt;Message&gt;</text>
<text text-anchor="start" x="1311" y="-476.3" font-family="Arial" font-size="14.00">&#45; message_cache: BTreeMap&lt;XorName, Message&gt;</text>
<polygon fill="white" stroke="none" points="1300,-4.5 1300,-461.5 2438,-461.5 2438,-4.5 1300,-4.5"/>
<polygon fill="none" stroke="black" points="1300,-4.5 1300,-461.5 2438,-461.5 2438,-4.5 1300,-4.5"/>
<text text-anchor="start" x="1311" y="-439.3" font-family="Arial" font-size="14.00">&#45; initialize(our_id: XorName, threshold: usize, names: BTreeSet&lt;XorName&gt;) &#45;&gt; Result&lt;(KeyGen, Message), Error&gt;</text>
<text text-anchor="start" x="1311" y="-424.3" font-family="Arial" font-size="14.00">&#45; phase(&amp;self) &#45;&gt; Phase</text>
<text text-anchor="start" x="1311" y="-409.3" font-family="Arial" font-size="14.00">&#45; handle_message(&amp;mut self, rng: &amp;mut R, msg: Message) &#45;&gt; Result&lt;Vec&lt;Message&gt;, Error&gt;</text>
<text text-anchor="start" x="1311" y="-394.3" font-family="Arial" font-size="14.00">&#45; get_cached_message(&amp;self) &#45;&gt; Vec&lt;Message&gt;</text>
<text text-anchor="start" x="1311" y="-379.3" font-family="Arial" font-size="14.00">&#45; handle_pre_session_messages(&amp;mut self, rng: &amp;mut R, mut cache_messages: Vec&lt;Message&gt;) &#45;&gt; (Vec&lt;Message&gt;, Vec&lt;(XorName, Message)&gt;)</text>
<text text-anchor="start" x="1311" y="-364.3" font-family="Arial" font-size="14.00">&#45; process_message(&amp;mut self, rng: &amp;mut R, msg: Message) &#45;&gt; Result&lt;Vec&lt;Message&gt;, Error&gt;</text>
<text text-anchor="start" x="1311" y="-349.3" font-family="Arial" font-size="14.00">&#45; handle_initialization(&amp;mut self, rng: &amp;mut R, m: usize, n: usize, sender: u64, member_list: BTreeSet&lt;XorName&gt;) &#45;&gt; Result&lt;Vec&lt;Message&gt;, Error&gt;</text>
<text text-anchor="start" x="1311" y="-334.3" font-family="Arial" font-size="14.00">&#45; handle_proposal(&amp;mut self, sender_index: u64, part: Part) &#45;&gt; Result&lt;Vec&lt;Message&gt;, Error&gt;</text>
<text text-anchor="start" x="1311" y="-319.3" font-family="Arial" font-size="14.00">&#45; handle_ack(&amp;mut self, sender_index: u64, ack: Acknowledgment) &#45;&gt; Result&lt;Vec&lt;Message&gt;, Error&gt;</text>
<text text-anchor="start" x="1311" y="-304.3" font-family="Arial" font-size="14.00">&#45; all_contribution_received(&amp;self) &#45;&gt; bool</text>
<text text-anchor="start" x="1311" y="-289.3" font-family="Arial" font-size="14.00">&#45; finalize_contributing_phase(&amp;mut self) &#45;&gt; Result&lt;Vec&lt;Message&gt;, Error&gt;</text>
<text text-anchor="start" x="1311" y="-274.3" font-family="Arial" font-size="14.00">&#45; non_contributors(&amp;self) &#45;&gt; (BTreeSet&lt;u64&gt;, BTreeSet&lt;XorName&gt;)</text>
<text text-anchor="start" x="1311" y="-259.3" font-family="Arial" font-size="14.00">&#45; timed_phase_transition(&amp;mut self, rng: &amp;mut R) &#45;&gt; Result&lt;Vec&lt;Message&gt;, Error&gt;</text>
<text text-anchor="start" x="1311" y="-244.3" font-family="Arial" font-size="14.00">&#45; handle_complaint(&amp;mut self, sender_index: u64, target_index: u64, invalid_msg: Vec&lt;u8&gt;) &#45;&gt; Result&lt;Vec&lt;Message&gt;, Error&gt;</text>
<text text-anchor="start" x="1311" y="-229.3" font-family="Arial" font-size="14.00">&#45; finalize_complaining_phase(&amp;mut self, rng: &amp;mut R) &#45;&gt; Result&lt;Vec&lt;Message&gt;, Error&gt;</text>
<text text-anchor="start" x="1311" y="-214.3" font-family="Arial" font-size="14.00">&#45; handle_justification(&amp;mut self, _sender_index: u64, _keys_map: BTreeMap&lt;XorName, (Key, Iv)&gt;) &#45;&gt; Result&lt;Vec&lt;Message&gt;, Error&gt;</text>
<text text-anchor="start" x="1311" y="-199.3" font-family="Arial" font-size="14.00">&#45; become_finalization(&amp;mut self)</text>
<text text-anchor="start" x="1311" y="-184.3" font-family="Arial" font-size="14.00">&#45; node_index(&amp;self, node_id: &amp;XorName) &#45;&gt; Option&lt;u64&gt;</text>
<text text-anchor="start" x="1311" y="-169.3" font-family="Arial" font-size="14.00">&#45; node_id_from_index(&amp;self, node_index: u64) &#45;&gt; Option&lt;XorName&gt;</text>
<text text-anchor="start" x="1311" y="-154.3" font-family="Arial" font-size="14.00">&#45; complete_parts_count(&amp;self) &#45;&gt; usize</text>
<text text-anchor="start" x="1311" y="-139.3" font-family="Arial" font-size="14.00">&#45; is_ready(&amp;self) &#45;&gt; bool</text>
<text text-anchor="start" x="1311" y="-124.3" font-family="Arial" font-size="14.00">&#45; is_finalized(&amp;self) &#45;&gt; bool</text>
<text text-anchor="start" x="1311" y="-109.3" font-family="Arial" font-size="14.00">&#45; generate_keys(&amp;self) &#45;&gt; Option&lt;(BTreeSet&lt;XorName&gt;, Outcome)&gt;</text>
<text text-anchor="start" x="1311" y="-94.3" font-family="Arial" font-size="14.00">&#45; possible_blockers(&amp;self) &#45;&gt; BTreeSet&lt;XorName&gt;</text>
<text text-anchor="start" x="1311" y="-79.3" font-family="Arial" font-size="14.00">&#45; handle_part_or_fault(&amp;mut self, sender_index: u64, Part { receiver, commitment, ser_row, enc_rows }: Part) &#45;&gt; Result&lt;Option&lt;Poly&gt;, PartFault&gt;</text>
<text text-anchor="start" x="1311" y="-64.3" font-family="Arial" font-size="14.00">&#45; handle_ack_or_fault(&amp;mut self, sender_index: u64, Acknowledgment(proposer_index, receiver_index, ser_val, values): &#160;&#160;&#160;Acknowledgment) &#45;&gt; Result&lt;(), AcknowledgmentFault&gt;</text>
<text text-anchor="start" x="1311" y="-49.3" font-family="Arial" font-size="14.00">&#45; fmt(&amp;self, formatter: &amp;mut Formatter) &#45;&gt; fmt::Result</text>
<text text-anchor="start" x="1311" y="-34.3" font-family="Arial" font-size="14.00">&#45; names(&amp;self) &#45;&gt; &amp;BTreeSet&lt;XorName&gt;</text>
<text text-anchor="start" x="1311" y="-19.3" font-family="Arial" font-size="14.00">&#45; initialize_for_test(our_id: XorName, our_index: u64, names: BTreeSet&lt;XorName&gt;, threshold: usize, phase: Phase) &#45;&gt; KeyGen</text>
<polygon fill="none" stroke="black" points="1299,-4 1299,-687 2439,-687 2439,-4 1299,-4"/>
</a>
</g>
</g>
<!-- ndEncryptor&#45;&gt;ndKeyGen -->
<g id="edge1" class="edge"><title>ndEncryptor&#45;&gt;ndKeyGen</title>
<path fill="none" stroke="black" d="M1032.94,-756.914C1102.1,-722.963 1188.84,-680.387 1280.06,-635.607"/>
<polygon fill="black" stroke="black" points="1280.14,-635.566 1283.76,-629.331 1290.91,-630.278 1287.29,-636.512 1280.14,-635.566"/>
</g>
<!-- ndOutcome -->
<g id="node2" class="node"><title>ndOutcome</title>
<g id="a_node2_2"><a xlink:href="https://github.com/maidsafe/bls_dkg/blob/master/src/key_gen/outcome.rs#:~:text=struct%20Outcome" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="9,-873.5 9,-910.5 623,-910.5 623,-873.5 9,-873.5"/>
<polygon fill="none" stroke="black" points="9,-873.5 9,-910.5 623,-910.5 623,-873.5 9,-873.5"/>
<text text-anchor="start" x="284" y="-889.3" font-family="Arial" font-weight="bold" font-size="14.00">Outcome</text>
<polygon fill="white" stroke="none" points="9,-806.5 9,-873.5 623,-873.5 623,-806.5 9,-806.5"/>
<polygon fill="none" stroke="black" points="9,-806.5 9,-873.5 623,-873.5 623,-806.5 9,-806.5"/>
<text text-anchor="start" x="20" y="-851.3" font-family="Arial" font-size="14.00">+ public_key_set: PublicKeySet</text>
<text text-anchor="start" x="20" y="-836.3" font-family="Arial" font-size="14.00">+ secret_key_share: SecretKeyShare</text>
<text text-anchor="start" x="20" y="-821.3" font-family="Arial" font-size="14.00">+ index: usize</text>
<polygon fill="white" stroke="none" points="9,-754.5 9,-806.5 623,-806.5 623,-754.5 9,-754.5"/>
<polygon fill="none" stroke="black" points="9,-754.5 9,-806.5 623,-806.5 623,-754.5 9,-754.5"/>
<text text-anchor="start" x="20" y="-784.3" font-family="Arial" font-size="14.00">&#45; new(public_key_set: PublicKeySet, secret_key_share: SecretKeyShare, index: usize) &#45;&gt; Self</text>
<text text-anchor="start" x="20" y="-769.3" font-family="Arial" font-size="14.00">&#45; fmt(&amp;self, formatter: &amp;mut Formatter) &#45;&gt; fmt::Result</text>
<polygon fill="none" stroke="black" points="8,-753.5 8,-911.5 624,-911.5 624,-753.5 8,-753.5"/>
</a>
</g>
</g>
<!-- ndOutcome&#45;&gt;ndKeyGen -->
<g id="edge2" class="edge"><title>ndOutcome&#45;&gt;ndKeyGen</title>
<path fill="none" stroke="black" d="M570.51,-749.381C594.328,-741.781 618.11,-734.226 641,-727 849.467,-661.19 1078.17,-590.039 1281.11,-527.268"/>
<polygon fill="black" stroke="black" points="1290.76,-524.285 1282.53,-531.539 1285.98,-525.762 1281.21,-527.24 1281.21,-527.24 1281.21,-527.24 1285.98,-525.762 1279.88,-522.941 1290.76,-524.285 1290.76,-524.285"/>
</g>
<!-- ndError -->
<g id="node3" class="node"><title>ndError</title>
<g id="a_node3_3"><a xlink:href="https://github.com/maidsafe/bls_dkg/blob/master/src/key_gen/mod.rs#:~:text=enum%20Error" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="858,-1173.5 858,-1210.5 1163,-1210.5 1163,-1173.5 858,-1173.5"/>
<polygon fill="none" stroke="black" points="858,-1173.5 858,-1210.5 1163,-1210.5 1163,-1173.5 858,-1173.5"/>
<text text-anchor="start" x="992" y="-1189.3" font-family="Arial" font-weight="bold" font-size="14.00">Error</text>
<polygon fill="white" stroke="none" points="858,-1031.5 858,-1173.5 1163,-1173.5 1163,-1031.5 858,-1031.5"/>
<polygon fill="none" stroke="black" points="858,-1031.5 858,-1173.5 1163,-1173.5 1163,-1031.5 858,-1031.5"/>
<text text-anchor="start" x="869" y="-1151.3" font-family="Arial" font-size="14.00">Unknown</text>
<text text-anchor="start" x="869" y="-1136.3" font-family="Arial" font-size="14.00">UnknownSender</text>
<text text-anchor="start" x="869" y="-1121.3" font-family="Arial" font-size="14.00">Serialization(String)</text>
<text text-anchor="start" x="869" y="-1106.3" font-family="Arial" font-size="14.00">QuicP2P(String)</text>
<text text-anchor="start" x="869" y="-1091.3" font-family="Arial" font-size="14.00">Encryption</text>
<text text-anchor="start" x="869" y="-1076.3" font-family="Arial" font-size="14.00">TooManyNonVoters(BTreeSet&lt;u64&gt;)</text>
<text text-anchor="start" x="869" y="-1061.3" font-family="Arial" font-size="14.00">UnexpectedPhase</text>
<text text-anchor="start" x="869" y="-1046.3" font-family="Arial" font-size="14.00">MissingPart</text>
<polygon fill="white" stroke="none" points="858,-994.5 858,-1031.5 1163,-1031.5 1163,-994.5 858,-994.5"/>
<polygon fill="none" stroke="black" points="858,-994.5 858,-1031.5 1163,-1031.5 1163,-994.5 858,-994.5"/>
<text text-anchor="start" x="869" y="-1009.3" font-family="Arial" font-size="14.00">&#45; from(err: Box&lt;bincode::ErrorKind&gt;) &#45;&gt; Error</text>
<polygon fill="none" stroke="black" points="856.5,-993.5 856.5,-1211.5 1163.5,-1211.5 1163.5,-993.5 856.5,-993.5"/>
</a>
</g>
</g>
<!-- ndError&#45;&gt;ndEncryptor -->
<g id="edge3" class="edge"><title>ndError&#45;&gt;ndEncryptor</title>
<path fill="none" stroke="black" d="M956.04,-989.397C944.45,-965.318 932.393,-940.27 921.421,-917.476"/>
<polygon fill="black" stroke="black" points="916.952,-908.192 925.344,-915.251 919.121,-912.697 921.29,-917.202 921.29,-917.202 921.29,-917.202 919.121,-912.697 917.235,-919.154 916.952,-908.192 916.952,-908.192"/>
</g>
<!-- ndError&#45;&gt;ndKeyGen -->
<g id="edge4" class="edge"><title>ndError&#45;&gt;ndKeyGen</title>
<path fill="none" stroke="black" d="M1094.14,-989.191C1103.99,-972.611 1112.99,-955.279 1120,-938 1155.8,-849.696 1101.95,-804.061 1158,-727 1192.91,-679.004 1235.75,-636.47 1282.94,-598.905"/>
<polygon fill="black" stroke="black" points="1290.86,-592.678 1285.78,-602.396 1286.93,-595.768 1283,-598.858 1283,-598.858 1283,-598.858 1286.93,-595.768 1280.22,-595.321 1290.86,-592.678 1290.86,-592.678"/>
</g>
<!-- ndPart -->
<g id="node4" class="node"><title>ndPart</title>
<g id="a_node4_4"><a xlink:href="https://github.com/maidsafe/bls_dkg/blob/master/src/key_gen/mod.rs#:~:text=struct%20Part" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="1177,-873.5 1177,-910.5 1504,-910.5 1504,-873.5 1177,-873.5"/>
<polygon fill="none" stroke="black" points="1177,-873.5 1177,-910.5 1504,-910.5 1504,-873.5 1177,-873.5"/>
<text text-anchor="start" x="1326" y="-889.3" font-family="Arial" font-weight="bold" font-size="14.00">Part</text>
<polygon fill="white" stroke="none" points="1177,-791.5 1177,-873.5 1504,-873.5 1504,-791.5 1177,-791.5"/>
<polygon fill="none" stroke="black" points="1177,-791.5 1177,-873.5 1504,-873.5 1504,-791.5 1177,-791.5"/>
<text text-anchor="start" x="1188" y="-851.3" font-family="Arial" font-size="14.00">&#45; receiver: u64</text>
<text text-anchor="start" x="1188" y="-836.3" font-family="Arial" font-size="14.00">&#45; commitment: BivarCommitment</text>
<text text-anchor="start" x="1188" y="-821.3" font-family="Arial" font-size="14.00">&#45; ser_row: Vec&lt;u8&gt;</text>
<text text-anchor="start" x="1188" y="-806.3" font-family="Arial" font-size="14.00">&#45; enc_rows: Vec&lt;Vec&lt;u8&gt;&gt;</text>
<polygon fill="white" stroke="none" points="1177,-754.5 1177,-791.5 1504,-791.5 1504,-754.5 1177,-754.5"/>
<polygon fill="none" stroke="black" points="1177,-754.5 1177,-791.5 1504,-791.5 1504,-754.5 1177,-754.5"/>
<text text-anchor="start" x="1188" y="-769.3" font-family="Arial" font-size="14.00">&#45; fmt(&amp;self, f: &amp;mut Formatter&lt;&#39;_&gt;) &#45;&gt; fmt::Result</text>
<polygon fill="none" stroke="black" points="1175.5,-753.5 1175.5,-911.5 1504.5,-911.5 1504.5,-753.5 1175.5,-753.5"/>
</a>
</g>
</g>
<!-- ndPart&#45;&gt;ndKeyGen -->
<g id="edge5" class="edge"><title>ndPart&#45;&gt;ndKeyGen</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1429.74,-749.226C1446.8,-733.581 1465.62,-716.325 1485.59,-698.022"/>
<polygon fill="black" stroke="black" points="1492.99,-691.233 1488.66,-701.308 1489.31,-694.612 1485.62,-697.991 1485.62,-697.991 1485.62,-697.991 1489.31,-694.612 1482.58,-694.674 1492.99,-691.233 1492.99,-691.233"/>
</g>
<!-- ndProposalState -->
<g id="node5" class="node"><title>ndProposalState</title>
<g id="a_node5_5"><a xlink:href="https://github.com/maidsafe/bls_dkg/blob/master/src/key_gen/mod.rs#:~:text=struct%20ProposalState" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="1199,-1158.5 1199,-1195.5 1573,-1195.5 1573,-1158.5 1199,-1158.5"/>
<polygon fill="none" stroke="black" points="1199,-1158.5 1199,-1195.5 1573,-1195.5 1573,-1158.5 1199,-1158.5"/>
<text text-anchor="start" x="1336.5" y="-1174.3" font-family="Arial" font-weight="bold" font-size="14.00">ProposalState</text>
<polygon fill="white" stroke="none" points="1199,-1076.5 1199,-1158.5 1573,-1158.5 1573,-1076.5 1199,-1076.5"/>
<polygon fill="none" stroke="black" points="1199,-1076.5 1199,-1158.5 1573,-1158.5 1573,-1076.5 1199,-1076.5"/>
<text text-anchor="start" x="1210" y="-1136.3" font-family="Arial" font-size="14.00">&#45; commitment: BivarCommitment</text>
<text text-anchor="start" x="1210" y="-1121.3" font-family="Arial" font-size="14.00">&#45; values: BTreeMap&lt;u64, Fr&gt;</text>
<text text-anchor="start" x="1210" y="-1106.3" font-family="Arial" font-size="14.00">&#45; enc_values: Vec&lt;Vec&lt;u8&gt;&gt;</text>
<text text-anchor="start" x="1210" y="-1091.3" font-family="Arial" font-size="14.00">&#45; acks: BTreeSet&lt;u64&gt;</text>
<polygon fill="white" stroke="none" points="1199,-1009.5 1199,-1076.5 1573,-1076.5 1573,-1009.5 1199,-1009.5"/>
<polygon fill="none" stroke="black" points="1199,-1009.5 1199,-1076.5 1573,-1076.5 1573,-1009.5 1199,-1009.5"/>
<text text-anchor="start" x="1210" y="-1054.3" font-family="Arial" font-size="14.00">&#45; new(commitment: BivarCommitment) &#45;&gt; ProposalState</text>
<text text-anchor="start" x="1210" y="-1039.3" font-family="Arial" font-size="14.00">&#45; is_complete(&amp;self, threshold: usize) &#45;&gt; bool</text>
<text text-anchor="start" x="1210" y="-1024.3" font-family="Arial" font-size="14.00">&#45; deserialize(deserializer: D) &#45;&gt; Result&lt;Self, D::Error&gt;</text>
<polygon fill="none" stroke="black" points="1198,-1008.5 1198,-1196.5 1574,-1196.5 1574,-1008.5 1198,-1008.5"/>
</a>
</g>
</g>
<!-- ndPartOutcome -->
<g id="node6" class="node"><title>ndPartOutcome</title>
<g id="a_node6_6"><a xlink:href="https://github.com/maidsafe/bls_dkg/blob/master/src/key_gen/mod.rs#:~:text=enum%20PartOutcome" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="3854,-352.5 3854,-389.5 4084,-389.5 4084,-352.5 3854,-352.5"/>
<polygon fill="none" stroke="black" points="3854,-352.5 3854,-389.5 4084,-389.5 4084,-352.5 3854,-352.5"/>
<text text-anchor="start" x="3923" y="-368.3" font-family="Arial" font-weight="bold" font-size="14.00">PartOutcome</text>
<polygon fill="white" stroke="none" points="3854,-300.5 3854,-352.5 4084,-352.5 4084,-300.5 3854,-300.5"/>
<polygon fill="none" stroke="black" points="3854,-300.5 3854,-352.5 4084,-352.5 4084,-300.5 3854,-300.5"/>
<text text-anchor="start" x="3865" y="-330.3" font-family="Arial" font-size="14.00">Valid(Option&lt;Acknowledgment&gt;)</text>
<text text-anchor="start" x="3865" y="-315.3" font-family="Arial" font-size="14.00">Invalid(PartFault)</text>
<polygon fill="none" stroke="black" points="3853,-300 3853,-391 4085,-391 4085,-300 3853,-300"/>
</a>
</g>
</g>
<!-- ndPhase -->
<g id="node7" class="node"><title>ndPhase</title>
<g id="a_node7_7"><a xlink:href="https://github.com/maidsafe/bls_dkg/blob/master/src/key_gen/mod.rs#:~:text=enum%20Phase" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="1539,-869.5 1539,-906.5 1643,-906.5 1643,-869.5 1539,-869.5"/>
<polygon fill="none" stroke="black" points="1539,-869.5 1539,-906.5 1643,-906.5 1643,-869.5 1539,-869.5"/>
<text text-anchor="start" x="1569" y="-885.3" font-family="Arial" font-weight="bold" font-size="14.00">Phase</text>
<polygon fill="white" stroke="none" points="1539,-757.5 1539,-869.5 1643,-869.5 1643,-757.5 1539,-757.5"/>
<polygon fill="none" stroke="black" points="1539,-757.5 1539,-869.5 1643,-869.5 1643,-757.5 1539,-757.5"/>
<text text-anchor="start" x="1550" y="-847.3" font-family="Arial" font-size="14.00">Initialization</text>
<text text-anchor="start" x="1550" y="-832.3" font-family="Arial" font-size="14.00">Contribution</text>
<text text-anchor="start" x="1550" y="-817.3" font-family="Arial" font-size="14.00">Complaining</text>
<text text-anchor="start" x="1550" y="-802.3" font-family="Arial" font-size="14.00">Justification</text>
<text text-anchor="start" x="1550" y="-787.3" font-family="Arial" font-size="14.00">Commitment</text>
<text text-anchor="start" x="1550" y="-772.3" font-family="Arial" font-size="14.00">Finalization</text>
<polygon fill="none" stroke="black" points="1538,-757 1538,-908 1644,-908 1644,-757 1538,-757"/>
</a>
</g>
</g>
<!-- ndPhase&#45;&gt;ndKeyGen -->
<g id="edge6" class="edge"><title>ndPhase&#45;&gt;ndKeyGen</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1636.13,-752.767C1645.04,-737.222 1654.92,-719.991 1665.43,-701.656"/>
<polygon fill="black" stroke="black" points="1665.54,-701.46 1665.05,-694.266 1671.51,-691.049 1671.99,-698.244 1665.54,-701.46"/>
</g>
<!-- ndInitializationAccumulator -->
<g id="node8" class="node"><title>ndInitializationAccumulator</title>
<g id="a_node8_8"><a xlink:href="https://github.com/maidsafe/bls_dkg/blob/master/src/key_gen/mod.rs#:~:text=struct%20InitializationAccumulator" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="1679,-865.5 1679,-902.5 2617,-902.5 2617,-865.5 1679,-865.5"/>
<polygon fill="none" stroke="black" points="1679,-865.5 1679,-902.5 2617,-902.5 2617,-865.5 1679,-865.5"/>
<text text-anchor="start" x="2062" y="-881.3" font-family="Arial" font-weight="bold" font-size="14.00">InitializationAccumulator</text>
<polygon fill="white" stroke="none" points="1679,-813.5 1679,-865.5 2617,-865.5 2617,-813.5 1679,-813.5"/>
<polygon fill="none" stroke="black" points="1679,-813.5 1679,-865.5 2617,-865.5 2617,-813.5 1679,-813.5"/>
<text text-anchor="start" x="1690" y="-843.3" font-family="Arial" font-size="14.00">&#45; senders: BTreeSet&lt;u64&gt;</text>
<text text-anchor="start" x="1690" y="-828.3" font-family="Arial" font-size="14.00">&#45; initializations: BTreeMap&lt;(usize, usize, BTreeSet&lt;XorName&gt;), usize&gt;</text>
<polygon fill="white" stroke="none" points="1679,-761.5 1679,-813.5 2617,-813.5 2617,-761.5 1679,-761.5"/>
<polygon fill="none" stroke="black" points="1679,-761.5 1679,-813.5 2617,-813.5 2617,-761.5 1679,-761.5"/>
<text text-anchor="start" x="1690" y="-791.3" font-family="Arial" font-size="14.00">&#45; new() &#45;&gt; InitializationAccumulator</text>
<text text-anchor="start" x="1690" y="-776.3" font-family="Arial" font-size="14.00">&#45; add_initialization(&amp;mut self, m: usize, n: usize, sender: u64, member_list: BTreeSet&lt;XorName&gt;) &#45;&gt; Option&lt;(usize, usize, BTreeSet&lt;XorName&gt;)&gt;</text>
<polygon fill="none" stroke="black" points="1678,-761 1678,-904 2618,-904 2618,-761 1678,-761"/>
</a>
</g>
</g>
<!-- ndInitializationAccumulator&#45;&gt;ndKeyGen -->
<g id="edge7" class="edge"><title>ndInitializationAccumulator&#45;&gt;ndKeyGen</title>
<path fill="none" stroke="black" d="M2105.02,-756.782C2095.52,-740.264 2084.84,-721.709 2073.42,-701.855"/>
<polygon fill="black" stroke="black" points="2073.37,-701.759 2066.91,-698.553 2067.38,-691.358 2073.84,-694.564 2073.37,-701.759"/>
</g>
<!-- ndComplaintsAccumulator -->
<g id="node9" class="node"><title>ndComplaintsAccumulator</title>
<g id="a_node9_9"><a xlink:href="https://github.com/maidsafe/bls_dkg/blob/master/src/key_gen/mod.rs#:~:text=struct%20ComplaintsAccumulator" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="2653,-880.5 2653,-917.5 3223,-917.5 3223,-880.5 2653,-880.5"/>
<polygon fill="none" stroke="black" points="2653,-880.5 2653,-917.5 3223,-917.5 3223,-880.5 2653,-880.5"/>
<text text-anchor="start" x="2854" y="-896.3" font-family="Arial" font-weight="bold" font-size="14.00">ComplaintsAccumulator</text>
<polygon fill="white" stroke="none" points="2653,-813.5 2653,-880.5 3223,-880.5 3223,-813.5 2653,-813.5"/>
<polygon fill="none" stroke="black" points="2653,-813.5 2653,-880.5 3223,-880.5 3223,-813.5 2653,-813.5"/>
<text text-anchor="start" x="2664" y="-858.3" font-family="Arial" font-size="14.00">&#45; names: BTreeSet&lt;XorName&gt;</text>
<text text-anchor="start" x="2664" y="-843.3" font-family="Arial" font-size="14.00">&#45; threshold: usize</text>
<text text-anchor="start" x="2664" y="-828.3" font-family="Arial" font-size="14.00">&#45; complaints: BTreeMap&lt;XorName, BTreeSet&lt;XorName&gt;&gt;</text>
<polygon fill="white" stroke="none" points="2653,-746.5 2653,-813.5 3223,-813.5 3223,-746.5 2653,-746.5"/>
<polygon fill="none" stroke="black" points="2653,-746.5 2653,-813.5 3223,-813.5 3223,-746.5 2653,-746.5"/>
<text text-anchor="start" x="2664" y="-791.3" font-family="Arial" font-size="14.00">&#45; new(names: BTreeSet&lt;XorName&gt;, threshold: usize) &#45;&gt; ComplaintsAccumulator</text>
<text text-anchor="start" x="2664" y="-776.3" font-family="Arial" font-size="14.00">&#45; add_complaint(&amp;mut self, sender_id: XorName, target_id: XorName, _msg: Vec&lt;u8&gt;)</text>
<text text-anchor="start" x="2664" y="-761.3" font-family="Arial" font-size="14.00">&#45; finalize_complaining_phase(&amp;self) &#45;&gt; BTreeSet&lt;XorName&gt;</text>
<polygon fill="none" stroke="black" points="2652,-746 2652,-919 3224,-919 3224,-746 2652,-746"/>
</a>
</g>
</g>
<!-- ndComplaintsAccumulator&#45;&gt;ndKeyGen -->
<g id="edge8" class="edge"><title>ndComplaintsAccumulator&#45;&gt;ndKeyGen</title>
<path fill="none" stroke="black" d="M2740.68,-741.978C2659.19,-705.006 2560.03,-660.016 2458.19,-613.812"/>
<polygon fill="black" stroke="black" points="2457.97,-613.715 2450.86,-614.878 2447.05,-608.757 2454.16,-607.593 2457.97,-613.715"/>
</g>
<!-- ndAcknowledgmentFault -->
<g id="node11" class="node"><title>ndAcknowledgmentFault</title>
<g id="a_node11_10"><a xlink:href="https://github.com/maidsafe/bls_dkg/blob/master/src/key_gen/mod.rs#:~:text=enum%20AcknowledgmentFault" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="3260,-862.5 3260,-899.5 3437,-899.5 3437,-862.5 3260,-862.5"/>
<polygon fill="none" stroke="black" points="3260,-862.5 3260,-899.5 3437,-899.5 3437,-862.5 3260,-862.5"/>
<text text-anchor="start" x="3271" y="-878.3" font-family="Arial" font-weight="bold" font-size="14.00">AcknowledgmentFault</text>
<polygon fill="white" stroke="none" points="3260,-765.5 3260,-862.5 3437,-862.5 3437,-765.5 3260,-765.5"/>
<polygon fill="none" stroke="black" points="3260,-765.5 3260,-862.5 3437,-862.5 3437,-765.5 3260,-765.5"/>
<text text-anchor="start" x="3271" y="-840.3" font-family="Arial" font-size="14.00">ValueCount</text>
<text text-anchor="start" x="3271" y="-825.3" font-family="Arial" font-size="14.00">MissingPart</text>
<text text-anchor="start" x="3271" y="-810.3" font-family="Arial" font-size="14.00">DecryptValue</text>
<text text-anchor="start" x="3271" y="-795.3" font-family="Arial" font-size="14.00">DeserializeValue</text>
<text text-anchor="start" x="3271" y="-780.3" font-family="Arial" font-size="14.00">ValueAcknowledgment</text>
<polygon fill="none" stroke="black" points="3258.5,-764.5 3258.5,-900.5 3437.5,-900.5 3437.5,-764.5 3258.5,-764.5"/>
</a>
</g>
</g>
<!-- ndAcknowledgmentFault&#45;&gt;ndKeyGen -->
<g id="edge9" class="edge"><title>ndAcknowledgmentFault&#45;&gt;ndKeyGen</title>
<path fill="none" stroke="black" d="M3285.28,-760.252C3271.68,-747.814 3256.64,-735.999 3241,-727 3001.68,-589.322 2710.02,-499.35 2457.24,-441.665"/>
<polygon fill="black" stroke="black" points="2447.13,-439.37 2457.88,-437.195 2452,-440.477 2456.88,-441.583 2456.88,-441.583 2456.88,-441.583 2452,-440.477 2455.88,-445.972 2447.13,-439.37 2447.13,-439.37"/>
</g>
<!-- ndPartFault -->
<g id="node12" class="node"><title>ndPartFault</title>
<g id="a_node12_11"><a xlink:href="https://github.com/maidsafe/bls_dkg/blob/master/src/key_gen/mod.rs#:~:text=enum%20PartFault" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="3889,-862.5 3889,-899.5 4049,-899.5 4049,-862.5 3889,-862.5"/>
<polygon fill="none" stroke="black" points="3889,-862.5 3889,-899.5 4049,-899.5 4049,-862.5 3889,-862.5"/>
<text text-anchor="start" x="3937" y="-878.3" font-family="Arial" font-weight="bold" font-size="14.00">PartFault</text>
<polygon fill="white" stroke="none" points="3889,-765.5 3889,-862.5 4049,-862.5 4049,-765.5 3889,-765.5"/>
<polygon fill="none" stroke="black" points="3889,-765.5 3889,-862.5 4049,-862.5 4049,-765.5 3889,-765.5"/>
<text text-anchor="start" x="3900" y="-840.3" font-family="Arial" font-size="14.00">RowCount</text>
<text text-anchor="start" x="3900" y="-825.3" font-family="Arial" font-size="14.00">MultipleParts</text>
<text text-anchor="start" x="3900" y="-810.3" font-family="Arial" font-size="14.00">DecryptRow</text>
<text text-anchor="start" x="3900" y="-795.3" font-family="Arial" font-size="14.00">DeserializeRow</text>
<text text-anchor="start" x="3900" y="-780.3" font-family="Arial" font-size="14.00">RowAcknowledgment</text>
<polygon fill="none" stroke="black" points="3888,-764.5 3888,-900.5 4050,-900.5 4050,-764.5 3888,-764.5"/>
</a>
</g>
</g>
<!-- ndPartFault&#45;&gt;ndPartOutcome -->
<g id="edge10" class="edge"><title>ndPartFault&#45;&gt;ndPartOutcome</title>
<path fill="none" stroke="black" d="M3969,-760.457C3969,-665.092 3969,-497.296 3969,-407.41"/>
<polygon fill="black" stroke="black" points="3969,-407.26 3965,-401.26 3969,-395.26 3973,-401.26 3969,-407.26"/>
</g>
<!-- ndPartFault&#45;&gt;ndKeyGen -->
<g id="edge11" class="edge"><title>ndPartFault&#45;&gt;ndKeyGen</title>
<path fill="none" stroke="black" d="M3913.95,-760.251C3901.11,-747.501 3886.58,-735.567 3871,-727 3632.55,-595.912 2957.84,-484.98 2457.24,-417.31"/>
<polygon fill="black" stroke="black" points="2447.29,-415.969 2457.81,-412.847 2452.25,-416.638 2457.2,-417.306 2457.2,-417.306 2457.2,-417.306 2452.25,-416.638 2456.6,-421.766 2447.29,-415.969 2447.29,-415.969"/>
</g>
<!-- ndMessage -->
<g id="node13" class="node"><title>ndMessage</title>
<g id="a_node13_12"><a xlink:href="https://github.com/maidsafe/bls_dkg/blob/master/src/key_gen/message.rs#:~:text=enum%20Message" xlink:title="&lt;TABLE&gt;">
<polygon fill="yellow" stroke="none" points="3473,-895.5 3473,-932.5 3853,-932.5 3853,-895.5 3473,-895.5"/>
<polygon fill="none" stroke="black" points="3473,-895.5 3473,-932.5 3853,-932.5 3853,-895.5 3473,-895.5"/>
<text text-anchor="start" x="3631" y="-911.3" font-family="Arial" font-weight="bold" font-size="14.00">Message</text>
<polygon fill="white" stroke="none" points="3473,-798.5 3473,-895.5 3853,-895.5 3853,-798.5 3473,-798.5"/>
<polygon fill="none" stroke="black" points="3473,-798.5 3473,-895.5 3853,-895.5 3853,-798.5 3473,-798.5"/>
<text text-anchor="start" x="3484" y="-873.3" font-family="Arial" font-size="14.00">Initialization</text>
<text text-anchor="start" x="3484" y="-858.3" font-family="Arial" font-size="14.00">Proposal</text>
<text text-anchor="start" x="3484" y="-843.3" font-family="Arial" font-size="14.00">Complaint</text>
<text text-anchor="start" x="3484" y="-828.3" font-family="Arial" font-size="14.00">Justification</text>
<text text-anchor="start" x="3484" y="-813.3" font-family="Arial" font-size="14.00">Acknowledgment</text>
<polygon fill="white" stroke="none" points="3473,-731.5 3473,-798.5 3853,-798.5 3853,-731.5 3473,-731.5"/>
<polygon fill="none" stroke="black" points="3473,-731.5 3473,-798.5 3853,-798.5 3853,-731.5 3473,-731.5"/>
<text text-anchor="start" x="3484" y="-776.3" font-family="Arial" font-size="14.00">&#45; creator(&amp;self) &#45;&gt; u64</text>
<text text-anchor="start" x="3484" y="-761.3" font-family="Arial" font-size="14.00">&#45; id(&amp;self) &#45;&gt; XorName</text>
<text text-anchor="start" x="3484" y="-746.3" font-family="Arial" font-size="14.00">&#45; fmt(&amp;self, formatter: &amp;mut fmt::Formatter) &#45;&gt; fmt::Result</text>
<polygon fill="none" stroke="black" points="3472,-731 3472,-934 3854,-934 3854,-731 3472,-731"/>
</a>
</g>
</g>
<!-- ndMessage&#45;&gt;ndKeyGen -->
<g id="edge12" class="edge"><title>ndMessage&#45;&gt;ndKeyGen</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M3463.86,-730.315C3460.9,-729.182 3457.94,-728.075 3455,-727 3133.51,-609.461 2762,-518.084 2459.39,-454.37"/>
<polygon fill="black" stroke="black" points="2459.04,-454.297 2452.35,-456.978 2447.3,-451.831 2453.99,-449.149 2459.04,-454.297"/>
</g>
<!-- ndPeerId -->
<g id="node14" class="node"><title>ndPeerId</title>
<g id="a_node14_13"><a xlink:href="https://github.com/maidsafe/bls_dkg/blob/master/src/dev_utils/peer.rs#:~:text=struct%20PeerId" xlink:title="&lt;TABLE&gt;">
<polygon fill="lightblue" stroke="none" points="1609,-1188.5 1609,-1225.5 1990,-1225.5 1990,-1188.5 1609,-1188.5"/>
<polygon fill="none" stroke="black" points="1609,-1188.5 1609,-1225.5 1990,-1225.5 1990,-1188.5 1609,-1188.5"/>
<text text-anchor="start" x="1776.5" y="-1204.3" font-family="Arial" font-weight="bold" font-size="14.00">PeerId</text>
<polygon fill="white" stroke="none" points="1609,-1121.5 1609,-1188.5 1990,-1188.5 1990,-1121.5 1609,-1121.5"/>
<polygon fill="none" stroke="black" points="1609,-1121.5 1609,-1188.5 1990,-1188.5 1990,-1121.5 1609,-1121.5"/>
<text text-anchor="start" x="1620" y="-1166.3" font-family="Arial" font-size="14.00">&#45; id: XorName</text>
<text text-anchor="start" x="1620" y="-1151.3" font-family="Arial" font-size="14.00">&#45; public_key: PublicKey</text>
<text text-anchor="start" x="1620" y="-1136.3" font-family="Arial" font-size="14.00">&#45; secret_key: SecretKey</text>
<polygon fill="white" stroke="none" points="1609,-978.5 1609,-1121.5 1990,-1121.5 1990,-978.5 1609,-978.5"/>
<polygon fill="none" stroke="black" points="1609,-978.5 1609,-1121.5 1990,-1121.5 1990,-978.5 1609,-978.5"/>
<text text-anchor="start" x="1620" y="-1099.3" font-family="Arial" font-size="14.00">&#45; new() &#45;&gt; Self</text>
<text text-anchor="start" x="1620" y="-1084.3" font-family="Arial" font-size="14.00">&#45; name(&amp;self) &#45;&gt; XorName</text>
<text text-anchor="start" x="1620" y="-1069.3" font-family="Arial" font-size="14.00">&#45; fmt(&amp;self, formatter: &amp;mut Formatter) &#45;&gt; fmt::Result</text>
<text text-anchor="start" x="1620" y="-1054.3" font-family="Arial" font-size="14.00">&#45; hash(&amp;self, state: &amp;mut H)</text>
<text text-anchor="start" x="1620" y="-1039.3" font-family="Arial" font-size="14.00">&#45; eq(&amp;self, other: &amp;PeerId) &#45;&gt; bool</text>
<text text-anchor="start" x="1620" y="-1007.5" font-family="Arial" font-size="14.00">&#45; partial_cmp(&amp;self, other: &amp;PeerId) &#45;&gt; Option&lt;Ordering&gt;</text>
<text text-anchor="start" x="1620" y="-992.5" font-family="Arial" font-size="14.00">&#45; cmp(&amp;self, other: &amp;PeerId) &#45;&gt; Ordering</text>
<polygon fill="none" stroke="black" points="1607.5,-978 1607.5,-1227 1990.5,-1227 1990.5,-978 1607.5,-978"/>
</a>
</g>
</g>
</g>
</svg>
